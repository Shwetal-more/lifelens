function BO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={exports:{}},Hl={},xm={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function VO(){if(JC)return qe;JC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function _(U,B,he){this.props=U,this.context=B,this.refs=T,this.updater=he||w}_.prototype.isReactComponent={},_.prototype.setState=function(U,B){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,B,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function I(){}I.prototype=_.prototype;function A(U,B,he){this.props=U,this.context=B,this.refs=T,this.updater=he||w}var k=A.prototype=new I;k.constructor=A,C(k,_.prototype),k.isPureReactComponent=!0;var M=Array.isArray,N=Object.prototype.hasOwnProperty,R={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function j(U,B,he){var we,Ae={},Te=null,He=null;if(B!=null)for(we in B.ref!==void 0&&(He=B.ref),B.key!==void 0&&(Te=""+B.key),B)N.call(B,we)&&!O.hasOwnProperty(we)&&(Ae[we]=B[we]);var Ue=arguments.length-2;if(Ue===1)Ae.children=he;else if(1<Ue){for(var te=Array(Ue),Pe=0;Pe<Ue;Pe++)te[Pe]=arguments[Pe+2];Ae.children=te}if(U&&U.defaultProps)for(we in Ue=U.defaultProps,Ue)Ae[we]===void 0&&(Ae[we]=Ue[we]);return{$$typeof:t,type:U,key:Te,ref:He,props:Ae,_owner:R.current}}function W(U,B){return{$$typeof:t,type:U.type,key:B,ref:U.ref,props:U.props,_owner:U._owner}}function K(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function G(U){var B={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return B[he]})}var Y=/\/+/g;function ie(U,B){return typeof U=="object"&&U!==null&&U.key!=null?G(""+U.key):B.toString(36)}function ce(U,B,he,we,Ae){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var He=!1;if(U===null)He=!0;else switch(Te){case"string":case"number":He=!0;break;case"object":switch(U.$$typeof){case t:case e:He=!0}}if(He)return He=U,Ae=Ae(He),U=we===""?"."+ie(He,0):we,M(Ae)?(he="",U!=null&&(he=U.replace(Y,"$&/")+"/"),ce(Ae,B,he,"",function(Pe){return Pe})):Ae!=null&&(K(Ae)&&(Ae=W(Ae,he+(!Ae.key||He&&He.key===Ae.key?"":(""+Ae.key).replace(Y,"$&/")+"/")+U)),B.push(Ae)),1;if(He=0,we=we===""?".":we+":",M(U))for(var Ue=0;Ue<U.length;Ue++){Te=U[Ue];var te=we+ie(Te,Ue);He+=ce(Te,B,he,te,Ae)}else if(te=y(U),typeof te=="function")for(U=te.call(U),Ue=0;!(Te=U.next()).done;)Te=Te.value,te=we+ie(Te,Ue++),He+=ce(Te,B,he,te,Ae);else if(Te==="object")throw B=String(U),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return He}function de(U,B,he){if(U==null)return U;var we=[],Ae=0;return ce(U,we,"","",function(Te){return B.call(he,Te,Ae++)}),we}function pe(U){if(U._status===-1){var B=U._result;B=B(),B.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=B)}if(U._status===1)return U._result.default;throw U._result}var be={current:null},Q={transition:null},se={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Q,ReactCurrentOwner:R};function le(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:de,forEach:function(U,B,he){de(U,function(){B.apply(this,arguments)},he)},count:function(U){var B=0;return de(U,function(){B++}),B},toArray:function(U){return de(U,function(B){return B})||[]},only:function(U){if(!K(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qe.Component=_,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=A,qe.StrictMode=r,qe.Suspense=c,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,qe.act=le,qe.cloneElement=function(U,B,he){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var we=C({},U.props),Ae=U.key,Te=U.ref,He=U._owner;if(B!=null){if(B.ref!==void 0&&(Te=B.ref,He=R.current),B.key!==void 0&&(Ae=""+B.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(te in B)N.call(B,te)&&!O.hasOwnProperty(te)&&(we[te]=B[te]===void 0&&Ue!==void 0?Ue[te]:B[te])}var te=arguments.length-2;if(te===1)we.children=he;else if(1<te){Ue=Array(te);for(var Pe=0;Pe<te;Pe++)Ue[Pe]=arguments[Pe+2];we.children=Ue}return{$$typeof:t,type:U.type,key:Ae,ref:Te,props:we,_owner:He}},qe.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},qe.createElement=j,qe.createFactory=function(U){var B=j.bind(null,U);return B.type=U,B},qe.createRef=function(){return{current:null}},qe.forwardRef=function(U){return{$$typeof:u,render:U}},qe.isValidElement=K,qe.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:pe}},qe.memo=function(U,B){return{$$typeof:f,type:U,compare:B===void 0?null:B}},qe.startTransition=function(U){var B=Q.transition;Q.transition={};try{U()}finally{Q.transition=B}},qe.unstable_act=le,qe.useCallback=function(U,B){return be.current.useCallback(U,B)},qe.useContext=function(U){return be.current.useContext(U)},qe.useDebugValue=function(){},qe.useDeferredValue=function(U){return be.current.useDeferredValue(U)},qe.useEffect=function(U,B){return be.current.useEffect(U,B)},qe.useId=function(){return be.current.useId()},qe.useImperativeHandle=function(U,B,he){return be.current.useImperativeHandle(U,B,he)},qe.useInsertionEffect=function(U,B){return be.current.useInsertionEffect(U,B)},qe.useLayoutEffect=function(U,B){return be.current.useLayoutEffect(U,B)},qe.useMemo=function(U,B){return be.current.useMemo(U,B)},qe.useReducer=function(U,B,he){return be.current.useReducer(U,B,he)},qe.useRef=function(U){return be.current.useRef(U)},qe.useState=function(U){return be.current.useState(U)},qe.useSyncExternalStore=function(U,B,he){return be.current.useSyncExternalStore(U,B,he)},qe.useTransition=function(){return be.current.useTransition()},qe.version="18.3.1",qe}var XC;function Ga(){return XC||(XC=1,xm.exports=VO()),xm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function WO(){if(QC)return Hl;QC=1;var t=Ga(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var h,g={},y=null,w=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(g[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)g[h]===void 0&&(g[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:w,props:g,_owner:i.current}}return Hl.Fragment=n,Hl.jsx=a,Hl.jsxs=a,Hl}var ZC;function qO(){return ZC||(ZC=1,vm.exports=WO()),vm.exports}var x=qO(),b=Ga();const mA=Gr(b),HO=BO({__proto__:null,default:mA},[b]);var pd={},wm={exports:{}},$n={},Sm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function GO(){return eT||(eT=1,(function(t){function e(Q,se){var le=Q.length;Q.push(se);e:for(;0<le;){var U=le-1>>>1,B=Q[U];if(0<i(B,se))Q[U]=se,Q[le]=B,le=U;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var se=Q[0],le=Q.pop();if(le!==se){Q[0]=le;e:for(var U=0,B=Q.length,he=B>>>1;U<he;){var we=2*(U+1)-1,Ae=Q[we],Te=we+1,He=Q[Te];if(0>i(Ae,le))Te<B&&0>i(He,Ae)?(Q[U]=He,Q[Te]=le,U=Te):(Q[U]=Ae,Q[we]=le,U=we);else if(Te<B&&0>i(He,le))Q[U]=He,Q[Te]=le,U=Te;else break e}}return se}function i(Q,se){var le=Q.sortIndex-se.sortIndex;return le!==0?le:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,g=null,y=3,w=!1,C=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=Q)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function M(Q){if(T=!1,k(Q),!C)if(n(c)!==null)C=!0,pe(N);else{var se=n(f);se!==null&&be(M,se.startTime-Q)}}function N(Q,se){C=!1,T&&(T=!1,I(j),j=-1),w=!0;var le=y;try{for(k(se),g=n(c);g!==null&&(!(g.expirationTime>se)||Q&&!G());){var U=g.callback;if(typeof U=="function"){g.callback=null,y=g.priorityLevel;var B=U(g.expirationTime<=se);se=t.unstable_now(),typeof B=="function"?g.callback=B:g===n(c)&&r(c),k(se)}else r(c);g=n(c)}if(g!==null)var he=!0;else{var we=n(f);we!==null&&be(M,we.startTime-se),he=!1}return he}finally{g=null,y=le,w=!1}}var R=!1,O=null,j=-1,W=5,K=-1;function G(){return!(t.unstable_now()-K<W)}function Y(){if(O!==null){var Q=t.unstable_now();K=Q;var se=!0;try{se=O(!0,Q)}finally{se?ie():(R=!1,O=null)}}else R=!1}var ie;if(typeof A=="function")ie=function(){A(Y)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,de=ce.port2;ce.port1.onmessage=Y,ie=function(){de.postMessage(null)}}else ie=function(){_(Y,0)};function pe(Q){O=Q,R||(R=!0,ie())}function be(Q,se){j=_(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,pe(N))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var le=y;y=se;try{return Q()}finally{y=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=y;y=Q;try{return se()}finally{y=le}},t.unstable_scheduleCallback=function(Q,se,le){var U=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=le+B,Q={id:h++,callback:se,priorityLevel:Q,startTime:le,expirationTime:B,sortIndex:-1},le>U?(Q.sortIndex=le,e(f,Q),n(c)===null&&Q===n(f)&&(T?(I(j),j=-1):T=!0,be(M,le-U))):(Q.sortIndex=B,e(c,Q),C||w||(C=!0,pe(N))),Q},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(Q){var se=y;return function(){var le=y;y=se;try{return Q.apply(this,arguments)}finally{y=le}}}})(Cm)),Cm}var tT;function zO(){return tT||(tT=1,Sm.exports=GO()),Sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function KO(){if(nT)return $n;nT=1;var t=Ga(),e=zO();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(s){return c.call(g,s)?!0:c.call(h,s)?!1:f.test(s)?g[s]=!0:(h[s]=!0,!1)}function w(s,l,m,v){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,l,m,v){if(l===null||typeof l>"u"||w(s,l,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(s,l,m,v,S,E,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=s,this.type=l,this.sanitizeURL=E,this.removeEmptyString=P}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];_[l]=new T(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(I,A);_[l]=new T(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(I,A);_[l]=new T(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(I,A);_[l]=new T(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,l,m,v){var S=_.hasOwnProperty(l)?_[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(C(l,m,S,v)&&(m=null),v||S===null?y(l)&&(m===null?s.removeAttribute(l):s.setAttribute(l,""+m)):S.mustUseProperty?s[S.propertyName]=m===null?S.type===3?!1:"":m:(l=S.attributeName,v=S.attributeNamespace,m===null?s.removeAttribute(l):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,v?s.setAttributeNS(v,l,m):s.setAttribute(l,m))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,U;function B(s){if(U===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);U=l&&l[1]||""}return`
`+U+s}var he=!1;function we(s,l){if(!s||he)return"";he=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(q){var v=q}Reflect.construct(s,[],l)}else{try{l.call()}catch(q){v=q}s.call(l.prototype)}else{try{throw Error()}catch(q){v=q}s()}}catch(q){if(q&&v&&typeof q.stack=="string"){for(var S=q.stack.split(`
`),E=v.stack.split(`
`),P=S.length-1,D=E.length-1;1<=P&&0<=D&&S[P]!==E[D];)D--;for(;1<=P&&0<=D;P--,D--)if(S[P]!==E[D]){if(P!==1||D!==1)do if(P--,D--,0>D||S[P]!==E[D]){var L=`
`+S[P].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=P&&0<=D);break}}}finally{he=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?B(s):""}function Ae(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case R:return"Portal";case W:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case G:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case Y:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case de:return l=s.displayName||null,l!==null?l:Te(s.type)||"Memo";case pe:l=s._payload,s=s._init;try{return Te(s(l))}catch{}}return null}function He(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(l);case 8:return l===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function te(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pe(s){var l=te(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,E=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return S.call(this)},set:function(P){v=""+P,E.call(this,P)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(P){v=""+P},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Oe(s){s._valueTracker||(s._valueTracker=Pe(s))}function Z(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),v="";return s&&(v=te(s)?s.checked?"true":"false":s.value),s=v,s!==m?(l.setValue(s),!0):!1}function ut(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ge(s,l){var m=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function Dt(s,l){var m=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;m=Ue(l.value!=null?l.value:m),s._wrapperState={initialChecked:v,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function pt(s,l){l=l.checked,l!=null&&k(s,"checked",l,!1)}function cn(s,l){pt(s,l);var m=Ue(l.value),v=l.type;if(m!=null)v==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?gi(s,l.type,m):l.hasOwnProperty("defaultValue")&&gi(s,l.type,Ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Kr(s,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,m||l===s.value||(s.value=l),s.defaultValue=l}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function gi(s,l,m){(l!=="number"||ut(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var Ct=Array.isArray;function In(s,l,m,v){if(s=s.options,l){l={};for(var S=0;S<m.length;S++)l["$"+m[S]]=!0;for(m=0;m<s.length;m++)S=l.hasOwnProperty("$"+s[m].value),s[m].selected!==S&&(s[m].selected=S),S&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Ue(m),l=null,S=0;S<s.length;S++){if(s[S].value===m){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}l!==null||s[S].disabled||(l=s[S])}l!==null&&(l.selected=!0)}}function ye(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ht(s,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(n(92));if(Ct(m)){if(1<m.length)throw Error(n(93));m=m[0]}l=m}l==null&&(l=""),m=l}s._wrapperState={initialValue:Ue(m)}}function zn(s,l){var m=Ue(l.value),v=Ue(l.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),l.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),v!=null&&(s.defaultValue=""+v)}function vn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Rn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Rn(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var no,kr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,v,S){MSApp.execUnsafeLocalFunction(function(){return s(l,m,v,S)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(no=no||document.createElement("div"),no.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=no.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function yi(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ro=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(s){ro.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Yr[l]=Yr[s]})});function Gs(s,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||Yr.hasOwnProperty(s)&&Yr[s]?(""+l).trim():l+"px"}function io(s,l){s=s.style;for(var m in l)if(l.hasOwnProperty(m)){var v=m.indexOf("--")===0,S=Gs(m,l[m],v);m==="float"&&(m="cssFloat"),v?s.setProperty(m,S):s[m]=S}}var dl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vi(s,l){if(l){if(dl[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Yo(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function z(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ue=null,De=null,$e=null;function Be(s){if(s=kl(s)){if(typeof ue!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Ac(l),ue(s.stateNode,s.type,l))}}function Ve(s){De?$e?$e.push(s):$e=[s]:De=s}function ke(){if(De){var s=De,l=$e;if($e=De=null,Be(s),l)for(s=0;s<l.length;s++)Be(l[s])}}function Re(s,l){return s(l)}function tt(){}var Nr=!1;function Ot(s,l,m){if(Nr)return s(l,m);Nr=!0;try{return Re(s,l,m)}finally{Nr=!1,(De!==null||$e!==null)&&(tt(),ke())}}function An(s,l){var m=s.stateNode;if(m===null)return null;var v=Ac(m);if(v===null)return null;m=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(n(231,l,typeof m));return m}var Mr=!1;if(u)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Mr=!1}function Kn(s,l,m,v,S,E,P,D,L){var q=Array.prototype.slice.call(arguments,3);try{l.apply(m,q)}catch(X){this.onError(X)}}var ze=!1,Dn=null,$t=!1,Jr=null,en={onError:function(s){ze=!0,Dn=s}};function oe(s,l,m,v,S,E,P,D,L){ze=!1,Dn=null,Kn.apply(en,arguments)}function fe(s,l,m,v,S,E,P,D,L){if(oe.apply(this,arguments),ze){if(ze){var q=Dn;ze=!1,Dn=null}else throw Error(n(198));$t||($t=!0,Jr=q)}}function Le(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function We(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function nt(s){if(Le(s)!==s)throw Error(n(188))}function at(s){var l=s.alternate;if(!l){if(l=Le(s),l===null)throw Error(n(188));return l!==s?null:s}for(var m=s,v=l;;){var S=m.return;if(S===null)break;var E=S.alternate;if(E===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===m)return nt(S),s;if(E===v)return nt(S),l;E=E.sibling}throw Error(n(188))}if(m.return!==v.return)m=S,v=E;else{for(var P=!1,D=S.child;D;){if(D===m){P=!0,m=S,v=E;break}if(D===v){P=!0,v=S,m=E;break}D=D.sibling}if(!P){for(D=E.child;D;){if(D===m){P=!0,m=E,v=S;break}if(D===v){P=!0,v=E,m=S;break}D=D.sibling}if(!P)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?s:l}function Tt(s){return s=at(s),s!==null?Yn(s):null}function Yn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Yn(s);if(l!==null)return l;s=s.sibling}return null}var wi=e.unstable_scheduleCallback,ac=e.unstable_cancelCallback,QD=e.unstable_shouldYield,ZD=e.unstable_requestPaint,Lt=e.unstable_now,e2=e.unstable_getCurrentPriorityLevel,Up=e.unstable_ImmediatePriority,bw=e.unstable_UserBlockingPriority,lc=e.unstable_NormalPriority,t2=e.unstable_LowPriority,_w=e.unstable_IdlePriority,uc=null,Xr=null;function n2(s){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(uc,s,void 0,(s.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:o2,r2=Math.log,i2=Math.LN2;function o2(s){return s>>>=0,s===0?32:31-(r2(s)/i2|0)|0}var cc=64,dc=4194304;function fl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fc(s,l){var m=s.pendingLanes;if(m===0)return 0;var v=0,S=s.suspendedLanes,E=s.pingedLanes,P=m&268435455;if(P!==0){var D=P&~S;D!==0?v=fl(D):(E&=P,E!==0&&(v=fl(E)))}else P=m&~S,P!==0?v=fl(P):E!==0&&(v=fl(E));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,E=l&-l,S>=E||S===16&&(E&4194240)!==0))return l;if((v&4)!==0&&(v|=m&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)m=31-Rr(l),S=1<<m,v|=s[m],l&=~S;return v}function s2(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a2(s,l){for(var m=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,E=s.pendingLanes;0<E;){var P=31-Rr(E),D=1<<P,L=S[P];L===-1?((D&m)===0||(D&v)!==0)&&(S[P]=s2(D,l)):L<=l&&(s.expiredLanes|=D),E&=~D}}function jp(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Iw(){var s=cc;return cc<<=1,(cc&4194240)===0&&(cc=64),s}function $p(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function pl(s,l,m){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Rr(l),s[l]=m}function l2(s,l){var m=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<m;){var S=31-Rr(m),E=1<<S;l[S]=0,v[S]=-1,s[S]=-1,m&=~E}}function Bp(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var v=31-Rr(m),S=1<<v;S&l|s[v]&l&&(s[v]|=l),m&=~S}}var rt=0;function Aw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Pw,Vp,kw,Nw,Mw,Wp=!1,pc=[],oo=null,so=null,ao=null,hl=new Map,ml=new Map,lo=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(s,l){switch(s){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":hl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(l.pointerId)}}function gl(s,l,m,v,S,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:m,eventSystemFlags:v,nativeEvent:E,targetContainers:[S]},l!==null&&(l=kl(l),l!==null&&Vp(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),s)}function c2(s,l,m,v,S){switch(l){case"focusin":return oo=gl(oo,s,l,m,v,S),!0;case"dragenter":return so=gl(so,s,l,m,v,S),!0;case"mouseover":return ao=gl(ao,s,l,m,v,S),!0;case"pointerover":var E=S.pointerId;return hl.set(E,gl(hl.get(E)||null,s,l,m,v,S)),!0;case"gotpointercapture":return E=S.pointerId,ml.set(E,gl(ml.get(E)||null,s,l,m,v,S)),!0}return!1}function Dw(s){var l=Jo(s.target);if(l!==null){var m=Le(l);if(m!==null){if(l=m.tag,l===13){if(l=We(m),l!==null){s.blockedOn=l,Mw(s.priority,function(){kw(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=Hp(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);xi=v,m.target.dispatchEvent(v),xi=null}else return l=kl(m),l!==null&&Vp(l),s.blockedOn=m,!1;l.shift()}return!0}function Ow(s,l,m){hc(s)&&m.delete(l)}function d2(){Wp=!1,oo!==null&&hc(oo)&&(oo=null),so!==null&&hc(so)&&(so=null),ao!==null&&hc(ao)&&(ao=null),hl.forEach(Ow),ml.forEach(Ow)}function yl(s,l){s.blockedOn===l&&(s.blockedOn=null,Wp||(Wp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d2)))}function vl(s){function l(S){return yl(S,s)}if(0<pc.length){yl(pc[0],s);for(var m=1;m<pc.length;m++){var v=pc[m];v.blockedOn===s&&(v.blockedOn=null)}}for(oo!==null&&yl(oo,s),so!==null&&yl(so,s),ao!==null&&yl(ao,s),hl.forEach(l),ml.forEach(l),m=0;m<lo.length;m++)v=lo[m],v.blockedOn===s&&(v.blockedOn=null);for(;0<lo.length&&(m=lo[0],m.blockedOn===null);)Dw(m),m.blockedOn===null&&lo.shift()}var zs=M.ReactCurrentBatchConfig,mc=!0;function f2(s,l,m,v){var S=rt,E=zs.transition;zs.transition=null;try{rt=1,qp(s,l,m,v)}finally{rt=S,zs.transition=E}}function p2(s,l,m,v){var S=rt,E=zs.transition;zs.transition=null;try{rt=4,qp(s,l,m,v)}finally{rt=S,zs.transition=E}}function qp(s,l,m,v){if(mc){var S=Hp(s,l,m,v);if(S===null)lh(s,l,v,gc,m),Rw(s,v);else if(c2(S,s,l,m,v))v.stopPropagation();else if(Rw(s,v),l&4&&-1<u2.indexOf(s)){for(;S!==null;){var E=kl(S);if(E!==null&&Pw(E),E=Hp(s,l,m,v),E===null&&lh(s,l,v,gc,m),E===S)break;S=E}S!==null&&v.stopPropagation()}else lh(s,l,v,null,m)}}var gc=null;function Hp(s,l,m,v){if(gc=null,s=z(v),s=Jo(s),s!==null)if(l=Le(s),l===null)s=null;else if(m=l.tag,m===13){if(s=We(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return gc=s,null}function Lw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e2()){case Up:return 1;case bw:return 4;case lc:case t2:return 16;case _w:return 536870912;default:return 16}default:return 16}}var uo=null,Gp=null,yc=null;function Fw(){if(yc)return yc;var s,l=Gp,m=l.length,v,S="value"in uo?uo.value:uo.textContent,E=S.length;for(s=0;s<m&&l[s]===S[s];s++);var P=m-s;for(v=1;v<=P&&l[m-v]===S[E-v];v++);return yc=S.slice(s,1<v?1-v:void 0)}function vc(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function xc(){return!0}function Uw(){return!1}function Jn(s){function l(m,v,S,E,P){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(m=s[D],this[D]=m?m(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xc:Uw,this.isPropagationStopped=Uw,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),l}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=Jn(Ks),xl=le({},Ks,{view:0,detail:0}),h2=Jn(xl),Kp,Yp,wl,wc=le({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wl&&(wl&&s.type==="mousemove"?(Kp=s.screenX-wl.screenX,Yp=s.screenY-wl.screenY):Yp=Kp=0,wl=s),Kp)},movementY:function(s){return"movementY"in s?s.movementY:Yp}}),jw=Jn(wc),m2=le({},wc,{dataTransfer:0}),g2=Jn(m2),y2=le({},xl,{relatedTarget:0}),Jp=Jn(y2),v2=le({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=Jn(v2),w2=le({},Ks,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),S2=Jn(w2),C2=le({},Ks,{data:0}),$w=Jn(C2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=b2[s])?!!l[s]:!1}function Xp(){return _2}var I2=le({},xl,{key:function(s){if(s.key){var l=T2[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=vc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?E2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(s){return s.type==="keypress"?vc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),A2=Jn(I2),P2=le({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bw=Jn(P2),k2=le({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),N2=Jn(k2),M2=le({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),R2=Jn(M2),D2=le({},wc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=Jn(D2),L2=[9,13,27,32],Qp=u&&"CompositionEvent"in window,Sl=null;u&&"documentMode"in document&&(Sl=document.documentMode);var F2=u&&"TextEvent"in window&&!Sl,Vw=u&&(!Qp||Sl&&8<Sl&&11>=Sl),Ww=" ",qw=!1;function Hw(s,l){switch(s){case"keyup":return L2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ys=!1;function U2(s,l){switch(s){case"compositionend":return Gw(l);case"keypress":return l.which!==32?null:(qw=!0,Ww);case"textInput":return s=l.data,s===Ww&&qw?null:s;default:return null}}function j2(s,l){if(Ys)return s==="compositionend"||!Qp&&Hw(s,l)?(s=Fw(),yc=Gp=uo=null,Ys=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Vw&&l.locale!=="ko"?null:l.data;default:return null}}var $2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!$2[s.type]:l==="textarea"}function Kw(s,l,m,v){Ve(v),l=bc(l,"onChange"),0<l.length&&(m=new zp("onChange","change",null,m,v),s.push({event:m,listeners:l}))}var Cl=null,Tl=null;function B2(s){fS(s,0)}function Sc(s){var l=ea(s);if(Z(l))return s}function V2(s,l){if(s==="change")return l}var Yw=!1;if(u){var Zp;if(u){var eh="oninput"in document;if(!eh){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),eh=typeof Jw.oninput=="function"}Zp=eh}else Zp=!1;Yw=Zp&&(!document.documentMode||9<document.documentMode)}function Xw(){Cl&&(Cl.detachEvent("onpropertychange",Qw),Tl=Cl=null)}function Qw(s){if(s.propertyName==="value"&&Sc(Tl)){var l=[];Kw(l,Tl,s,z(s)),Ot(B2,l)}}function W2(s,l,m){s==="focusin"?(Xw(),Cl=l,Tl=m,Cl.attachEvent("onpropertychange",Qw)):s==="focusout"&&Xw()}function q2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sc(Tl)}function H2(s,l){if(s==="click")return Sc(l)}function G2(s,l){if(s==="input"||s==="change")return Sc(l)}function z2(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Dr=typeof Object.is=="function"?Object.is:z2;function El(s,l){if(Dr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),v=Object.keys(l);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!c.call(l,S)||!Dr(s[S],l[S]))return!1}return!0}function Zw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function eS(s,l){var m=Zw(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=l&&v>=l)return{node:m,offset:l-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Zw(m)}}function tS(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?tS(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function nS(){for(var s=window,l=ut();l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=ut(s.document)}return l}function th(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function K2(s){var l=nS(),m=s.focusedElem,v=s.selectionRange;if(l!==m&&m&&m.ownerDocument&&tS(m.ownerDocument.documentElement,m)){if(v!==null&&th(m)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(s,m.value.length);else if(s=(l=m.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var S=m.textContent.length,E=Math.min(v.start,S);v=v.end===void 0?E:Math.min(v.end,S),!s.extend&&E>v&&(S=v,v=E,E=S),S=eS(m,E);var P=eS(m,v);S&&P&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),s.removeAllRanges(),E>v?(s.addRange(l),s.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),s.addRange(l)))}}for(l=[],s=m;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)s=l[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Y2=u&&"documentMode"in document&&11>=document.documentMode,Js=null,nh=null,bl=null,rh=!1;function rS(s,l,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;rh||Js==null||Js!==ut(v)||(v=Js,"selectionStart"in v&&th(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),bl&&El(bl,v)||(bl=v,v=bc(nh,"onSelect"),0<v.length&&(l=new zp("onSelect","select",null,l,m),s.push({event:l,listeners:v}),l.target=Js)))}function Cc(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var Xs={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},ih={},iS={};u&&(iS=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Tc(s){if(ih[s])return ih[s];if(!Xs[s])return s;var l=Xs[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in iS)return ih[s]=l[m];return s}var oS=Tc("animationend"),sS=Tc("animationiteration"),aS=Tc("animationstart"),lS=Tc("transitionend"),uS=new Map,cS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(s,l){uS.set(s,l),o(l,[s])}for(var oh=0;oh<cS.length;oh++){var sh=cS[oh],J2=sh.toLowerCase(),X2=sh[0].toUpperCase()+sh.slice(1);co(J2,"on"+X2)}co(oS,"onAnimationEnd"),co(sS,"onAnimationIteration"),co(aS,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(lS,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function dS(s,l,m){var v=s.type||"unknown-event";s.currentTarget=m,fe(v,l,void 0,s),s.currentTarget=null}function fS(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],S=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var P=v.length-1;0<=P;P--){var D=v[P],L=D.instance,q=D.currentTarget;if(D=D.listener,L!==E&&S.isPropagationStopped())break e;dS(S,D,q),E=L}else for(P=0;P<v.length;P++){if(D=v[P],L=D.instance,q=D.currentTarget,D=D.listener,L!==E&&S.isPropagationStopped())break e;dS(S,D,q),E=L}}}if($t)throw s=Jr,$t=!1,Jr=null,s}function ht(s,l){var m=l[hh];m===void 0&&(m=l[hh]=new Set);var v=s+"__bubble";m.has(v)||(pS(l,s,2,!1),m.add(v))}function ah(s,l,m){var v=0;l&&(v|=4),pS(m,s,v,l)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Il(s){if(!s[Ec]){s[Ec]=!0,r.forEach(function(m){m!=="selectionchange"&&(Q2.has(m)||ah(m,!1,s),ah(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Ec]||(l[Ec]=!0,ah("selectionchange",!1,l))}}function pS(s,l,m,v){switch(Lw(l)){case 1:var S=f2;break;case 4:S=p2;break;default:S=qp}m=S.bind(null,l,m,s),S=void 0,!Mr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(l,m,{capture:!0,passive:S}):s.addEventListener(l,m,!0):S!==void 0?s.addEventListener(l,m,{passive:S}):s.addEventListener(l,m,!1)}function lh(s,l,m,v,S){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var D=v.stateNode.containerInfo;if(D===S||D.nodeType===8&&D.parentNode===S)break;if(P===4)for(P=v.return;P!==null;){var L=P.tag;if((L===3||L===4)&&(L=P.stateNode.containerInfo,L===S||L.nodeType===8&&L.parentNode===S))return;P=P.return}for(;D!==null;){if(P=Jo(D),P===null)return;if(L=P.tag,L===5||L===6){v=E=P;continue e}D=D.parentNode}}v=v.return}Ot(function(){var q=E,X=z(m),re=[];e:{var J=uS.get(s);if(J!==void 0){var me=zp,Se=s;switch(s){case"keypress":if(vc(m)===0)break e;case"keydown":case"keyup":me=A2;break;case"focusin":Se="focus",me=Jp;break;case"focusout":Se="blur",me=Jp;break;case"beforeblur":case"afterblur":me=Jp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=g2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=N2;break;case oS:case sS:case aS:me=x2;break;case lS:me=R2;break;case"scroll":me=h2;break;case"wheel":me=O2;break;case"copy":case"cut":case"paste":me=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Bw}var Ee=(l&4)!==0,Ft=!Ee&&s==="scroll",$=Ee?J!==null?J+"Capture":null:J;Ee=[];for(var F=q,V;F!==null;){V=F;var ae=V.stateNode;if(V.tag===5&&ae!==null&&(V=ae,$!==null&&(ae=An(F,$),ae!=null&&Ee.push(Al(F,ae,V)))),Ft)break;F=F.return}0<Ee.length&&(J=new me(J,Se,null,m,X),re.push({event:J,listeners:Ee}))}}if((l&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",J&&m!==xi&&(Se=m.relatedTarget||m.fromElement)&&(Jo(Se)||Se[Si]))break e;if((me||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,me?(Se=m.relatedTarget||m.toElement,me=q,Se=Se?Jo(Se):null,Se!==null&&(Ft=Le(Se),Se!==Ft||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(me=null,Se=q),me!==Se)){if(Ee=jw,ae="onMouseLeave",$="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Bw,ae="onPointerLeave",$="onPointerEnter",F="pointer"),Ft=me==null?J:ea(me),V=Se==null?J:ea(Se),J=new Ee(ae,F+"leave",me,m,X),J.target=Ft,J.relatedTarget=V,ae=null,Jo(X)===q&&(Ee=new Ee($,F+"enter",Se,m,X),Ee.target=V,Ee.relatedTarget=Ft,ae=Ee),Ft=ae,me&&Se)t:{for(Ee=me,$=Se,F=0,V=Ee;V;V=Qs(V))F++;for(V=0,ae=$;ae;ae=Qs(ae))V++;for(;0<F-V;)Ee=Qs(Ee),F--;for(;0<V-F;)$=Qs($),V--;for(;F--;){if(Ee===$||$!==null&&Ee===$.alternate)break t;Ee=Qs(Ee),$=Qs($)}Ee=null}else Ee=null;me!==null&&hS(re,J,me,Ee,!1),Se!==null&&Ft!==null&&hS(re,Ft,Se,Ee,!0)}}e:{if(J=q?ea(q):window,me=J.nodeName&&J.nodeName.toLowerCase(),me==="select"||me==="input"&&J.type==="file")var _e=V2;else if(zw(J))if(Yw)_e=G2;else{_e=q2;var Ne=W2}else(me=J.nodeName)&&me.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(_e=H2);if(_e&&(_e=_e(s,q))){Kw(re,_e,m,X);break e}Ne&&Ne(s,J,q),s==="focusout"&&(Ne=J._wrapperState)&&Ne.controlled&&J.type==="number"&&gi(J,"number",J.value)}switch(Ne=q?ea(q):window,s){case"focusin":(zw(Ne)||Ne.contentEditable==="true")&&(Js=Ne,nh=q,bl=null);break;case"focusout":bl=nh=Js=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,rS(re,m,X);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":rS(re,m,X)}var Me;if(Qp)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ys?Hw(s,m)&&(Fe="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(Fe="onCompositionStart");Fe&&(Vw&&m.locale!=="ko"&&(Ys||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ys&&(Me=Fw()):(uo=X,Gp="value"in uo?uo.value:uo.textContent,Ys=!0)),Ne=bc(q,Fe),0<Ne.length&&(Fe=new $w(Fe,s,null,m,X),re.push({event:Fe,listeners:Ne}),Me?Fe.data=Me:(Me=Gw(m),Me!==null&&(Fe.data=Me)))),(Me=F2?U2(s,m):j2(s,m))&&(q=bc(q,"onBeforeInput"),0<q.length&&(X=new $w("onBeforeInput","beforeinput",null,m,X),re.push({event:X,listeners:q}),X.data=Me))}fS(re,l)})}function Al(s,l,m){return{instance:s,listener:l,currentTarget:m}}function bc(s,l){for(var m=l+"Capture",v=[];s!==null;){var S=s,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=An(s,m),E!=null&&v.unshift(Al(s,E,S)),E=An(s,l),E!=null&&v.push(Al(s,E,S))),s=s.return}return v}function Qs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hS(s,l,m,v,S){for(var E=l._reactName,P=[];m!==null&&m!==v;){var D=m,L=D.alternate,q=D.stateNode;if(L!==null&&L===v)break;D.tag===5&&q!==null&&(D=q,S?(L=An(m,E),L!=null&&P.unshift(Al(m,L,D))):S||(L=An(m,E),L!=null&&P.push(Al(m,L,D)))),m=m.return}P.length!==0&&s.push({event:l,listeners:P})}var Z2=/\r\n?/g,eO=/\u0000|\uFFFD/g;function mS(s){return(typeof s=="string"?s:""+s).replace(Z2,`
`).replace(eO,"")}function _c(s,l,m){if(l=mS(l),mS(s)!==l&&m)throw Error(n(425))}function Ic(){}var uh=null,ch=null;function dh(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,tO=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,nO=typeof queueMicrotask=="function"?queueMicrotask:typeof gS<"u"?function(s){return gS.resolve(null).then(s).catch(rO)}:fh;function rO(s){setTimeout(function(){throw s})}function ph(s,l){var m=l,v=0;do{var S=m.nextSibling;if(s.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(v===0){s.removeChild(S),vl(l);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=S}while(m);vl(l)}function fo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function yS(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return s;l--}else m==="/$"&&l++}s=s.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Zs,Pl="__reactProps$"+Zs,Si="__reactContainer$"+Zs,hh="__reactEvents$"+Zs,iO="__reactListeners$"+Zs,oO="__reactHandles$"+Zs;function Jo(s){var l=s[Qr];if(l)return l;for(var m=s.parentNode;m;){if(l=m[Si]||m[Qr]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=yS(s);s!==null;){if(m=s[Qr])return m;s=yS(s)}return l}s=m,m=s.parentNode}return null}function kl(s){return s=s[Qr]||s[Si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ac(s){return s[Pl]||null}var mh=[],ta=-1;function po(s){return{current:s}}function mt(s){0>ta||(s.current=mh[ta],mh[ta]=null,ta--)}function ct(s,l){ta++,mh[ta]=s.current,s.current=l}var ho={},xn=po(ho),On=po(!1),Xo=ho;function na(s,l){var m=s.type.contextTypes;if(!m)return ho;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in m)S[E]=l[E];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=S),S}function Ln(s){return s=s.childContextTypes,s!=null}function Pc(){mt(On),mt(xn)}function vS(s,l,m){if(xn.current!==ho)throw Error(n(168));ct(xn,l),ct(On,m)}function xS(s,l,m){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,He(s)||"Unknown",S));return le({},m,v)}function kc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ho,Xo=xn.current,ct(xn,s),ct(On,On.current),!0}function wS(s,l,m){var v=s.stateNode;if(!v)throw Error(n(169));m?(s=xS(s,l,Xo),v.__reactInternalMemoizedMergedChildContext=s,mt(On),mt(xn),ct(xn,s)):mt(On),ct(On,m)}var Ci=null,Nc=!1,gh=!1;function SS(s){Ci===null?Ci=[s]:Ci.push(s)}function sO(s){Nc=!0,SS(s)}function mo(){if(!gh&&Ci!==null){gh=!0;var s=0,l=rt;try{var m=Ci;for(rt=1;s<m.length;s++){var v=m[s];do v=v(!0);while(v!==null)}Ci=null,Nc=!1}catch(S){throw Ci!==null&&(Ci=Ci.slice(s+1)),wi(Up,mo),S}finally{rt=l,gh=!1}}return null}var ra=[],ia=0,Mc=null,Rc=0,fr=[],pr=0,Qo=null,Ti=1,Ei="";function Zo(s,l){ra[ia++]=Rc,ra[ia++]=Mc,Mc=s,Rc=l}function CS(s,l,m){fr[pr++]=Ti,fr[pr++]=Ei,fr[pr++]=Qo,Qo=s;var v=Ti;s=Ei;var S=32-Rr(v)-1;v&=~(1<<S),m+=1;var E=32-Rr(l)+S;if(30<E){var P=S-S%5;E=(v&(1<<P)-1).toString(32),v>>=P,S-=P,Ti=1<<32-Rr(l)+S|m<<S|v,Ei=E+s}else Ti=1<<E|m<<S|v,Ei=s}function yh(s){s.return!==null&&(Zo(s,1),CS(s,1,0))}function vh(s){for(;s===Mc;)Mc=ra[--ia],ra[ia]=null,Rc=ra[--ia],ra[ia]=null;for(;s===Qo;)Qo=fr[--pr],fr[pr]=null,Ei=fr[--pr],fr[pr]=null,Ti=fr[--pr],fr[pr]=null}var Xn=null,Qn=null,xt=!1,Or=null;function TS(s,l){var m=yr(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=s,l=s.deletions,l===null?(s.deletions=[m],s.flags|=16):l.push(m)}function ES(s,l){switch(s.tag){case 5:var m=s.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Xn=s,Qn=fo(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Xn=s,Qn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=Qo!==null?{id:Ti,overflow:Ei}:null,s.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=yr(18,null,null,0),m.stateNode=l,m.return=s,s.child=m,Xn=s,Qn=null,!0):!1;default:return!1}}function xh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function wh(s){if(xt){var l=Qn;if(l){var m=l;if(!ES(s,l)){if(xh(s))throw Error(n(418));l=fo(m.nextSibling);var v=Xn;l&&ES(s,l)?TS(v,m):(s.flags=s.flags&-4097|2,xt=!1,Xn=s)}}else{if(xh(s))throw Error(n(418));s.flags=s.flags&-4097|2,xt=!1,Xn=s}}}function bS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xn=s}function Dc(s){if(s!==Xn)return!1;if(!xt)return bS(s),xt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!dh(s.type,s.memoizedProps)),l&&(l=Qn)){if(xh(s))throw _S(),Error(n(418));for(;l;)TS(s,l),l=fo(l.nextSibling)}if(bS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(l===0){Qn=fo(s.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}s=s.nextSibling}Qn=null}}else Qn=Xn?fo(s.stateNode.nextSibling):null;return!0}function _S(){for(var s=Qn;s;)s=fo(s.nextSibling)}function oa(){Qn=Xn=null,xt=!1}function Sh(s){Or===null?Or=[s]:Or.push(s)}var aO=M.ReactCurrentBatchConfig;function Nl(s,l,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,s));var S=v,E=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(P){var D=S.refs;P===null?delete D[E]:D[E]=P},l._stringRef=E,l)}if(typeof s!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,s))}return s}function Oc(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function IS(s){var l=s._init;return l(s._payload)}function AS(s){function l($,F){if(s){var V=$.deletions;V===null?($.deletions=[F],$.flags|=16):V.push(F)}}function m($,F){if(!s)return null;for(;F!==null;)l($,F),F=F.sibling;return null}function v($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function S($,F){return $=To($,F),$.index=0,$.sibling=null,$}function E($,F,V){return $.index=V,s?(V=$.alternate,V!==null?(V=V.index,V<F?($.flags|=2,F):V):($.flags|=2,F)):($.flags|=1048576,F)}function P($){return s&&$.alternate===null&&($.flags|=2),$}function D($,F,V,ae){return F===null||F.tag!==6?(F=fm(V,$.mode,ae),F.return=$,F):(F=S(F,V),F.return=$,F)}function L($,F,V,ae){var _e=V.type;return _e===O?X($,F,V.props.children,ae,V.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&IS(_e)===F.type)?(ae=S(F,V.props),ae.ref=Nl($,F,V),ae.return=$,ae):(ae=od(V.type,V.key,V.props,null,$.mode,ae),ae.ref=Nl($,F,V),ae.return=$,ae)}function q($,F,V,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==V.containerInfo||F.stateNode.implementation!==V.implementation?(F=pm(V,$.mode,ae),F.return=$,F):(F=S(F,V.children||[]),F.return=$,F)}function X($,F,V,ae,_e){return F===null||F.tag!==7?(F=as(V,$.mode,ae,_e),F.return=$,F):(F=S(F,V),F.return=$,F)}function re($,F,V){if(typeof F=="string"&&F!==""||typeof F=="number")return F=fm(""+F,$.mode,V),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return V=od(F.type,F.key,F.props,null,$.mode,V),V.ref=Nl($,null,F),V.return=$,V;case R:return F=pm(F,$.mode,V),F.return=$,F;case pe:var ae=F._init;return re($,ae(F._payload),V)}if(Ct(F)||se(F))return F=as(F,$.mode,V,null),F.return=$,F;Oc($,F)}return null}function J($,F,V,ae){var _e=F!==null?F.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return _e!==null?null:D($,F,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return V.key===_e?L($,F,V,ae):null;case R:return V.key===_e?q($,F,V,ae):null;case pe:return _e=V._init,J($,F,_e(V._payload),ae)}if(Ct(V)||se(V))return _e!==null?null:X($,F,V,ae,null);Oc($,V)}return null}function me($,F,V,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return $=$.get(V)||null,D(F,$,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return $=$.get(ae.key===null?V:ae.key)||null,L(F,$,ae,_e);case R:return $=$.get(ae.key===null?V:ae.key)||null,q(F,$,ae,_e);case pe:var Ne=ae._init;return me($,F,V,Ne(ae._payload),_e)}if(Ct(ae)||se(ae))return $=$.get(V)||null,X(F,$,ae,_e,null);Oc(F,ae)}return null}function Se($,F,V,ae){for(var _e=null,Ne=null,Me=F,Fe=F=0,rn=null;Me!==null&&Fe<V.length;Fe++){Me.index>Fe?(rn=Me,Me=null):rn=Me.sibling;var Je=J($,Me,V[Fe],ae);if(Je===null){Me===null&&(Me=rn);break}s&&Me&&Je.alternate===null&&l($,Me),F=E(Je,F,Fe),Ne===null?_e=Je:Ne.sibling=Je,Ne=Je,Me=rn}if(Fe===V.length)return m($,Me),xt&&Zo($,Fe),_e;if(Me===null){for(;Fe<V.length;Fe++)Me=re($,V[Fe],ae),Me!==null&&(F=E(Me,F,Fe),Ne===null?_e=Me:Ne.sibling=Me,Ne=Me);return xt&&Zo($,Fe),_e}for(Me=v($,Me);Fe<V.length;Fe++)rn=me(Me,$,Fe,V[Fe],ae),rn!==null&&(s&&rn.alternate!==null&&Me.delete(rn.key===null?Fe:rn.key),F=E(rn,F,Fe),Ne===null?_e=rn:Ne.sibling=rn,Ne=rn);return s&&Me.forEach(function(Eo){return l($,Eo)}),xt&&Zo($,Fe),_e}function Ee($,F,V,ae){var _e=se(V);if(typeof _e!="function")throw Error(n(150));if(V=_e.call(V),V==null)throw Error(n(151));for(var Ne=_e=null,Me=F,Fe=F=0,rn=null,Je=V.next();Me!==null&&!Je.done;Fe++,Je=V.next()){Me.index>Fe?(rn=Me,Me=null):rn=Me.sibling;var Eo=J($,Me,Je.value,ae);if(Eo===null){Me===null&&(Me=rn);break}s&&Me&&Eo.alternate===null&&l($,Me),F=E(Eo,F,Fe),Ne===null?_e=Eo:Ne.sibling=Eo,Ne=Eo,Me=rn}if(Je.done)return m($,Me),xt&&Zo($,Fe),_e;if(Me===null){for(;!Je.done;Fe++,Je=V.next())Je=re($,Je.value,ae),Je!==null&&(F=E(Je,F,Fe),Ne===null?_e=Je:Ne.sibling=Je,Ne=Je);return xt&&Zo($,Fe),_e}for(Me=v($,Me);!Je.done;Fe++,Je=V.next())Je=me(Me,$,Fe,Je.value,ae),Je!==null&&(s&&Je.alternate!==null&&Me.delete(Je.key===null?Fe:Je.key),F=E(Je,F,Fe),Ne===null?_e=Je:Ne.sibling=Je,Ne=Je);return s&&Me.forEach(function($O){return l($,$O)}),xt&&Zo($,Fe),_e}function Ft($,F,V,ae){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case N:e:{for(var _e=V.key,Ne=F;Ne!==null;){if(Ne.key===_e){if(_e=V.type,_e===O){if(Ne.tag===7){m($,Ne.sibling),F=S(Ne,V.props.children),F.return=$,$=F;break e}}else if(Ne.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&IS(_e)===Ne.type){m($,Ne.sibling),F=S(Ne,V.props),F.ref=Nl($,Ne,V),F.return=$,$=F;break e}m($,Ne);break}else l($,Ne);Ne=Ne.sibling}V.type===O?(F=as(V.props.children,$.mode,ae,V.key),F.return=$,$=F):(ae=od(V.type,V.key,V.props,null,$.mode,ae),ae.ref=Nl($,F,V),ae.return=$,$=ae)}return P($);case R:e:{for(Ne=V.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===V.containerInfo&&F.stateNode.implementation===V.implementation){m($,F.sibling),F=S(F,V.children||[]),F.return=$,$=F;break e}else{m($,F);break}else l($,F);F=F.sibling}F=pm(V,$.mode,ae),F.return=$,$=F}return P($);case pe:return Ne=V._init,Ft($,F,Ne(V._payload),ae)}if(Ct(V))return Se($,F,V,ae);if(se(V))return Ee($,F,V,ae);Oc($,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,F!==null&&F.tag===6?(m($,F.sibling),F=S(F,V),F.return=$,$=F):(m($,F),F=fm(V,$.mode,ae),F.return=$,$=F),P($)):m($,F)}return Ft}var sa=AS(!0),PS=AS(!1),Lc=po(null),Fc=null,aa=null,Ch=null;function Th(){Ch=aa=Fc=null}function Eh(s){var l=Lc.current;mt(Lc),s._currentValue=l}function bh(s,l,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===m)break;s=s.return}}function la(s,l){Fc=s,Ch=aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Fn=!0),s.firstContext=null)}function hr(s){var l=s._currentValue;if(Ch!==s)if(s={context:s,memoizedValue:l,next:null},aa===null){if(Fc===null)throw Error(n(308));aa=s,Fc.dependencies={lanes:0,firstContext:s}}else aa=aa.next=s;return l}var es=null;function _h(s){es===null?es=[s]:es.push(s)}function kS(s,l,m,v){var S=l.interleaved;return S===null?(m.next=m,_h(l)):(m.next=S.next,S.next=m),l.interleaved=m,bi(s,v)}function bi(s,l){s.lanes|=l;var m=s.alternate;for(m!==null&&(m.lanes|=l),m=s,s=s.return;s!==null;)s.childLanes|=l,m=s.alternate,m!==null&&(m.childLanes|=l),m=s,s=s.return;return m.tag===3?m.stateNode:null}var go=!1;function Ih(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _i(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function yo(s,l,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ke&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,bi(s,m)}return S=v.interleaved,S===null?(l.next=l,_h(v)):(l.next=S.next,S.next=l),v.interleaved=l,bi(s,m)}function Uc(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,m|=v,l.lanes=m,Bp(s,m)}}function MS(s,l){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var P={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?S=E=P:E=E.next=P,m=m.next}while(m!==null);E===null?S=E=l:E=E.next=l}else S=E=l;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:v.shared,effects:v.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}function jc(s,l,m,v){var S=s.updateQueue;go=!1;var E=S.firstBaseUpdate,P=S.lastBaseUpdate,D=S.shared.pending;if(D!==null){S.shared.pending=null;var L=D,q=L.next;L.next=null,P===null?E=q:P.next=q,P=L;var X=s.alternate;X!==null&&(X=X.updateQueue,D=X.lastBaseUpdate,D!==P&&(D===null?X.firstBaseUpdate=q:D.next=q,X.lastBaseUpdate=L))}if(E!==null){var re=S.baseState;P=0,X=q=L=null,D=E;do{var J=D.lane,me=D.eventTime;if((v&J)===J){X!==null&&(X=X.next={eventTime:me,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Se=s,Ee=D;switch(J=l,me=m,Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){re=Se.call(me,re,J);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,J=typeof Se=="function"?Se.call(me,re,J):Se,J==null)break e;re=le({},re,J);break e;case 2:go=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,J=S.effects,J===null?S.effects=[D]:J.push(D))}else me={eventTime:me,lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},X===null?(q=X=me,L=re):X=X.next=me,P|=J;if(D=D.next,D===null){if(D=S.shared.pending,D===null)break;J=D,D=J.next,J.next=null,S.lastBaseUpdate=J,S.shared.pending=null}}while(!0);if(X===null&&(L=re),S.baseState=L,S.firstBaseUpdate=q,S.lastBaseUpdate=X,l=S.shared.interleaved,l!==null){S=l;do P|=S.lane,S=S.next;while(S!==l)}else E===null&&(S.shared.lanes=0);rs|=P,s.lanes=P,s.memoizedState=re}}function RS(s,l,m){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],S=v.callback;if(S!==null){if(v.callback=null,v=m,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var Ml={},Zr=po(Ml),Rl=po(Ml),Dl=po(Ml);function ts(s){if(s===Ml)throw Error(n(174));return s}function Ah(s,l){switch(ct(Dl,l),ct(Rl,s),ct(Zr,Ml),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ko(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ko(l,s)}mt(Zr),ct(Zr,l)}function ua(){mt(Zr),mt(Rl),mt(Dl)}function DS(s){ts(Dl.current);var l=ts(Zr.current),m=Ko(l,s.type);l!==m&&(ct(Rl,s),ct(Zr,m))}function Ph(s){Rl.current===s&&(mt(Zr),mt(Rl))}var Et=po(0);function $c(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var kh=[];function Nh(){for(var s=0;s<kh.length;s++)kh[s]._workInProgressVersionPrimary=null;kh.length=0}var Bc=M.ReactCurrentDispatcher,Mh=M.ReactCurrentBatchConfig,ns=0,bt=null,Gt=null,tn=null,Vc=!1,Ol=!1,Ll=0,lO=0;function wn(){throw Error(n(321))}function Rh(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!Dr(s[m],l[m]))return!1;return!0}function Dh(s,l,m,v,S,E){if(ns=E,bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Bc.current=s===null||s.memoizedState===null?fO:pO,s=m(v,S),Ol){E=0;do{if(Ol=!1,Ll=0,25<=E)throw Error(n(301));E+=1,tn=Gt=null,l.updateQueue=null,Bc.current=hO,s=m(v,S)}while(Ol)}if(Bc.current=Hc,l=Gt!==null&&Gt.next!==null,ns=0,tn=Gt=bt=null,Vc=!1,l)throw Error(n(300));return s}function Oh(){var s=Ll!==0;return Ll=0,s}function ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?bt.memoizedState=tn=s:tn=tn.next=s,tn}function mr(){if(Gt===null){var s=bt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var l=tn===null?bt.memoizedState:tn.next;if(l!==null)tn=l,Gt=s;else{if(s===null)throw Error(n(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},tn===null?bt.memoizedState=tn=s:tn=tn.next=s}return tn}function Fl(s,l){return typeof l=="function"?l(s):l}function Lh(s){var l=mr(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var v=Gt,S=v.baseQueue,E=m.pending;if(E!==null){if(S!==null){var P=S.next;S.next=E.next,E.next=P}v.baseQueue=S=E,m.pending=null}if(S!==null){E=S.next,v=v.baseState;var D=P=null,L=null,q=E;do{var X=q.lane;if((ns&X)===X)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),v=q.hasEagerState?q.eagerState:s(v,q.action);else{var re={lane:X,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(D=L=re,P=v):L=L.next=re,bt.lanes|=X,rs|=X}q=q.next}while(q!==null&&q!==E);L===null?P=v:L.next=D,Dr(v,l.memoizedState)||(Fn=!0),l.memoizedState=v,l.baseState=P,l.baseQueue=L,m.lastRenderedState=v}if(s=m.interleaved,s!==null){S=s;do E=S.lane,bt.lanes|=E,rs|=E,S=S.next;while(S!==s)}else S===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function Fh(s){var l=mr(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var v=m.dispatch,S=m.pending,E=l.memoizedState;if(S!==null){m.pending=null;var P=S=S.next;do E=s(E,P.action),P=P.next;while(P!==S);Dr(E,l.memoizedState)||(Fn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),m.lastRenderedState=E}return[E,v]}function OS(){}function LS(s,l){var m=bt,v=mr(),S=l(),E=!Dr(v.memoizedState,S);if(E&&(v.memoizedState=S,Fn=!0),v=v.queue,Uh(jS.bind(null,m,v,s),[s]),v.getSnapshot!==l||E||tn!==null&&tn.memoizedState.tag&1){if(m.flags|=2048,Ul(9,US.bind(null,m,v,S,l),void 0,null),nn===null)throw Error(n(349));(ns&30)!==0||FS(m,l,S)}return S}function FS(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=bt.updateQueue,l===null?(l={lastEffect:null,stores:null},bt.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function US(s,l,m,v){l.value=m,l.getSnapshot=v,$S(l)&&BS(s)}function jS(s,l,m){return m(function(){$S(l)&&BS(s)})}function $S(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!Dr(s,m)}catch{return!0}}function BS(s){var l=bi(s,1);l!==null&&jr(l,s,1,-1)}function VS(s){var l=ei();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:s},l.queue=s,s=s.dispatch=dO.bind(null,bt,s),[l.memoizedState,s]}function Ul(s,l,m,v){return s={tag:s,create:l,destroy:m,deps:v,next:null},l=bt.updateQueue,l===null?(l={lastEffect:null,stores:null},bt.updateQueue=l,l.lastEffect=s.next=s):(m=l.lastEffect,m===null?l.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,l.lastEffect=s)),s}function WS(){return mr().memoizedState}function Wc(s,l,m,v){var S=ei();bt.flags|=s,S.memoizedState=Ul(1|l,m,void 0,v===void 0?null:v)}function qc(s,l,m,v){var S=mr();v=v===void 0?null:v;var E=void 0;if(Gt!==null){var P=Gt.memoizedState;if(E=P.destroy,v!==null&&Rh(v,P.deps)){S.memoizedState=Ul(l,m,E,v);return}}bt.flags|=s,S.memoizedState=Ul(1|l,m,E,v)}function qS(s,l){return Wc(8390656,8,s,l)}function Uh(s,l){return qc(2048,8,s,l)}function HS(s,l){return qc(4,2,s,l)}function GS(s,l){return qc(4,4,s,l)}function zS(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function KS(s,l,m){return m=m!=null?m.concat([s]):null,qc(4,4,zS.bind(null,l,s),m)}function jh(){}function YS(s,l){var m=mr();l=l===void 0?null:l;var v=m.memoizedState;return v!==null&&l!==null&&Rh(l,v[1])?v[0]:(m.memoizedState=[s,l],s)}function JS(s,l){var m=mr();l=l===void 0?null:l;var v=m.memoizedState;return v!==null&&l!==null&&Rh(l,v[1])?v[0]:(s=s(),m.memoizedState=[s,l],s)}function XS(s,l,m){return(ns&21)===0?(s.baseState&&(s.baseState=!1,Fn=!0),s.memoizedState=m):(Dr(m,l)||(m=Iw(),bt.lanes|=m,rs|=m,s.baseState=!0),l)}function uO(s,l){var m=rt;rt=m!==0&&4>m?m:4,s(!0);var v=Mh.transition;Mh.transition={};try{s(!1),l()}finally{rt=m,Mh.transition=v}}function QS(){return mr().memoizedState}function cO(s,l,m){var v=So(s);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},ZS(s))eC(l,m);else if(m=kS(s,l,m,v),m!==null){var S=kn();jr(m,s,v,S),tC(m,l,v)}}function dO(s,l,m){var v=So(s),S={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(ZS(s))eC(l,S);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var P=l.lastRenderedState,D=E(P,m);if(S.hasEagerState=!0,S.eagerState=D,Dr(D,P)){var L=l.interleaved;L===null?(S.next=S,_h(l)):(S.next=L.next,L.next=S),l.interleaved=S;return}}catch{}finally{}m=kS(s,l,S,v),m!==null&&(S=kn(),jr(m,s,v,S),tC(m,l,v))}}function ZS(s){var l=s.alternate;return s===bt||l!==null&&l===bt}function eC(s,l){Ol=Vc=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function tC(s,l,m){if((m&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,m|=v,l.lanes=m,Bp(s,m)}}var Hc={readContext:hr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},fO={readContext:hr,useCallback:function(s,l){return ei().memoizedState=[s,l===void 0?null:l],s},useContext:hr,useEffect:qS,useImperativeHandle:function(s,l,m){return m=m!=null?m.concat([s]):null,Wc(4194308,4,zS.bind(null,l,s),m)},useLayoutEffect:function(s,l){return Wc(4194308,4,s,l)},useInsertionEffect:function(s,l){return Wc(4,2,s,l)},useMemo:function(s,l){var m=ei();return l=l===void 0?null:l,s=s(),m.memoizedState=[s,l],s},useReducer:function(s,l,m){var v=ei();return l=m!==void 0?m(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=cO.bind(null,bt,s),[v.memoizedState,s]},useRef:function(s){var l=ei();return s={current:s},l.memoizedState=s},useState:VS,useDebugValue:jh,useDeferredValue:function(s){return ei().memoizedState=s},useTransition:function(){var s=VS(!1),l=s[0];return s=uO.bind(null,s[1]),ei().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,m){var v=bt,S=ei();if(xt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=l(),nn===null)throw Error(n(349));(ns&30)!==0||FS(v,l,m)}S.memoizedState=m;var E={value:m,getSnapshot:l};return S.queue=E,qS(jS.bind(null,v,E,s),[s]),v.flags|=2048,Ul(9,US.bind(null,v,E,m,l),void 0,null),m},useId:function(){var s=ei(),l=nn.identifierPrefix;if(xt){var m=Ei,v=Ti;m=(v&~(1<<32-Rr(v)-1)).toString(32)+m,l=":"+l+"R"+m,m=Ll++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=lO++,l=":"+l+"r"+m.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},pO={readContext:hr,useCallback:YS,useContext:hr,useEffect:Uh,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:GS,useMemo:JS,useReducer:Lh,useRef:WS,useState:function(){return Lh(Fl)},useDebugValue:jh,useDeferredValue:function(s){var l=mr();return XS(l,Gt.memoizedState,s)},useTransition:function(){var s=Lh(Fl)[0],l=mr().memoizedState;return[s,l]},useMutableSource:OS,useSyncExternalStore:LS,useId:QS,unstable_isNewReconciler:!1},hO={readContext:hr,useCallback:YS,useContext:hr,useEffect:Uh,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:GS,useMemo:JS,useReducer:Fh,useRef:WS,useState:function(){return Fh(Fl)},useDebugValue:jh,useDeferredValue:function(s){var l=mr();return Gt===null?l.memoizedState=s:XS(l,Gt.memoizedState,s)},useTransition:function(){var s=Fh(Fl)[0],l=mr().memoizedState;return[s,l]},useMutableSource:OS,useSyncExternalStore:LS,useId:QS,unstable_isNewReconciler:!1};function Lr(s,l){if(s&&s.defaultProps){l=le({},l),s=s.defaultProps;for(var m in s)l[m]===void 0&&(l[m]=s[m]);return l}return l}function $h(s,l,m,v){l=s.memoizedState,m=m(v,l),m=m==null?l:le({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Gc={isMounted:function(s){return(s=s._reactInternals)?Le(s)===s:!1},enqueueSetState:function(s,l,m){s=s._reactInternals;var v=kn(),S=So(s),E=_i(v,S);E.payload=l,m!=null&&(E.callback=m),l=yo(s,E,S),l!==null&&(jr(l,s,S,v),Uc(l,s,S))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var v=kn(),S=So(s),E=_i(v,S);E.tag=1,E.payload=l,m!=null&&(E.callback=m),l=yo(s,E,S),l!==null&&(jr(l,s,S,v),Uc(l,s,S))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=kn(),v=So(s),S=_i(m,v);S.tag=2,l!=null&&(S.callback=l),l=yo(s,S,v),l!==null&&(jr(l,s,v,m),Uc(l,s,v))}};function nC(s,l,m,v,S,E,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,E,P):l.prototype&&l.prototype.isPureReactComponent?!El(m,v)||!El(S,E):!0}function rC(s,l,m){var v=!1,S=ho,E=l.contextType;return typeof E=="object"&&E!==null?E=hr(E):(S=Ln(l)?Xo:xn.current,v=l.contextTypes,E=(v=v!=null)?na(s,S):ho),l=new l(m,E),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Gc,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=E),l}function iC(s,l,m,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,v),l.state!==s&&Gc.enqueueReplaceState(l,l.state,null)}function Bh(s,l,m,v){var S=s.stateNode;S.props=m,S.state=s.memoizedState,S.refs={},Ih(s);var E=l.contextType;typeof E=="object"&&E!==null?S.context=hr(E):(E=Ln(l)?Xo:xn.current,S.context=na(s,E)),S.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&($h(s,l,E,m),S.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&Gc.enqueueReplaceState(S,S.state,null),jc(s,m,S,v),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function ca(s,l){try{var m="",v=l;do m+=Ae(v),v=v.return;while(v);var S=m}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:l,stack:S,digest:null}}function Vh(s,l,m){return{value:s,source:null,stack:m??null,digest:l??null}}function Wh(s,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var mO=typeof WeakMap=="function"?WeakMap:Map;function oC(s,l,m){m=_i(-1,m),m.tag=3,m.payload={element:null};var v=l.value;return m.callback=function(){Zc||(Zc=!0,im=v),Wh(s,l)},m}function sC(s,l,m){m=_i(-1,m),m.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;m.payload=function(){return v(S)},m.callback=function(){Wh(s,l)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Wh(s,l),typeof v!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),m}function aC(s,l,m){var v=s.pingCache;if(v===null){v=s.pingCache=new mO;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(m)||(S.add(m),s=PO.bind(null,s,l,m),l.then(s,s))}function lC(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function uC(s,l,m,v,S){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=_i(-1,1),l.tag=2,yo(m,l,1))),m.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var gO=M.ReactCurrentOwner,Fn=!1;function Pn(s,l,m,v){l.child=s===null?PS(l,null,m,v):sa(l,s.child,m,v)}function cC(s,l,m,v,S){m=m.render;var E=l.ref;return la(l,S),v=Dh(s,l,m,v,E,S),m=Oh(),s!==null&&!Fn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~S,Ii(s,l,S)):(xt&&m&&yh(l),l.flags|=1,Pn(s,l,v,S),l.child)}function dC(s,l,m,v,S){if(s===null){var E=m.type;return typeof E=="function"&&!dm(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=E,fC(s,l,E,v,S)):(s=od(m.type,null,v,l,l.mode,S),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,(s.lanes&S)===0){var P=E.memoizedProps;if(m=m.compare,m=m!==null?m:El,m(P,v)&&s.ref===l.ref)return Ii(s,l,S)}return l.flags|=1,s=To(E,v),s.ref=l.ref,s.return=l,l.child=s}function fC(s,l,m,v,S){if(s!==null){var E=s.memoizedProps;if(El(E,v)&&s.ref===l.ref)if(Fn=!1,l.pendingProps=v=E,(s.lanes&S)!==0)(s.flags&131072)!==0&&(Fn=!0);else return l.lanes=s.lanes,Ii(s,l,S)}return qh(s,l,m,v,S)}function pC(s,l,m){var v=l.pendingProps,S=v.children,E=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(fa,Zn),Zn|=m;else{if((m&1073741824)===0)return s=E!==null?E.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ct(fa,Zn),Zn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:m,ct(fa,Zn),Zn|=v}else E!==null?(v=E.baseLanes|m,l.memoizedState=null):v=m,ct(fa,Zn),Zn|=v;return Pn(s,l,S,m),l.child}function hC(s,l){var m=l.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function qh(s,l,m,v,S){var E=Ln(m)?Xo:xn.current;return E=na(l,E),la(l,S),m=Dh(s,l,m,v,E,S),v=Oh(),s!==null&&!Fn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~S,Ii(s,l,S)):(xt&&v&&yh(l),l.flags|=1,Pn(s,l,m,S),l.child)}function mC(s,l,m,v,S){if(Ln(m)){var E=!0;kc(l)}else E=!1;if(la(l,S),l.stateNode===null)Kc(s,l),rC(l,m,v),Bh(l,m,v,S),v=!0;else if(s===null){var P=l.stateNode,D=l.memoizedProps;P.props=D;var L=P.context,q=m.contextType;typeof q=="object"&&q!==null?q=hr(q):(q=Ln(m)?Xo:xn.current,q=na(l,q));var X=m.getDerivedStateFromProps,re=typeof X=="function"||typeof P.getSnapshotBeforeUpdate=="function";re||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(D!==v||L!==q)&&iC(l,P,v,q),go=!1;var J=l.memoizedState;P.state=J,jc(l,v,P,S),L=l.memoizedState,D!==v||J!==L||On.current||go?(typeof X=="function"&&($h(l,m,X,v),L=l.memoizedState),(D=go||nC(l,m,D,v,J,L,q))?(re||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=L),P.props=v,P.state=L,P.context=q,v=D):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{P=l.stateNode,NS(s,l),D=l.memoizedProps,q=l.type===l.elementType?D:Lr(l.type,D),P.props=q,re=l.pendingProps,J=P.context,L=m.contextType,typeof L=="object"&&L!==null?L=hr(L):(L=Ln(m)?Xo:xn.current,L=na(l,L));var me=m.getDerivedStateFromProps;(X=typeof me=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(D!==re||J!==L)&&iC(l,P,v,L),go=!1,J=l.memoizedState,P.state=J,jc(l,v,P,S);var Se=l.memoizedState;D!==re||J!==Se||On.current||go?(typeof me=="function"&&($h(l,m,me,v),Se=l.memoizedState),(q=go||nC(l,m,q,v,J,Se,L)||!1)?(X||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,Se,L),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,Se,L)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Se),P.props=v,P.state=Se,P.context=L,v=q):(typeof P.componentDidUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(l.flags|=1024),v=!1)}return Hh(s,l,m,v,E,S)}function Hh(s,l,m,v,S,E){hC(s,l);var P=(l.flags&128)!==0;if(!v&&!P)return S&&wS(l,m,!1),Ii(s,l,E);v=l.stateNode,gO.current=l;var D=P&&typeof m.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&P?(l.child=sa(l,s.child,null,E),l.child=sa(l,null,D,E)):Pn(s,l,D,E),l.memoizedState=v.state,S&&wS(l,m,!0),l.child}function gC(s){var l=s.stateNode;l.pendingContext?vS(s,l.pendingContext,l.pendingContext!==l.context):l.context&&vS(s,l.context,!1),Ah(s,l.containerInfo)}function yC(s,l,m,v,S){return oa(),Sh(S),l.flags|=256,Pn(s,l,m,v),l.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function zh(s){return{baseLanes:s,cachePool:null,transitions:null}}function vC(s,l,m){var v=l.pendingProps,S=Et.current,E=!1,P=(l.flags&128)!==0,D;if((D=P)||(D=s!==null&&s.memoizedState===null?!1:(S&2)!==0),D?(E=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),ct(Et,S&1),s===null)return wh(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=v.children,s=v.fallback,E?(v=l.mode,E=l.child,P={mode:"hidden",children:P},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=P):E=sd(P,v,0,null),s=as(s,v,m,null),E.return=l,s.return=l,E.sibling=s,l.child=E,l.child.memoizedState=zh(m),l.memoizedState=Gh,s):Kh(l,P));if(S=s.memoizedState,S!==null&&(D=S.dehydrated,D!==null))return yO(s,l,P,v,D,S,m);if(E){E=v.fallback,P=l.mode,S=s.child,D=S.sibling;var L={mode:"hidden",children:v.children};return(P&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=L,l.deletions=null):(v=To(S,L),v.subtreeFlags=S.subtreeFlags&14680064),D!==null?E=To(D,E):(E=as(E,P,m,null),E.flags|=2),E.return=l,v.return=l,v.sibling=E,l.child=v,v=E,E=l.child,P=s.child.memoizedState,P=P===null?zh(m):{baseLanes:P.baseLanes|m,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=s.childLanes&~m,l.memoizedState=Gh,v}return E=s.child,s=E.sibling,v=To(E,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=m),v.return=l,v.sibling=null,s!==null&&(m=l.deletions,m===null?(l.deletions=[s],l.flags|=16):m.push(s)),l.child=v,l.memoizedState=null,v}function Kh(s,l){return l=sd({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function zc(s,l,m,v){return v!==null&&Sh(v),sa(l,s.child,null,m),s=Kh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function yO(s,l,m,v,S,E,P){if(m)return l.flags&256?(l.flags&=-257,v=Vh(Error(n(422))),zc(s,l,P,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(E=v.fallback,S=l.mode,v=sd({mode:"visible",children:v.children},S,0,null),E=as(E,S,P,null),E.flags|=2,v.return=l,E.return=l,v.sibling=E,l.child=v,(l.mode&1)!==0&&sa(l,s.child,null,P),l.child.memoizedState=zh(P),l.memoizedState=Gh,E);if((l.mode&1)===0)return zc(s,l,P,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var D=v.dgst;return v=D,E=Error(n(419)),v=Vh(E,v,void 0),zc(s,l,P,v)}if(D=(P&s.childLanes)!==0,Fn||D){if(v=nn,v!==null){switch(P&-P){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|P))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,bi(s,S),jr(v,s,S,-1))}return cm(),v=Vh(Error(n(421))),zc(s,l,P,v)}return S.data==="$?"?(l.flags|=128,l.child=s.child,l=kO.bind(null,s),S._reactRetry=l,null):(s=E.treeContext,Qn=fo(S.nextSibling),Xn=l,xt=!0,Or=null,s!==null&&(fr[pr++]=Ti,fr[pr++]=Ei,fr[pr++]=Qo,Ti=s.id,Ei=s.overflow,Qo=l),l=Kh(l,v.children),l.flags|=4096,l)}function xC(s,l,m){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),bh(s.return,l,m)}function Yh(s,l,m,v,S){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=m,E.tailMode=S)}function wC(s,l,m){var v=l.pendingProps,S=v.revealOrder,E=v.tail;if(Pn(s,l,v.children,m),v=Et.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xC(s,m,l);else if(s.tag===19)xC(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(ct(Et,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(m=l.child,S=null;m!==null;)s=m.alternate,s!==null&&$c(s)===null&&(S=m),m=m.sibling;m=S,m===null?(S=l.child,l.child=null):(S=m.sibling,m.sibling=null),Yh(l,!1,S,m,E);break;case"backwards":for(m=null,S=l.child,l.child=null;S!==null;){if(s=S.alternate,s!==null&&$c(s)===null){l.child=S;break}s=S.sibling,S.sibling=m,m=S,S=s}Yh(l,!0,m,null,E);break;case"together":Yh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Kc(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Ii(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),rs|=l.lanes,(m&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,m=To(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=To(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function vO(s,l,m){switch(l.tag){case 3:gC(l),oa();break;case 5:DS(l);break;case 1:Ln(l.type)&&kc(l);break;case 4:Ah(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;ct(Lc,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ct(Et,Et.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?vC(s,l,m):(ct(Et,Et.current&1),s=Ii(s,l,m),s!==null?s.sibling:null);ct(Et,Et.current&1);break;case 19:if(v=(m&l.childLanes)!==0,(s.flags&128)!==0){if(v)return wC(s,l,m);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ct(Et,Et.current),v)break;return null;case 22:case 23:return l.lanes=0,pC(s,l,m)}return Ii(s,l,m)}var SC,Jh,CC,TC;SC=function(s,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Jh=function(){},CC=function(s,l,m,v){var S=s.memoizedProps;if(S!==v){s=l.stateNode,ts(Zr.current);var E=null;switch(m){case"input":S=Ge(s,S),v=Ge(s,v),E=[];break;case"select":S=le({},S,{value:void 0}),v=le({},v,{value:void 0}),E=[];break;case"textarea":S=ye(s,S),v=ye(s,v),E=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Ic)}vi(m,v);var P;m=null;for(q in S)if(!v.hasOwnProperty(q)&&S.hasOwnProperty(q)&&S[q]!=null)if(q==="style"){var D=S[q];for(P in D)D.hasOwnProperty(P)&&(m||(m={}),m[P]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?E||(E=[]):(E=E||[]).push(q,null));for(q in v){var L=v[q];if(D=S?.[q],v.hasOwnProperty(q)&&L!==D&&(L!=null||D!=null))if(q==="style")if(D){for(P in D)!D.hasOwnProperty(P)||L&&L.hasOwnProperty(P)||(m||(m={}),m[P]="");for(P in L)L.hasOwnProperty(P)&&D[P]!==L[P]&&(m||(m={}),m[P]=L[P])}else m||(E||(E=[]),E.push(q,m)),m=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(E=E||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(E=E||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&ht("scroll",s),E||D===L||(E=[])):(E=E||[]).push(q,L))}m&&(E=E||[]).push("style",m);var q=E;(l.updateQueue=q)&&(l.flags|=4)}},TC=function(s,l,m,v){m!==v&&(l.flags|=4)};function jl(s,l){if(!xt)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Sn(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(l)for(var S=s.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=m,l}function xO(s,l,m){var v=l.pendingProps;switch(vh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(l),null;case 1:return Ln(l.type)&&Pc(),Sn(l),null;case 3:return v=l.stateNode,ua(),mt(On),mt(xn),Nh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Dc(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Or!==null&&(am(Or),Or=null))),Jh(s,l),Sn(l),null;case 5:Ph(l);var S=ts(Dl.current);if(m=l.type,s!==null&&l.stateNode!=null)CC(s,l,m,v,S),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return Sn(l),null}if(s=ts(Zr.current),Dc(l)){v=l.stateNode,m=l.type;var E=l.memoizedProps;switch(v[Qr]=l,v[Pl]=E,s=(l.mode&1)!==0,m){case"dialog":ht("cancel",v),ht("close",v);break;case"iframe":case"object":case"embed":ht("load",v);break;case"video":case"audio":for(S=0;S<_l.length;S++)ht(_l[S],v);break;case"source":ht("error",v);break;case"img":case"image":case"link":ht("error",v),ht("load",v);break;case"details":ht("toggle",v);break;case"input":Dt(v,E),ht("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},ht("invalid",v);break;case"textarea":Ht(v,E),ht("invalid",v)}vi(m,E),S=null;for(var P in E)if(E.hasOwnProperty(P)){var D=E[P];P==="children"?typeof D=="string"?v.textContent!==D&&(E.suppressHydrationWarning!==!0&&_c(v.textContent,D,s),S=["children",D]):typeof D=="number"&&v.textContent!==""+D&&(E.suppressHydrationWarning!==!0&&_c(v.textContent,D,s),S=["children",""+D]):i.hasOwnProperty(P)&&D!=null&&P==="onScroll"&&ht("scroll",v)}switch(m){case"input":Oe(v),Kr(v,E,!0);break;case"textarea":Oe(v),vn(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=Ic)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{P=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rn(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=P.createElement(m,{is:v.is}):(s=P.createElement(m),m==="select"&&(P=s,v.multiple?P.multiple=!0:v.size&&(P.size=v.size))):s=P.createElementNS(s,m),s[Qr]=l,s[Pl]=v,SC(s,l,!1,!1),l.stateNode=s;e:{switch(P=Yo(m,v),m){case"dialog":ht("cancel",s),ht("close",s),S=v;break;case"iframe":case"object":case"embed":ht("load",s),S=v;break;case"video":case"audio":for(S=0;S<_l.length;S++)ht(_l[S],s);S=v;break;case"source":ht("error",s),S=v;break;case"img":case"image":case"link":ht("error",s),ht("load",s),S=v;break;case"details":ht("toggle",s),S=v;break;case"input":Dt(s,v),S=Ge(s,v),ht("invalid",s);break;case"option":S=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},S=le({},v,{value:void 0}),ht("invalid",s);break;case"textarea":Ht(s,v),S=ye(s,v),ht("invalid",s);break;default:S=v}vi(m,S),D=S;for(E in D)if(D.hasOwnProperty(E)){var L=D[E];E==="style"?io(s,L):E==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&kr(s,L)):E==="children"?typeof L=="string"?(m!=="textarea"||L!=="")&&yi(s,L):typeof L=="number"&&yi(s,""+L):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?L!=null&&E==="onScroll"&&ht("scroll",s):L!=null&&k(s,E,L,P))}switch(m){case"input":Oe(s),Kr(s,v,!1);break;case"textarea":Oe(s),vn(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Ue(v.value));break;case"select":s.multiple=!!v.multiple,E=v.value,E!=null?In(s,!!v.multiple,E,!1):v.defaultValue!=null&&In(s,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=Ic)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Sn(l),null;case 6:if(s&&l.stateNode!=null)TC(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(m=ts(Dl.current),ts(Zr.current),Dc(l)){if(v=l.stateNode,m=l.memoizedProps,v[Qr]=l,(E=v.nodeValue!==m)&&(s=Xn,s!==null))switch(s.tag){case 3:_c(v.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&_c(v.nodeValue,m,(s.mode&1)!==0)}E&&(l.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Qr]=l,l.stateNode=v}return Sn(l),null;case 13:if(mt(Et),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&Qn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)_S(),oa(),l.flags|=98560,E=!1;else if(E=Dc(l),v!==null&&v.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Qr]=l}else oa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Sn(l),E=!1}else Or!==null&&(am(Or),Or=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Et.current&1)!==0?zt===0&&(zt=3):cm())),l.updateQueue!==null&&(l.flags|=4),Sn(l),null);case 4:return ua(),Jh(s,l),s===null&&Il(l.stateNode.containerInfo),Sn(l),null;case 10:return Eh(l.type._context),Sn(l),null;case 17:return Ln(l.type)&&Pc(),Sn(l),null;case 19:if(mt(Et),E=l.memoizedState,E===null)return Sn(l),null;if(v=(l.flags&128)!==0,P=E.rendering,P===null)if(v)jl(E,!1);else{if(zt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(P=$c(s),P!==null){for(l.flags|=128,jl(E,!1),v=P.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=m,m=l.child;m!==null;)E=m,s=v,E.flags&=14680066,P=E.alternate,P===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,s=P.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return ct(Et,Et.current&1|2),l.child}s=s.sibling}E.tail!==null&&Lt()>pa&&(l.flags|=128,v=!0,jl(E,!1),l.lanes=4194304)}else{if(!v)if(s=$c(P),s!==null){if(l.flags|=128,v=!0,m=s.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),jl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!xt)return Sn(l),null}else 2*Lt()-E.renderingStartTime>pa&&m!==1073741824&&(l.flags|=128,v=!0,jl(E,!1),l.lanes=4194304);E.isBackwards?(P.sibling=l.child,l.child=P):(m=E.last,m!==null?m.sibling=P:l.child=P,E.last=P)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Lt(),l.sibling=null,m=Et.current,ct(Et,v?m&1|2:m&1),l):(Sn(l),null);case 22:case 23:return um(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Zn&1073741824)!==0&&(Sn(l),l.subtreeFlags&6&&(l.flags|=8192)):Sn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function wO(s,l){switch(vh(l),l.tag){case 1:return Ln(l.type)&&Pc(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ua(),mt(On),mt(xn),Nh(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Ph(l),null;case 13:if(mt(Et),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));oa()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return mt(Et),null;case 4:return ua(),null;case 10:return Eh(l.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Yc=!1,Cn=!1,SO=typeof WeakSet=="function"?WeakSet:Set,ve=null;function da(s,l){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Pt(s,l,v)}else m.current=null}function Xh(s,l,m){try{m()}catch(v){Pt(s,l,v)}}var EC=!1;function CO(s,l){if(uh=mc,s=nS(),th(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var P=0,D=-1,L=-1,q=0,X=0,re=s,J=null;t:for(;;){for(var me;re!==m||S!==0&&re.nodeType!==3||(D=P+S),re!==E||v!==0&&re.nodeType!==3||(L=P+v),re.nodeType===3&&(P+=re.nodeValue.length),(me=re.firstChild)!==null;)J=re,re=me;for(;;){if(re===s)break t;if(J===m&&++q===S&&(D=P),J===E&&++X===v&&(L=P),(me=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=me}m=D===-1||L===-1?null:{start:D,end:L}}else m=null}m=m||{start:0,end:0}}else m=null;for(ch={focusedElem:s,selectionRange:m},mc=!1,ve=l;ve!==null;)if(l=ve,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ve=s;else for(;ve!==null;){l=ve;try{var Se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ee=Se.memoizedProps,Ft=Se.memoizedState,$=l.stateNode,F=$.getSnapshotBeforeUpdate(l.elementType===l.type?Ee:Lr(l.type,Ee),Ft);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var V=l.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){Pt(l,l.return,ae)}if(s=l.sibling,s!==null){s.return=l.return,ve=s;break}ve=l.return}return Se=EC,EC=!1,Se}function $l(s,l,m){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&s)===s){var E=S.destroy;S.destroy=void 0,E!==void 0&&Xh(l,m,E)}S=S.next}while(S!==v)}}function Jc(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&s)===s){var v=m.create;m.destroy=v()}m=m.next}while(m!==l)}}function Qh(s){var l=s.ref;if(l!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof l=="function"?l(s):l.current=s}}function bC(s){var l=s.alternate;l!==null&&(s.alternate=null,bC(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Qr],delete l[Pl],delete l[hh],delete l[iO],delete l[oO])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _C(s){return s.tag===5||s.tag===3||s.tag===4}function IC(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_C(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zh(s,l,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(s,l):m.insertBefore(s,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(s,m)):(l=m,l.appendChild(s)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Ic));else if(v!==4&&(s=s.child,s!==null))for(Zh(s,l,m),s=s.sibling;s!==null;)Zh(s,l,m),s=s.sibling}function em(s,l,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(em(s,l,m),s=s.sibling;s!==null;)em(s,l,m),s=s.sibling}var fn=null,Fr=!1;function vo(s,l,m){for(m=m.child;m!==null;)AC(s,l,m),m=m.sibling}function AC(s,l,m){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(uc,m)}catch{}switch(m.tag){case 5:Cn||da(m,l);case 6:var v=fn,S=Fr;fn=null,vo(s,l,m),fn=v,Fr=S,fn!==null&&(Fr?(s=fn,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):fn.removeChild(m.stateNode));break;case 18:fn!==null&&(Fr?(s=fn,m=m.stateNode,s.nodeType===8?ph(s.parentNode,m):s.nodeType===1&&ph(s,m),vl(s)):ph(fn,m.stateNode));break;case 4:v=fn,S=Fr,fn=m.stateNode.containerInfo,Fr=!0,vo(s,l,m),fn=v,Fr=S;break;case 0:case 11:case 14:case 15:if(!Cn&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var E=S,P=E.destroy;E=E.tag,P!==void 0&&((E&2)!==0||(E&4)!==0)&&Xh(m,l,P),S=S.next}while(S!==v)}vo(s,l,m);break;case 1:if(!Cn&&(da(m,l),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(D){Pt(m,l,D)}vo(s,l,m);break;case 21:vo(s,l,m);break;case 22:m.mode&1?(Cn=(v=Cn)||m.memoizedState!==null,vo(s,l,m),Cn=v):vo(s,l,m);break;default:vo(s,l,m)}}function PC(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new SO),l.forEach(function(v){var S=NO.bind(null,s,v);m.has(v)||(m.add(v),v.then(S,S))})}}function Ur(s,l){var m=l.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v];try{var E=s,P=l,D=P;e:for(;D!==null;){switch(D.tag){case 5:fn=D.stateNode,Fr=!1;break e;case 3:fn=D.stateNode.containerInfo,Fr=!0;break e;case 4:fn=D.stateNode.containerInfo,Fr=!0;break e}D=D.return}if(fn===null)throw Error(n(160));AC(E,P,S),fn=null,Fr=!1;var L=S.alternate;L!==null&&(L.return=null),S.return=null}catch(q){Pt(S,l,q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)kC(l,s),l=l.sibling}function kC(s,l){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ur(l,s),ti(s),v&4){try{$l(3,s,s.return),Jc(3,s)}catch(Ee){Pt(s,s.return,Ee)}try{$l(5,s,s.return)}catch(Ee){Pt(s,s.return,Ee)}}break;case 1:Ur(l,s),ti(s),v&512&&m!==null&&da(m,m.return);break;case 5:if(Ur(l,s),ti(s),v&512&&m!==null&&da(m,m.return),s.flags&32){var S=s.stateNode;try{yi(S,"")}catch(Ee){Pt(s,s.return,Ee)}}if(v&4&&(S=s.stateNode,S!=null)){var E=s.memoizedProps,P=m!==null?m.memoizedProps:E,D=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{D==="input"&&E.type==="radio"&&E.name!=null&&pt(S,E),Yo(D,P);var q=Yo(D,E);for(P=0;P<L.length;P+=2){var X=L[P],re=L[P+1];X==="style"?io(S,re):X==="dangerouslySetInnerHTML"?kr(S,re):X==="children"?yi(S,re):k(S,X,re,q)}switch(D){case"input":cn(S,E);break;case"textarea":zn(S,E);break;case"select":var J=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var me=E.value;me!=null?In(S,!!E.multiple,me,!1):J!==!!E.multiple&&(E.defaultValue!=null?In(S,!!E.multiple,E.defaultValue,!0):In(S,!!E.multiple,E.multiple?[]:"",!1))}S[Pl]=E}catch(Ee){Pt(s,s.return,Ee)}}break;case 6:if(Ur(l,s),ti(s),v&4){if(s.stateNode===null)throw Error(n(162));S=s.stateNode,E=s.memoizedProps;try{S.nodeValue=E}catch(Ee){Pt(s,s.return,Ee)}}break;case 3:if(Ur(l,s),ti(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{vl(l.containerInfo)}catch(Ee){Pt(s,s.return,Ee)}break;case 4:Ur(l,s),ti(s);break;case 13:Ur(l,s),ti(s),S=s.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(rm=Lt())),v&4&&PC(s);break;case 22:if(X=m!==null&&m.memoizedState!==null,s.mode&1?(Cn=(q=Cn)||X,Ur(l,s),Cn=q):Ur(l,s),ti(s),v&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!X&&(s.mode&1)!==0)for(ve=s,X=s.child;X!==null;){for(re=ve=X;ve!==null;){switch(J=ve,me=J.child,J.tag){case 0:case 11:case 14:case 15:$l(4,J,J.return);break;case 1:da(J,J.return);var Se=J.stateNode;if(typeof Se.componentWillUnmount=="function"){v=J,m=J.return;try{l=v,Se.props=l.memoizedProps,Se.state=l.memoizedState,Se.componentWillUnmount()}catch(Ee){Pt(v,m,Ee)}}break;case 5:da(J,J.return);break;case 22:if(J.memoizedState!==null){RC(re);continue}}me!==null?(me.return=J,ve=me):RC(re)}X=X.sibling}e:for(X=null,re=s;;){if(re.tag===5){if(X===null){X=re;try{S=re.stateNode,q?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(D=re.stateNode,L=re.memoizedProps.style,P=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=Gs("display",P))}catch(Ee){Pt(s,s.return,Ee)}}}else if(re.tag===6){if(X===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(Ee){Pt(s,s.return,Ee)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;X===re&&(X=null),re=re.return}X===re&&(X=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Ur(l,s),ti(s),v&4&&PC(s);break;case 21:break;default:Ur(l,s),ti(s)}}function ti(s){var l=s.flags;if(l&2){try{e:{for(var m=s.return;m!==null;){if(_C(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(yi(S,""),v.flags&=-33);var E=IC(s);em(s,E,S);break;case 3:case 4:var P=v.stateNode.containerInfo,D=IC(s);Zh(s,D,P);break;default:throw Error(n(161))}}catch(L){Pt(s,s.return,L)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function TO(s,l,m){ve=s,NC(s)}function NC(s,l,m){for(var v=(s.mode&1)!==0;ve!==null;){var S=ve,E=S.child;if(S.tag===22&&v){var P=S.memoizedState!==null||Yc;if(!P){var D=S.alternate,L=D!==null&&D.memoizedState!==null||Cn;D=Yc;var q=Cn;if(Yc=P,(Cn=L)&&!q)for(ve=S;ve!==null;)P=ve,L=P.child,P.tag===22&&P.memoizedState!==null?DC(S):L!==null?(L.return=P,ve=L):DC(S);for(;E!==null;)ve=E,NC(E),E=E.sibling;ve=S,Yc=D,Cn=q}MC(s)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,ve=E):MC(s)}}function MC(s){for(;ve!==null;){var l=ve;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Cn||Jc(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Cn)if(m===null)v.componentDidMount();else{var S=l.elementType===l.type?m.memoizedProps:Lr(l.type,m.memoizedProps);v.componentDidUpdate(S,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&RS(l,E,v);break;case 3:var P=l.updateQueue;if(P!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}RS(l,P,m)}break;case 5:var D=l.stateNode;if(m===null&&l.flags&4){m=D;var L=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&m.focus();break;case"img":L.src&&(m.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var q=l.alternate;if(q!==null){var X=q.memoizedState;if(X!==null){var re=X.dehydrated;re!==null&&vl(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cn||l.flags&512&&Qh(l)}catch(J){Pt(l,l.return,J)}}if(l===s){ve=null;break}if(m=l.sibling,m!==null){m.return=l.return,ve=m;break}ve=l.return}}function RC(s){for(;ve!==null;){var l=ve;if(l===s){ve=null;break}var m=l.sibling;if(m!==null){m.return=l.return,ve=m;break}ve=l.return}}function DC(s){for(;ve!==null;){var l=ve;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{Jc(4,l)}catch(L){Pt(l,m,L)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(L){Pt(l,S,L)}}var E=l.return;try{Qh(l)}catch(L){Pt(l,E,L)}break;case 5:var P=l.return;try{Qh(l)}catch(L){Pt(l,P,L)}}}catch(L){Pt(l,l.return,L)}if(l===s){ve=null;break}var D=l.sibling;if(D!==null){D.return=l.return,ve=D;break}ve=l.return}}var EO=Math.ceil,Xc=M.ReactCurrentDispatcher,tm=M.ReactCurrentOwner,gr=M.ReactCurrentBatchConfig,Ke=0,nn=null,Bt=null,pn=0,Zn=0,fa=po(0),zt=0,Bl=null,rs=0,Qc=0,nm=0,Vl=null,Un=null,rm=0,pa=1/0,Ai=null,Zc=!1,im=null,xo=null,ed=!1,wo=null,td=0,Wl=0,om=null,nd=-1,rd=0;function kn(){return(Ke&6)!==0?Lt():nd!==-1?nd:nd=Lt()}function So(s){return(s.mode&1)===0?1:(Ke&2)!==0&&pn!==0?pn&-pn:aO.transition!==null?(rd===0&&(rd=Iw()),rd):(s=rt,s!==0||(s=window.event,s=s===void 0?16:Lw(s.type)),s)}function jr(s,l,m,v){if(50<Wl)throw Wl=0,om=null,Error(n(185));pl(s,m,v),((Ke&2)===0||s!==nn)&&(s===nn&&((Ke&2)===0&&(Qc|=m),zt===4&&Co(s,pn)),jn(s,v),m===1&&Ke===0&&(l.mode&1)===0&&(pa=Lt()+500,Nc&&mo()))}function jn(s,l){var m=s.callbackNode;a2(s,l);var v=fc(s,s===nn?pn:0);if(v===0)m!==null&&ac(m),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(m!=null&&ac(m),l===1)s.tag===0?sO(LC.bind(null,s)):SS(LC.bind(null,s)),nO(function(){(Ke&6)===0&&mo()}),m=null;else{switch(Aw(v)){case 1:m=Up;break;case 4:m=bw;break;case 16:m=lc;break;case 536870912:m=_w;break;default:m=lc}m=qC(m,OC.bind(null,s))}s.callbackPriority=l,s.callbackNode=m}}function OC(s,l){if(nd=-1,rd=0,(Ke&6)!==0)throw Error(n(327));var m=s.callbackNode;if(ha()&&s.callbackNode!==m)return null;var v=fc(s,s===nn?pn:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=id(s,v);else{l=v;var S=Ke;Ke|=2;var E=UC();(nn!==s||pn!==l)&&(Ai=null,pa=Lt()+500,os(s,l));do try{IO();break}catch(D){FC(s,D)}while(!0);Th(),Xc.current=E,Ke=S,Bt!==null?l=0:(nn=null,pn=0,l=zt)}if(l!==0){if(l===2&&(S=jp(s),S!==0&&(v=S,l=sm(s,S))),l===1)throw m=Bl,os(s,0),Co(s,v),jn(s,Lt()),m;if(l===6)Co(s,v);else{if(S=s.current.alternate,(v&30)===0&&!bO(S)&&(l=id(s,v),l===2&&(E=jp(s),E!==0&&(v=E,l=sm(s,E))),l===1))throw m=Bl,os(s,0),Co(s,v),jn(s,Lt()),m;switch(s.finishedWork=S,s.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:ss(s,Un,Ai);break;case 3:if(Co(s,v),(v&130023424)===v&&(l=rm+500-Lt(),10<l)){if(fc(s,0)!==0)break;if(S=s.suspendedLanes,(S&v)!==v){kn(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=fh(ss.bind(null,s,Un,Ai),l);break}ss(s,Un,Ai);break;case 4:if(Co(s,v),(v&4194240)===v)break;for(l=s.eventTimes,S=-1;0<v;){var P=31-Rr(v);E=1<<P,P=l[P],P>S&&(S=P),v&=~E}if(v=S,v=Lt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*EO(v/1960))-v,10<v){s.timeoutHandle=fh(ss.bind(null,s,Un,Ai),v);break}ss(s,Un,Ai);break;case 5:ss(s,Un,Ai);break;default:throw Error(n(329))}}}return jn(s,Lt()),s.callbackNode===m?OC.bind(null,s):null}function sm(s,l){var m=Vl;return s.current.memoizedState.isDehydrated&&(os(s,l).flags|=256),s=id(s,l),s!==2&&(l=Un,Un=m,l!==null&&am(l)),s}function am(s){Un===null?Un=s:Un.push.apply(Un,s)}function bO(s){for(var l=s;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var S=m[v],E=S.getSnapshot;S=S.value;try{if(!Dr(E(),S))return!1}catch{return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Co(s,l){for(l&=~nm,l&=~Qc,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var m=31-Rr(l),v=1<<m;s[m]=-1,l&=~v}}function LC(s){if((Ke&6)!==0)throw Error(n(327));ha();var l=fc(s,0);if((l&1)===0)return jn(s,Lt()),null;var m=id(s,l);if(s.tag!==0&&m===2){var v=jp(s);v!==0&&(l=v,m=sm(s,v))}if(m===1)throw m=Bl,os(s,0),Co(s,l),jn(s,Lt()),m;if(m===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,ss(s,Un,Ai),jn(s,Lt()),null}function lm(s,l){var m=Ke;Ke|=1;try{return s(l)}finally{Ke=m,Ke===0&&(pa=Lt()+500,Nc&&mo())}}function is(s){wo!==null&&wo.tag===0&&(Ke&6)===0&&ha();var l=Ke;Ke|=1;var m=gr.transition,v=rt;try{if(gr.transition=null,rt=1,s)return s()}finally{rt=v,gr.transition=m,Ke=l,(Ke&6)===0&&mo()}}function um(){Zn=fa.current,mt(fa)}function os(s,l){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,tO(m)),Bt!==null)for(m=Bt.return;m!==null;){var v=m;switch(vh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Pc();break;case 3:ua(),mt(On),mt(xn),Nh();break;case 5:Ph(v);break;case 4:ua();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:Eh(v.type._context);break;case 22:case 23:um()}m=m.return}if(nn=s,Bt=s=To(s.current,null),pn=Zn=l,zt=0,Bl=null,nm=Qc=rs=0,Un=Vl=null,es!==null){for(l=0;l<es.length;l++)if(m=es[l],v=m.interleaved,v!==null){m.interleaved=null;var S=v.next,E=m.pending;if(E!==null){var P=E.next;E.next=S,v.next=P}m.pending=v}es=null}return s}function FC(s,l){do{var m=Bt;try{if(Th(),Bc.current=Hc,Vc){for(var v=bt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Vc=!1}if(ns=0,tn=Gt=bt=null,Ol=!1,Ll=0,tm.current=null,m===null||m.return===null){zt=1,Bl=l,Bt=null;break}e:{var E=s,P=m.return,D=m,L=l;if(l=pn,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,X=D,re=X.tag;if((X.mode&1)===0&&(re===0||re===11||re===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var me=lC(P);if(me!==null){me.flags&=-257,uC(me,P,D,E,l),me.mode&1&&aC(E,q,l),l=me,L=q;var Se=l.updateQueue;if(Se===null){var Ee=new Set;Ee.add(L),l.updateQueue=Ee}else Se.add(L);break e}else{if((l&1)===0){aC(E,q,l),cm();break e}L=Error(n(426))}}else if(xt&&D.mode&1){var Ft=lC(P);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),uC(Ft,P,D,E,l),Sh(ca(L,D));break e}}E=L=ca(L,D),zt!==4&&(zt=2),Vl===null?Vl=[E]:Vl.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var $=oC(E,L,l);MS(E,$);break e;case 1:D=L;var F=E.type,V=E.stateNode;if((E.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(xo===null||!xo.has(V)))){E.flags|=65536,l&=-l,E.lanes|=l;var ae=sC(E,D,l);MS(E,ae);break e}}E=E.return}while(E!==null)}$C(m)}catch(_e){l=_e,Bt===m&&m!==null&&(Bt=m=m.return);continue}break}while(!0)}function UC(){var s=Xc.current;return Xc.current=Hc,s===null?Hc:s}function cm(){(zt===0||zt===3||zt===2)&&(zt=4),nn===null||(rs&268435455)===0&&(Qc&268435455)===0||Co(nn,pn)}function id(s,l){var m=Ke;Ke|=2;var v=UC();(nn!==s||pn!==l)&&(Ai=null,os(s,l));do try{_O();break}catch(S){FC(s,S)}while(!0);if(Th(),Ke=m,Xc.current=v,Bt!==null)throw Error(n(261));return nn=null,pn=0,zt}function _O(){for(;Bt!==null;)jC(Bt)}function IO(){for(;Bt!==null&&!QD();)jC(Bt)}function jC(s){var l=WC(s.alternate,s,Zn);s.memoizedProps=s.pendingProps,l===null?$C(s):Bt=l,tm.current=null}function $C(s){var l=s;do{var m=l.alternate;if(s=l.return,(l.flags&32768)===0){if(m=xO(m,l,Zn),m!==null){Bt=m;return}}else{if(m=wO(m,l),m!==null){m.flags&=32767,Bt=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zt=6,Bt=null;return}}if(l=l.sibling,l!==null){Bt=l;return}Bt=l=s}while(l!==null);zt===0&&(zt=5)}function ss(s,l,m){var v=rt,S=gr.transition;try{gr.transition=null,rt=1,AO(s,l,m,v)}finally{gr.transition=S,rt=v}return null}function AO(s,l,m,v){do ha();while(wo!==null);if((Ke&6)!==0)throw Error(n(327));m=s.finishedWork;var S=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=m.lanes|m.childLanes;if(l2(s,E),s===nn&&(Bt=nn=null,pn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ed||(ed=!0,qC(lc,function(){return ha(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=gr.transition,gr.transition=null;var P=rt;rt=1;var D=Ke;Ke|=4,tm.current=null,CO(s,m),kC(m,s),K2(ch),mc=!!uh,ch=uh=null,s.current=m,TO(m),ZD(),Ke=D,rt=P,gr.transition=E}else s.current=m;if(ed&&(ed=!1,wo=s,td=S),E=s.pendingLanes,E===0&&(xo=null),n2(m.stateNode),jn(s,Lt()),l!==null)for(v=s.onRecoverableError,m=0;m<l.length;m++)S=l[m],v(S.value,{componentStack:S.stack,digest:S.digest});if(Zc)throw Zc=!1,s=im,im=null,s;return(td&1)!==0&&s.tag!==0&&ha(),E=s.pendingLanes,(E&1)!==0?s===om?Wl++:(Wl=0,om=s):Wl=0,mo(),null}function ha(){if(wo!==null){var s=Aw(td),l=gr.transition,m=rt;try{if(gr.transition=null,rt=16>s?16:s,wo===null)var v=!1;else{if(s=wo,wo=null,td=0,(Ke&6)!==0)throw Error(n(331));var S=Ke;for(Ke|=4,ve=s.current;ve!==null;){var E=ve,P=E.child;if((ve.flags&16)!==0){var D=E.deletions;if(D!==null){for(var L=0;L<D.length;L++){var q=D[L];for(ve=q;ve!==null;){var X=ve;switch(X.tag){case 0:case 11:case 15:$l(8,X,E)}var re=X.child;if(re!==null)re.return=X,ve=re;else for(;ve!==null;){X=ve;var J=X.sibling,me=X.return;if(bC(X),X===q){ve=null;break}if(J!==null){J.return=me,ve=J;break}ve=me}}}var Se=E.alternate;if(Se!==null){var Ee=Se.child;if(Ee!==null){Se.child=null;do{var Ft=Ee.sibling;Ee.sibling=null,Ee=Ft}while(Ee!==null)}}ve=E}}if((E.subtreeFlags&2064)!==0&&P!==null)P.return=E,ve=P;else e:for(;ve!==null;){if(E=ve,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:$l(9,E,E.return)}var $=E.sibling;if($!==null){$.return=E.return,ve=$;break e}ve=E.return}}var F=s.current;for(ve=F;ve!==null;){P=ve;var V=P.child;if((P.subtreeFlags&2064)!==0&&V!==null)V.return=P,ve=V;else e:for(P=F;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Jc(9,D)}}catch(_e){Pt(D,D.return,_e)}if(D===P){ve=null;break e}var ae=D.sibling;if(ae!==null){ae.return=D.return,ve=ae;break e}ve=D.return}}if(Ke=S,mo(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(uc,s)}catch{}v=!0}return v}finally{rt=m,gr.transition=l}}return!1}function BC(s,l,m){l=ca(m,l),l=oC(s,l,1),s=yo(s,l,1),l=kn(),s!==null&&(pl(s,1,l),jn(s,l))}function Pt(s,l,m){if(s.tag===3)BC(s,s,m);else for(;l!==null;){if(l.tag===3){BC(l,s,m);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(xo===null||!xo.has(v))){s=ca(m,s),s=sC(l,s,1),l=yo(l,s,1),s=kn(),l!==null&&(pl(l,1,s),jn(l,s));break}}l=l.return}}function PO(s,l,m){var v=s.pingCache;v!==null&&v.delete(l),l=kn(),s.pingedLanes|=s.suspendedLanes&m,nn===s&&(pn&m)===m&&(zt===4||zt===3&&(pn&130023424)===pn&&500>Lt()-rm?os(s,0):nm|=m),jn(s,l)}function VC(s,l){l===0&&((s.mode&1)===0?l=1:(l=dc,dc<<=1,(dc&130023424)===0&&(dc=4194304)));var m=kn();s=bi(s,l),s!==null&&(pl(s,l,m),jn(s,m))}function kO(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),VC(s,m)}function NO(s,l){var m=0;switch(s.tag){case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),VC(s,m)}var WC;WC=function(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps||On.current)Fn=!0;else{if((s.lanes&m)===0&&(l.flags&128)===0)return Fn=!1,vO(s,l,m);Fn=(s.flags&131072)!==0}else Fn=!1,xt&&(l.flags&1048576)!==0&&CS(l,Rc,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Kc(s,l),s=l.pendingProps;var S=na(l,xn.current);la(l,m),S=Dh(null,l,v,s,S,m);var E=Oh();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ln(v)?(E=!0,kc(l)):E=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ih(l),S.updater=Gc,l.stateNode=S,S._reactInternals=l,Bh(l,v,s,m),l=Hh(null,l,v,!0,E,m)):(l.tag=0,xt&&E&&yh(l),Pn(null,l,S,m),l=l.child),l;case 16:v=l.elementType;e:{switch(Kc(s,l),s=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=RO(v),s=Lr(v,s),S){case 0:l=qh(null,l,v,s,m);break e;case 1:l=mC(null,l,v,s,m);break e;case 11:l=cC(null,l,v,s,m);break e;case 14:l=dC(null,l,v,Lr(v.type,s),m);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Lr(v,S),qh(s,l,v,S,m);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Lr(v,S),mC(s,l,v,S,m);case 3:e:{if(gC(l),s===null)throw Error(n(387));v=l.pendingProps,E=l.memoizedState,S=E.element,NS(s,l),jc(l,v,null,m);var P=l.memoizedState;if(v=P.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){S=ca(Error(n(423)),l),l=yC(s,l,v,m,S);break e}else if(v!==S){S=ca(Error(n(424)),l),l=yC(s,l,v,m,S);break e}else for(Qn=fo(l.stateNode.containerInfo.firstChild),Xn=l,xt=!0,Or=null,m=PS(l,null,v,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(oa(),v===S){l=Ii(s,l,m);break e}Pn(s,l,v,m)}l=l.child}return l;case 5:return DS(l),s===null&&wh(l),v=l.type,S=l.pendingProps,E=s!==null?s.memoizedProps:null,P=S.children,dh(v,S)?P=null:E!==null&&dh(v,E)&&(l.flags|=32),hC(s,l),Pn(s,l,P,m),l.child;case 6:return s===null&&wh(l),null;case 13:return vC(s,l,m);case 4:return Ah(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=sa(l,null,v,m):Pn(s,l,v,m),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Lr(v,S),cC(s,l,v,S,m);case 7:return Pn(s,l,l.pendingProps,m),l.child;case 8:return Pn(s,l,l.pendingProps.children,m),l.child;case 12:return Pn(s,l,l.pendingProps.children,m),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,E=l.memoizedProps,P=S.value,ct(Lc,v._currentValue),v._currentValue=P,E!==null)if(Dr(E.value,P)){if(E.children===S.children&&!On.current){l=Ii(s,l,m);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var D=E.dependencies;if(D!==null){P=E.child;for(var L=D.firstContext;L!==null;){if(L.context===v){if(E.tag===1){L=_i(-1,m&-m),L.tag=2;var q=E.updateQueue;if(q!==null){q=q.shared;var X=q.pending;X===null?L.next=L:(L.next=X.next,X.next=L),q.pending=L}}E.lanes|=m,L=E.alternate,L!==null&&(L.lanes|=m),bh(E.return,m,l),D.lanes|=m;break}L=L.next}}else if(E.tag===10)P=E.type===l.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=m,D=P.alternate,D!==null&&(D.lanes|=m),bh(P,m,l),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===l){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}Pn(s,l,S.children,m),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,la(l,m),S=hr(S),v=v(S),l.flags|=1,Pn(s,l,v,m),l.child;case 14:return v=l.type,S=Lr(v,l.pendingProps),S=Lr(v.type,S),dC(s,l,v,S,m);case 15:return fC(s,l,l.type,l.pendingProps,m);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Lr(v,S),Kc(s,l),l.tag=1,Ln(v)?(s=!0,kc(l)):s=!1,la(l,m),rC(l,v,S),Bh(l,v,S,m),Hh(null,l,v,!0,s,m);case 19:return wC(s,l,m);case 22:return pC(s,l,m)}throw Error(n(156,l.tag))};function qC(s,l){return wi(s,l)}function MO(s,l,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,l,m,v){return new MO(s,l,m,v)}function dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function RO(s){if(typeof s=="function")return dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===de)return 14}return 2}function To(s,l){var m=s.alternate;return m===null?(m=yr(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function od(s,l,m,v,S,E){var P=2;if(v=s,typeof s=="function")dm(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case O:return as(m.children,S,E,l);case j:P=8,S|=8;break;case W:return s=yr(12,m,l,S|2),s.elementType=W,s.lanes=E,s;case ie:return s=yr(13,m,l,S),s.elementType=ie,s.lanes=E,s;case ce:return s=yr(19,m,l,S),s.elementType=ce,s.lanes=E,s;case be:return sd(m,S,E,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:P=10;break e;case G:P=9;break e;case Y:P=11;break e;case de:P=14;break e;case pe:P=16,v=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=yr(P,m,l,S),l.elementType=s,l.type=v,l.lanes=E,l}function as(s,l,m,v){return s=yr(7,s,v,l),s.lanes=m,s}function sd(s,l,m,v){return s=yr(22,s,v,l),s.elementType=be,s.lanes=m,s.stateNode={isHidden:!1},s}function fm(s,l,m){return s=yr(6,s,null,l),s.lanes=m,s}function pm(s,l,m){return l=yr(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function DO(s,l,m,v,S){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function hm(s,l,m,v,S,E,P,D,L){return s=new DO(s,l,m,D,L),l===1?(l=1,E===!0&&(l|=8)):l=0,E=yr(3,null,null,l),s.current=E,E.stateNode=s,E.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(E),s}function OO(s,l,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:v==null?null:""+v,children:s,containerInfo:l,implementation:m}}function HC(s){if(!s)return ho;s=s._reactInternals;e:{if(Le(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ln(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var m=s.type;if(Ln(m))return xS(s,m,l)}return l}function GC(s,l,m,v,S,E,P,D,L){return s=hm(m,v,!0,s,S,E,P,D,L),s.context=HC(null),m=s.current,v=kn(),S=So(m),E=_i(v,S),E.callback=l??null,yo(m,E,S),s.current.lanes=S,pl(s,S,v),jn(s,v),s}function ad(s,l,m,v){var S=l.current,E=kn(),P=So(S);return m=HC(m),l.context===null?l.context=m:l.pendingContext=m,l=_i(E,P),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=yo(S,l,P),s!==null&&(jr(s,S,P,E),Uc(s,S,P)),P}function ld(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function zC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function mm(s,l){zC(s,l),(s=s.alternate)&&zC(s,l)}function LO(){return null}var KC=typeof reportError=="function"?reportError:function(s){console.error(s)};function gm(s){this._internalRoot=s}ud.prototype.render=gm.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));ad(s,l,null,null)},ud.prototype.unmount=gm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;is(function(){ad(null,s,null,null)}),l[Si]=null}};function ud(s){this._internalRoot=s}ud.prototype.unstable_scheduleHydration=function(s){if(s){var l=Nw();s={blockedOn:null,target:s,priority:l};for(var m=0;m<lo.length&&l!==0&&l<lo[m].priority;m++);lo.splice(m,0,s),m===0&&Dw(s)}};function ym(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function YC(){}function FO(s,l,m,v,S){if(S){if(typeof v=="function"){var E=v;v=function(){var q=ld(P);E.call(q)}}var P=GC(l,v,s,0,null,!1,!1,"",YC);return s._reactRootContainer=P,s[Si]=P.current,Il(s.nodeType===8?s.parentNode:s),is(),P}for(;S=s.lastChild;)s.removeChild(S);if(typeof v=="function"){var D=v;v=function(){var q=ld(L);D.call(q)}}var L=hm(s,0,!1,null,null,!1,!1,"",YC);return s._reactRootContainer=L,s[Si]=L.current,Il(s.nodeType===8?s.parentNode:s),is(function(){ad(l,L,m,v)}),L}function dd(s,l,m,v,S){var E=m._reactRootContainer;if(E){var P=E;if(typeof S=="function"){var D=S;S=function(){var L=ld(P);D.call(L)}}ad(l,P,s,S)}else P=FO(m,l,s,S,v);return ld(P)}Pw=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var m=fl(l.pendingLanes);m!==0&&(Bp(l,m|1),jn(l,Lt()),(Ke&6)===0&&(pa=Lt()+500,mo()))}break;case 13:is(function(){var v=bi(s,1);if(v!==null){var S=kn();jr(v,s,1,S)}}),mm(s,1)}},Vp=function(s){if(s.tag===13){var l=bi(s,134217728);if(l!==null){var m=kn();jr(l,s,134217728,m)}mm(s,134217728)}},kw=function(s){if(s.tag===13){var l=So(s),m=bi(s,l);if(m!==null){var v=kn();jr(m,s,l,v)}mm(s,l)}},Nw=function(){return rt},Mw=function(s,l){var m=rt;try{return rt=s,l()}finally{rt=m}},ue=function(s,l,m){switch(l){case"input":if(cn(s,m),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var v=m[l];if(v!==s&&v.form===s.form){var S=Ac(v);if(!S)throw Error(n(90));Z(v),cn(v,S)}}}break;case"textarea":zn(s,m);break;case"select":l=m.value,l!=null&&In(s,!!m.multiple,l,!1)}},Re=lm,tt=is;var UO={usingClientEntryPoint:!1,Events:[kl,ea,Ac,Ve,ke,lm]},ql={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jO={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||LO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{uc=fd.inject(jO),Xr=fd}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UO,$n.createPortal=function(s,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(l))throw Error(n(200));return OO(s,l,null,m)},$n.createRoot=function(s,l){if(!ym(s))throw Error(n(299));var m=!1,v="",S=KC;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=hm(s,1,!1,null,null,m,!1,v,S),s[Si]=l.current,Il(s.nodeType===8?s.parentNode:s),new gm(l)},$n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Tt(l),s=s===null?null:s.stateNode,s},$n.flushSync=function(s){return is(s)},$n.hydrate=function(s,l,m){if(!cd(l))throw Error(n(200));return dd(null,s,l,!0,m)},$n.hydrateRoot=function(s,l,m){if(!ym(s))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,S=!1,E="",P=KC;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(P=m.onRecoverableError)),l=GC(l,null,s,1,m??null,S,!1,E,P),s[Si]=l.current,Il(s),v)for(s=0;s<v.length;s++)m=v[s],S=m._getVersion,S=S(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,S]:l.mutableSourceEagerHydrationData.push(m,S);return new ud(l)},$n.render=function(s,l,m){if(!cd(l))throw Error(n(200));return dd(null,s,l,!1,m)},$n.unmountComponentAtNode=function(s){if(!cd(s))throw Error(n(40));return s._reactRootContainer?(is(function(){dd(null,null,s,!1,function(){s._reactRootContainer=null,s[Si]=null})}),!0):!1},$n.unstable_batchedUpdates=lm,$n.unstable_renderSubtreeIntoContainer=function(s,l,m,v){if(!cd(m))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return dd(s,l,m,!1,v)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var rT;function gA(){if(rT)return wm.exports;rT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=KO(),wm.exports}var iT;function YO(){if(iT)return pd;iT=1;var t=gA();return pd.createRoot=t.createRoot,pd.hydrateRoot=t.hydrateRoot,pd}var JO=YO();const XO=Gr(JO);var ee=(t=>(t.Welcome="welcome",t.SignUpLogin="signup_login",t.Onboarding="onboarding",t.Home="home",t.InnerCompass="inner_compass",t.Game="game",t.FinancialGoals="financial_goals",t.AddFinancialGoal="add_financial_goal",t.Profile="profile",t.AddExpense="add_expense",t.AddIncome="add_income",t.Notes="notes",t.SmsImport="sms_import",t.SpendingCheck="spending_check",t.Achievements="achievements",t.PrivacyPolicy="privacy_policy",t.AevumVault="aevum_vault",t.SetVaultWish="set_vault_wish",t.VaultRevealed="vault_revealed",t.Chat="chat",t))(ee||{}),je=(t=>(t.Happy="Happy",t.Sad="Sad",t.Stressed="Stressed",t.Excited="Excited",t.Neutral="Neutral",t.Anxious="Anxious",t.Proud="Proud",t.Grateful="Grateful",t.Tired="Tired",t.Bored="Bored",t.Playful="Playful",t.Content="Content",t))(je||{}),ws=(t=>(t.FIRST_WEEK_STREAK="first_week_streak",t.MINDFUL_SPENDER="mindful_spender",t.MOOD_MASTER="mood_master",t))(ws||{});const QO=({className:t})=>x.jsxs("svg",{className:t,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[x.jsxs("defs",{children:[x.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#1ABC9C"}),x.jsx("stop",{offset:"100%",stopColor:"#2C3E50"})]}),x.jsx("clipPath",{id:"apertureClip",children:x.jsx("path",{d:"M50,50 L95,50 A45,45 0 0,0 50,5 Z"})})]}),x.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"url(#logoGradient)",strokeWidth:"3",opacity:"0.5"}),x.jsx("g",{className:"aperture-blades",children:[0,60,120,180,240,300].map(e=>x.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#logoGradient)",clipPath:"url(#apertureClip)",transform:`rotate(${e}, 50, 50)`},e))}),x.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"#2C3E50"})]}),ZO=({onNavigate:t})=>x.jsxs("div",{className:"h-full flex flex-col justify-between items-center text-center p-8 bg-background overflow-hidden",children:[x.jsx("style",{children:`
            @keyframes aperture-open {
                0%, 100% { transform: scale(0.2) rotate(90deg); }
                50% { transform: scale(1) rotate(0deg); }
            }
            .aperture-blades {
                animation: aperture-open 5s ease-in-out infinite;
                transform-origin: 50% 50%;
            }
            @keyframes fade-in-up {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in-up {
                animation: fade-in-up 1s ease-out forwards;
            }
        `}),x.jsx("div",{className:"w-full pt-16 flex justify-center items-center",children:x.jsx(QO,{className:"w-32 h-32"})}),x.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center",children:[x.jsx("h1",{className:"text-5xl font-bold mb-4 tracking-tight text-primary animate-fade-in-up",style:{animationDelay:"200ms"},children:"LifeLens"}),x.jsx("p",{className:"text-lg text-secondary max-w-sm animate-fade-in-up",style:{animationDelay:"400ms"},children:"Track your money, moods, and mindset."})]}),x.jsx("div",{className:"w-full pb-8 animate-fade-in-up",style:{animationDelay:"600ms"},children:x.jsx("button",{onClick:t,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-2xl shadow-card hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out",children:"Get Started"})})]}),eL=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},vA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,g=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,w=f&63;c||(w=64,a||(y=64)),r.push(n[h],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new nL;const y=o<<2|u>>4;if(r.push(y),f!==64){const w=u<<4&240|f>>2;if(r.push(w),g!==64){const C=f<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rL=function(t){const e=yA(t);return vA.encodeByteArray(e,!0)},xA=function(t){return rL(t).replace(/\./g,"")},Bv=function(t){try{return vA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iL(n)||(t[n]=Wd(t[n],e[n]));return t}function iL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=()=>wA().__FIREBASE_DEFAULTS__,sL=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bv(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return eL()||oL()||sL()||aL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wv=()=>Vv()?.config,lL=t=>Vv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cL(t){return(await fetch(t,{credentials:"include"})).ok}const uu={};function dL(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function fL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function pL(t,e){if(typeof window>"u"||typeof document>"u"||!$f(window.location.host)||uu[t]===e||uu[t]||sT)return;uu[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=dL().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{sT=!0,a()},y}function h(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=fL(r),w=n("text"),C=document.getElementById(w)||document.createElement("span"),T=n("learnmore"),_=document.getElementById(T)||document.createElement("a"),I=n("preprendIcon"),A=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;u(k),h(_,T);const M=f();c(A,I),k.append(A,C,_,M),document.body.appendChild(k)}o?(C.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function SA(){const t=Vv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mL(){return typeof window<"u"||CA()}function CA(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qd(){try{return typeof indexedDB=="object"}catch{return!1}}function yL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vL,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls.prototype.create)}}class Ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?xL(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new qn(i,u,r)}}function xL(t,e){return t.replace(wL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function SL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(lT(o)&&lT(a)){if(!vu(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bA(t,e){const n=new CL(t,e);return n.subscribe.bind(n)}class CL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_L(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bL(t){return t===us?void 0:t}function _L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=[];var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const IA={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},IL=st.INFO,AL={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},PL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=IL,this._logHandler=PL,this._userLogHandler=null,Hv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}function kL(t){Hv.forEach(e=>{e.setLogLevel(t)})}function NL(t,e){for(const n of Hv){let r=null;e&&e.level&&(r=IA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...a)=>{const u=a.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:st[o].toLowerCase(),message:u,args:a,type:i.name})}}}const ML=(t,e)=>e.some(n=>t instanceof n);let uT,cT;function RL(){return uT||(uT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DL(){return cT||(cT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AA=new WeakMap,Ty=new WeakMap,PA=new WeakMap,Em=new WeakMap,zv=new WeakMap;function OL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ro(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AA.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function LL(t){if(Ty.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Ty.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FL(t){Ey=t(Ey)}function UL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bm(this),e,...n);return PA.set(r,e.sort?e.sort():[e]),Ro(r)}:DL().includes(t)?function(...e){return t.apply(bm(this),e),Ro(AA.get(this))}:function(...e){return Ro(t.apply(bm(this),e))}}function jL(t){return typeof t=="function"?UL(t):(t instanceof IDBTransaction&&LL(t),ML(t,RL())?new Proxy(t,Ey):t)}function Ro(t){if(t instanceof IDBRequest)return OL(t);if(Em.has(t))return Em.get(t);const e=jL(t);return e!==t&&(Em.set(t,e),zv.set(e,t)),e}const bm=t=>zv.get(t);function $L(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Ro(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ro(a.result),c.oldVersion,c.newVersion,Ro(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const BL=["get","getKey","getAll","getAllKeys","count"],VL=["put","add","delete","clear"],_m=new Map;function dT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BL.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return _m.set(e,o),o}FL(t=>({...t,get:(e,n,r)=>dT(e,n)||t.get(e,n,r),has:(e,n)=>!!dT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qL(t){return t.getComponent()?.type==="VERSION"}const Hd="@firebase/app",by="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Gv("@firebase/app"),HL="@firebase/app-compat",GL="@firebase/analytics-compat",zL="@firebase/analytics",KL="@firebase/app-check-compat",YL="@firebase/app-check",JL="@firebase/auth",XL="@firebase/auth-compat",QL="@firebase/database",ZL="@firebase/data-connect",e5="@firebase/database-compat",t5="@firebase/functions",n5="@firebase/functions-compat",r5="@firebase/installations",i5="@firebase/installations-compat",o5="@firebase/messaging",s5="@firebase/messaging-compat",a5="@firebase/performance",l5="@firebase/performance-compat",u5="@firebase/remote-config",c5="@firebase/remote-config-compat",d5="@firebase/storage",f5="@firebase/storage-compat",p5="@firebase/firestore",h5="@firebase/ai",m5="@firebase/firestore-compat",g5="firebase",y5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]",v5={[Hd]:"fire-core",[HL]:"fire-core-compat",[zL]:"fire-analytics",[GL]:"fire-analytics-compat",[YL]:"fire-app-check",[KL]:"fire-app-check-compat",[JL]:"fire-auth",[XL]:"fire-auth-compat",[QL]:"fire-rtdb",[ZL]:"fire-data-connect",[e5]:"fire-rtdb-compat",[t5]:"fire-fn",[n5]:"fire-fn-compat",[r5]:"fire-iid",[i5]:"fire-iid-compat",[o5]:"fire-fcm",[s5]:"fire-fcm-compat",[a5]:"fire-perf",[l5]:"fire-perf-compat",[u5]:"fire-rc",[c5]:"fire-rc-compat",[d5]:"fire-gcs",[f5]:"fire-gcs-compat",[p5]:"fire-fst",[m5]:"fire-fst-compat",[h5]:"fire-vertex","fire-js":"fire-js",[g5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,Ra=new Map,Da=new Map;function xu(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kA(t,e){t.container.addOrOverwriteComponent(e)}function Is(t){const e=t.name;if(Da.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Da.set(e,t);for(const n of jo.values())xu(n,t);for(const n of Ra.values())xu(n,t);return!0}function NA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x5(t,e,n=Uo){NA(t,e).clearInstance(n)}function Kv(t){return t.options!==void 0}function MA(t){return Kv(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function _t(t){return t==null?!1:t.settings!==void 0}function w5(){Da.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Ls("app","Firebase",S5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RA=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){const n=Bv(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class C5 extends RA{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,a,i);else{const u=e;super(u.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:o,...n},this._serverConfig.authIdToken&&fT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&fT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Li(Hd,by,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Jv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ar.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=y5;function Yv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Uo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ar.create("bad-app-name",{appName:String(i)});if(n||(n=Wv()),!n)throw ar.create("no-options");const o=jo.get(i);if(o){if(vu(n,o.options)&&vu(r,o.config))return o;throw ar.create("duplicate-app",{appName:i})}const a=new _A(i);for(const c of Da.values())a.addComponent(c);const u=new RA(n,r,a);return jo.set(i,u),u}function T5(t,e={}){if(mL()&&!CA())throw ar.create("invalid-server-app-environment");let n,r=e||{};if(t&&(Kv(t)?n=t.options:MA(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=Wv()),!n)throw ar.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const o=h=>[...h].reduce((g,y)=>Math.imul(31,g)+y.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ar.create("finalization-registry-not-supported",{});const a=""+o(JSON.stringify(i)),u=Ra.get(a);if(u)return u.incRefCount(r.releaseOnDeref),u;const c=new _A(a);for(const h of Da.values())c.addComponent(h);const f=new C5(n,r,a,c);return Ra.set(a,f),f}function E5(t=Uo){const e=jo.get(t);if(!e&&t===Uo&&Wv())return Yv();if(!e)throw ar.create("no-app",{appName:t});return e}function b5(){return Array.from(jo.values())}async function Jv(t){let e=!1;const n=t.name;jo.has(n)?(e=!0,jo.delete(n)):Ra.has(n)&&t.decRefCount()<=0&&(Ra.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Li(t,e,n){let r=v5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Is(new Fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function DA(t,e){if(t!==null&&typeof t!="function")throw ar.create("invalid-log-argument");NL(t,e)}function OA(t){kL(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebase-heartbeat-database",I5=1,wu="firebase-heartbeat-store";let Im=null;function LA(){return Im||(Im=$L(_5,I5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ar.create("idb-open",{originalErrorMessage:t.message})})),Im}async function A5(t){try{const n=(await LA()).transaction(wu),r=await n.objectStore(wu).get(FA(t));return await n.done,r}catch(e){if(e instanceof qn)Bi.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(n.message)}}}async function pT(t,e){try{const r=(await LA()).transaction(wu,"readwrite");await r.objectStore(wu).put(e,FA(t)),await r.done}catch(n){if(n instanceof qn)Bi.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n?.message});Bi.warn(r.message)}}}function FA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=1024,k5=30;class N5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>k5){const i=D5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hT(),{heartbeatsToSend:n,unsentEntries:r}=M5(this._heartbeatsCache.heartbeats),i=xA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Bi.warn(e),""}}}function hT(){return new Date().toISOString().substring(0,10)}function M5(t,e=P5){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),mT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qd()?yL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mT(t){return xA(JSON.stringify({version:2,heartbeats:t})).length}function D5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){Is(new Fo("platform-logger",e=>new WL(e),"PRIVATE")),Is(new Fo("heartbeat",e=>new N5(e),"PRIVATE")),Li(Hd,by,t),Li(Hd,by,"esm2020"),Li("fire-js","")}O5("");const L5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:qn,SDK_VERSION:Fs,_DEFAULT_ENTRY_NAME:Uo,_addComponent:xu,_addOrOverwriteComponent:kA,_apps:jo,_clearComponents:w5,_components:Da,_getProvider:NA,_isFirebaseApp:Kv,_isFirebaseServerApp:_t,_isFirebaseServerAppSettings:MA,_registerComponent:Is,_removeServiceInstance:x5,_serverApps:Ra,deleteApp:Jv,getApp:E5,getApps:b5,initializeApp:Yv,initializeServerApp:T5,onLog:DA,registerVersion:Li,setLogLevel:OA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this._delegate=e,this.firebase=n,xu(e,new Fo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Jv(this._delegate)))}_getService(e,n=Uo){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Uo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){xu(this._delegate,e)}_addOrOverwriteComponent(e){kA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},gT=new Ls("app-compat","Firebase",U5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Li,setLogLevel:OA,onLog:DA,apps:null,SDK_VERSION:Fs,INTERNAL:{registerComponent:u,removeApp:r,useAsService:c,modularAPIs:L5}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(f){delete e[f]}function i(f){if(f=f||Uo,!aT(e,f))throw gT.create("no-app",{appName:f});return e[f]}i.App=t;function o(f,h={}){const g=Yv(f,h);if(aT(e,g.name))return e[g.name];const y=new t(g,n);return e[g.name]=y,y}function a(){return Object.keys(e).map(f=>e[f])}function u(f){const h=f.name,g=h.replace("-compat","");if(Is(f)&&f.type==="PUBLIC"){const y=(w=i())=>{if(typeof w[g]!="function")throw gT.create("invalid-app-argument",{appName:h});return w[g]()};f.serviceProps!==void 0&&Wd(y,f.serviceProps),n[g]=y,t.prototype[g]=function(...w){return this._getService.bind(this,h).apply(this,f.multipleInstances?w:[])}}return f.type==="PUBLIC"?n[g]:null}function c(f,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){const t=j5(F5);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:UA,extendNamespace:e,createSubscribe:bA,ErrorFactory:Ls,deepExtend:Wd};function e(n){Wd(t,n)}return t}const $5=UA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Gv("@firebase/app-compat"),B5="@firebase/app-compat",V5="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){Li(B5,V5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=wA();if(t.firebase!==void 0){yT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&yT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const $o=$5;W5();var q5="firebase",H5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o.registerVersion(q5,H5,"app-compat");const Gl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ma={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z5=G5,K5=jA,$A=new Ls("auth","Firebase",jA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Gv("@firebase/auth");function Y5(t,...e){Gd.logLevel<=st.WARN&&Gd.warn(`Auth (${Fs}): ${t}`,...e)}function Rd(t,...e){Gd.logLevel<=st.ERROR&&Gd.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw Qv(t,...e)}function Yt(t,...e){return Qv(t,...e)}function Xv(t,e,n){const r={...K5(),[e]:n};return new Ls("auth","Firebase",r).create(e,{appName:t.name})}function an(t){return Xv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ka(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),Xv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $A.create(t,...e)}function ne(t,e,...n){if(!t)throw Qv(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Hr(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return typeof self<"u"&&self.location?.href||""}function Zv(){return vT()==="http:"||vT()==="https:"}function vT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zv()||TA()||"connection"in navigator)?navigator.onLine:!0}function X5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=hL()||qv()}get(){return J5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eF=new Lu(3e4,6e4);function Mt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rt(t,e,n,r,i={}){return VA(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=za({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return gL()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&$f(t.emulatorConfig.host)&&(f.credentials="include"),BA.fetch()(await WA(t,t.config.apiHost,n,u),f)})}async function VA(t,e,n){t._canInitEmulator=!1;const r={...Q5,...e};try{const i=new nF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ou(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Xv(t,h,f);gn(t,h)}}catch(i){if(i instanceof qn)throw i;gn(t,"network-request-failed",{message:String(i)})}}async function Ki(t,e,n,r,i={}){const o=await Rt(t,e,n,r,i);return"mfaPendingCredential"in o&&gn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function WA(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?e0(t.config,i):`${t.config.apiScheme}://${i}`;return Z5.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function tF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yt(this.auth,"network-request-failed")),eF.get())})}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){return t!==void 0&&t.getResponse!==void 0}function wT(t){return t!==void 0&&t.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t){return(await Rt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function HA(t,e){return Rt(t,"GET","/v2/recaptchaConfig",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return Rt(t,"POST","/v1/accounts:delete",e)}async function oF(t,e){return Rt(t,"POST","/v1/accounts:update",e)}async function zd(t,e){return Rt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sF(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=Bf(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:cu(Am(i.auth_time)),issuedAtTime:cu(Am(i.iat)),expirationTime:cu(Am(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Am(t){return Number(t)*1e3}function Bf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bv(n);return i?JSON.parse(i):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ST(t){const e=Bf(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&aF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){const e=t.auth,n=await t.getIdToken(),r=await Vi(t,zd(e,{idToken:n}));ne(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?GA(i.providerUserInfo):[],a=cF(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _y(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function uF(t){const e=Xe(t);await Cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){const n=await VA(t,{},async()=>{const r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await WA(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&$f(t.emulatorConfig.host)&&(c.credentials="include"),BA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fF(t,e){return Rt(t,"POST","/v2/accounts:revokeToken",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ST(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=ST(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ta;return r&&(ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new lF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _y(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sF(this,e)}reload(){return uF(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_t(this.auth.app))return Promise.reject(an(this.auth));const e=await this.getIdToken();return await Vi(this,iF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:w,providerData:C,stsTokenManager:T}=n;ne(g&&T,e,"internal-error");const _=Ta.fromJSON(this.name,T);ne(typeof g=="string",e,"internal-error"),bo(r,e.name),bo(i,e.name),ne(typeof y=="boolean",e,"internal-error"),ne(typeof w=="boolean",e,"internal-error"),bo(o,e.name),bo(a,e.name),bo(u,e.name),bo(c,e.name),bo(f,e.name),bo(h,e.name);const I=new qr({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:w,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:_,createdAt:f,lastLoginAt:h});return C&&Array.isArray(C)&&(I.providerData=C.map(A=>({...A}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const o=new qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?GA(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,u=new Ta;u.updateFromIdToken(r);const c=new qr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _y(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;function sr(t){Hr(t instanceof Function,"Expected a class definition");let e=CT.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zA.type="NONE";const Oa=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ss(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ss("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zd(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(sr(Oa),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||sr(Oa);const a=Ss(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(a);if(h){let g;if(typeof h=="string"){const y=await zd(e,{idToken:h}).catch(()=>{});if(!y)break;g=await qr._fromGetAccountInfoResponse(e,y,h)}else g=qr._fromJSON(e,h);f!==o&&(u=g),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ea(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Ea(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QA(e))return"Blackberry";if(ZA(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||JA(e))&&!e.includes("edge/"))return"Chrome";if(Fu(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KA(t=Jt()){return/firefox\//i.test(t)}function YA(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JA(t=Jt()){return/crios\//i.test(t)}function XA(t=Jt()){return/iemobile/i.test(t)}function Fu(t=Jt()){return/android/i.test(t)}function QA(t=Jt()){return/blackberry/i.test(t)}function ZA(t=Jt()){return/webos/i.test(t)}function Uu(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pF(t=Jt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function hF(t=Jt()){return Uu(t)&&!!window.navigator?.standalone}function mF(){return EA()&&document.documentMode===10}function eP(t=Jt()){return Uu(t)||Fu(t)||ZA(t)||QA(t)||/windows phone/i.test(t)||XA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e=[]){let n;switch(t){case"Browser":n=TT(Jt());break;case"Worker":n=`${TT(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e={}){return Rt(t,"GET","/v2/passwordPolicy",Mt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=6;class xF{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new gF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zd(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_t(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_t(this.app))return Promise.reject(an(this));const n=e?Xe(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _t(this.app)?Promise.reject(an(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _t(this.app)?Promise.reject(an(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yF(this),n=new xF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function It(t){return Xe(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=bA(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SF(t){ju=t}function t0(t){return ju.loadJS(t)}function CF(){return ju.recaptchaV2Script}function TF(){return ju.recaptchaEnterpriseScript}function EF(){return ju.gapiScript}function nP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=500,_F=6e4,hd=1e12;class IF{constructor(e){this.auth=e,this.counter=hd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new kF(e,this.auth.name,n||{})),this.counter++,r}reset(e){const n=e||hd;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||hd;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||hd;return this._widgets.get(n)?.execute(),""}}class AF{constructor(){this.enterprise=new PF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kF{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ne(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=NF(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},_F)},bF))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function NF(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const MF="recaptcha-enterprise",du="NO_RECAPTCHA";class rP{constructor(e){this.type=MF,this.auth=It(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{HA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new qA(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;wT(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(du)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AF().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&wT(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=TF();c.length!==0&&(c+=u),t0(c).then(()=>{i(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function zl(t,e,n,r=!1,i=!1){const o=new rP(t);let a;if(i)a=du;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Do(t,e,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zl(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zl(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await zl(t,e,n);return r(t,o).catch(async a=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await zl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(a)})}else{const o=await zl(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function RF(t){const e=It(t),n=await HA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qA(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new rP(e).verify()}function DF(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function OF(t,e,n){const r=It(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=iP(e),{host:a,port:u}=LF(e),c=u===null?"":`:${u}`,f={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(vu(f,r.config.emulator)&&vu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$f(a)?(cL(`${o}//${a}${c}`),pL("Auth",!0)):i||FF()}function iP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LF(t){const e=iP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:bT(a)}}}function bT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e){return Rt(t,"POST","/v1/accounts:resetPassword",Mt(t,e))}async function UF(t,e){return Rt(t,"POST","/v1/accounts:update",e)}async function jF(t,e){return Rt(t,"POST","/v1/accounts:signUp",e)}async function $F(t,e){return Rt(t,"POST","/v1/accounts:update",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e){return Ki(t,"POST","/v1/accounts:signInWithPassword",Mt(t,e))}async function Vf(t,e){return Rt(t,"POST","/v1/accounts:sendOobCode",Mt(t,e))}async function VF(t,e){return Vf(t,e)}async function WF(t,e){return Vf(t,e)}async function qF(t,e){return Vf(t,e)}async function HF(t,e){return Vf(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){return Ki(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}async function zF(t,e){return Ki(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Ya{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Do(e,n,"signInWithPassword",BF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return GF(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Do(e,r,"signUpPassword",jF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zF(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e){return Ki(t,"POST","/v1/accounts:signInWithIdp",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="http://localhost";class ui extends Ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new ui(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}buildRequest(){const e={requestUri:KF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e){return Rt(t,"POST","/v1/accounts:sendVerificationCode",Mt(t,e))}async function YF(t,e){return Ki(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e))}async function JF(t,e){const n=await Ki(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e));if(n.temporaryProof)throw ou(t,"account-exists-with-different-credential",n);return n}const XF={USER_NOT_FOUND:"user-not-found"};async function QF(t,e){const n={...e,operation:"REAUTH"};return Ki(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,n),XF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ya{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Cs({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Cs({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return YF(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return JF(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return QF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Cs({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e3(t){const e=xa(iu(t)).link,n=e?xa(iu(e)).deep_link_id:null,r=xa(iu(t)).deep_link_id;return(r?xa(iu(r)).link:null)||r||n||e||t}class Wf{constructor(e){const n=xa(iu(e)),r=n.apiKey??null,i=n.oobCode??null,o=ZF(n.mode??null);ne(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e3(e);try{return new Wf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wf.parseLink(n);return ne(r,"argument-error"),Tu._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ba extends Ja{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),ui._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),ui._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ba.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ba.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:u}=e;if(!r&&!i&&!n&&!o||!u)return null;try{return new ba(u)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Ja{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ja{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="http://localhost";class La extends Ya{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new La(r,o)}static _create(e,n){return new La(e,n)}buildRequest(){return{requestUri:t3,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="saml.";class Kd extends Yi{constructor(e){ne(e.startsWith(n3),"argument-error"),super(e)}static credentialFromResult(e){return Kd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Kd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=La.fromJSON(e);return ne(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return La._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ja{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t,e){return Ki(t,"POST","/v1/accounts:signUp",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await qr._fromIdTokenResponse(e,r,i),a=IT(r);return new _r({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=IT(r);return new _r({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function IT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t){if(_t(t.app))return Promise.reject(an(t));const e=It(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new _r({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await sP(e,{returnSecureToken:!0}),r=await _r._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends qn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yd(e,n,r,i)}}function aP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){const n=Xe(t);await qf(!0,n,e);const{providerUserInfo:r}=await oF(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=lP(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function n0(t,e,n=!1){const r=await Vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _r._forOperation(t,"link",r)}async function qf(t,e,n){await Cu(e);const r=lP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ne(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e,n=!1){const{auth:r}=t;if(_t(r.app))return Promise.reject(an(r));const i="reauthenticate";try{const o=await Vi(t,aP(r,i,e,t),n);ne(o.idToken,r,"internal-error");const a=Bf(o.idToken);ne(a,r,"internal-error");const{sub:u}=a;return ne(t.uid===u,r,"user-mismatch"),_r._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e,n=!1){if(_t(t.app))return Promise.reject(an(t));const r="signIn",i=await aP(t,r,e),o=await _r._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Hf(t,e){return cP(It(t),e)}async function dP(t,e){const n=Xe(t);return await qf(!1,n,e.providerId),n0(n,e)}async function fP(t,e){return uP(Xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e){return Ki(t,"POST","/v1/accounts:signInWithCustomToken",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){if(_t(t.app))return Promise.reject(an(t));const n=It(t),r=await o3(n,{token:e,returnSecureToken:!0}),i=await _r._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?r0._fromServerResponse(e,n):"totpInfo"in n?i0._fromServerResponse(e,n):gn(e,"internal-error")}}class r0 extends $u{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new r0(n)}}class i0 extends $u{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new i0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){ne(n.url?.length>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ne(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(t){const e=It(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a3(t,e,n){const r=It(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Gf(r,i,n),await Do(r,i,"getOobCode",WF,"EMAIL_PASSWORD_PROVIDER")}async function l3(t,e,n){await oP(Xe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&o0(t),r})}async function u3(t,e){await $F(Xe(t),{oobCode:e})}async function pP(t,e){const n=Xe(t),r=await oP(n,{oobCode:e}),i=r.requestType;switch(ne(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,n,"internal-error");default:ne(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=$u._fromServerResponse(It(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function c3(t,e){const{data:n}=await pP(Xe(t),e);return n.email}async function d3(t,e,n){if(_t(t.app))return Promise.reject(an(t));const r=It(t),a=await Do(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sP,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&o0(t),c}),u=await _r._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function f3(t,e,n){return _t(t.app)?Promise.reject(an(t)):Hf(Xe(t),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&o0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e,n){const r=It(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,u){ne(u.handleCodeInApp,r,"argument-error"),u&&Gf(r,a,u)}o(i,n),await Do(r,i,"getOobCode",qF,"EMAIL_PASSWORD_PROVIDER")}function h3(t,e){return Wf.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function m3(t,e,n){if(_t(t.app))return Promise.reject(an(t));const r=Xe(t),i=Vo.credentialWithLink(e,n||Su());return ne(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Hf(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return Rt(t,"POST","/v1/accounts:createAuthUri",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){const n=Zv()?Su():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await g3(Xe(t),r);return i||[]}async function v3(t,e){const n=Xe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Gf(n.auth,i,e);const{email:o}=await VF(n.auth,i);o!==t.email&&await t.reload()}async function x3(t,e,n){const r=Xe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Gf(r.auth,o,n);const{email:a}=await HF(r.auth,o);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){return Rt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Vi(r,w3(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function C3(t,e){const n=Xe(t);return _t(n.auth.app)?Promise.reject(an(n.auth)):hP(n,e,null)}function T3(t,e){return hP(Xe(t),null,e)}async function hP(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await Vi(t,UF(r,o));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&t?.idToken){const i=Bf(t.idToken)?.firebase?.sign_in_provider;if(i){const o=i!=="anonymous"&&i!=="custom"?i:null;return new _a(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new b3(r,n);case"github.com":return new _3(r,n);case"google.com":return new I3(r,n);case"twitter.com":return new A3(r,n,t.screenName||null);case"custom":case"anonymous":return new _a(r,null);default:return new _a(r,e,n)}}class _a{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class mP extends _a{constructor(e,n,r,i){super(e,n,r),this.username=i}}class b3 extends _a{constructor(e,n){super(e,"facebook.com",n)}}class _3 extends mP{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}}class I3 extends _a{constructor(e,n){super(e,"google.com",n)}}class A3 extends mP{constructor(e,n,r){super(e,"twitter.com",n,r)}}function P3(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:E3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new ps("enroll",e,n)}static _fromMfaPendingCredential(e){return new ps("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return ps._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return ps._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=It(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>$u._fromServerResponse(r,u));ne(i.mfaPendingCredential,r,"internal-error");const a=ps._fromMfaPendingCredential(i.mfaPendingCredential);return new s0(a,o,async u=>{const c=await u._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:c.idToken,refreshToken:c.refreshToken};switch(n.operationType){case"signIn":const h=await _r._fromIdTokenResponse(r,n.operationType,f);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return ne(n.user,r,"internal-error"),_r._forOperation(n.user,n.operationType,f);default:gn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function k3(t,e){const n=Xe(t),r=e;return ne(e.customData.operationType,n,"argument-error"),ne(r.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),s0._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return Rt(t,"POST","/v2/accounts/mfaEnrollment:start",Mt(t,e))}function N3(t,e){return Rt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(t,e))}function M3(t,e){return Rt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(t,e))}class a0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>$u._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new a0(e)}async getSession(){return ps._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await Vi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vi(this.user,M3(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Pm=new WeakMap;function R3(t){const e=Xe(t);return Pm.has(e)||Pm.set(e,a0._fromUser(e)),Pm.get(e)}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=1e3,O3=10;class yP extends gP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);mF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yP.type="LOCAL";const l0=yP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends gP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vP.type="SESSION";const As=vP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,o)),c=await L3(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const f=Bu("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return window}function U3(t){Vt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){return typeof Vt().WorkerGlobalScope<"u"&&typeof Vt().importScripts=="function"}async function j3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $3(){return navigator?.serviceWorker?.controller||null}function B3(){return u0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebaseLocalStorageDb",V3=1,Xd="firebaseLocalStorage",wP="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kf(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function W3(){const t=indexedDB.deleteDatabase(xP);return new Vu(t).toPromise()}function Iy(){const t=indexedDB.open(xP,V3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:wP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await W3(),e(await Iy()))})})}async function PT(t,e,n){const r=Kf(t,!0).put({[wP]:e,value:n});return new Vu(r).toPromise()}async function q3(t,e){const n=Kf(t,!1).get(e),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function kT(t,e){const n=Kf(t,!0).delete(e);return new Vu(n).toPromise()}const H3=800,G3=3;class SP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>G3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(B3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j3(),!this.activeServiceWorker)return;this.sender=new F3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await PT(e,Jd,"1"),await kT(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Kf(i,!1).getAll();return new Vu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SP.type="LOCAL";const Eu=SP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){return Rt(t,"POST","/v2/accounts/mfaSignIn:start",Mt(t,e))}function z3(t,e){return Rt(t,"POST","/v2/accounts/mfaSignIn:finalize",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=nP("rcb"),K3=new Lu(3e4,6e4);class Y3{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vt().grecaptcha?.render}load(e,n=""){return ne(J3(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xT(Vt().grecaptcha)?Promise.resolve(Vt().grecaptcha):new Promise((r,i)=>{const o=Vt().setTimeout(()=>{i(Yt(e,"network-request-failed"))},K3.get());Vt()[km]=()=>{Vt().clearTimeout(o),delete Vt()[km];const u=Vt().grecaptcha;if(!u||!xT(u)){i(Yt(e,"internal-error"));return}const c=u.render;u.render=(f,h)=>{const g=c(f,h);return this.counter++,g},this.hostLanguage=n,r(u)};const a=`${CF()}?${za({onload:km,render:"explicit",hl:n})}`;t0(a).catch(()=>{clearTimeout(o),i(Yt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Vt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function J3(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class X3{async load(e){return new IF(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="recaptcha",Q3={theme:"light",type:"image"};let Z3=class{constructor(e,n,r={...Q3}){this.parameters=r,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ne(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new X3:new Y3,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),i(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Vt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(Zv()&&!u0(),this.auth,"internal-error"),await eU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await rF(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function eU(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Cs._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function tU(t,e,n){if(_t(t.app))return Promise.reject(an(t));const r=It(t),i=await Yf(r,e,Xe(n));return new c0(i,o=>Hf(r,o))}async function nU(t,e,n){const r=Xe(t);await qf(!1,r,"phone");const i=await Yf(r.auth,e,Xe(n));return new c0(i,o=>dP(r,o))}async function rU(t,e,n){const r=Xe(t);if(_t(r.auth.app))return Promise.reject(an(r.auth));const i=await Yf(r.auth,e,Xe(n));return new c0(i,o=>fP(r,o))}async function Yf(t,e,n){if(!t._getRecaptchaConfig())try{await RF(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){ne(i.type==="enroll",t,"internal-error");const o={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Do(t,o,"mfaSmsEnrollment",async(f,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===du){ne(n?.type===fu,f,"argument-error");const g=await Nm(f,h,n);return AT(f,g)}return AT(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{ne(i.type==="signin",t,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;ne(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:i.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Do(t,a,"mfaSmsSignIn",async(h,g)=>{if(g.phoneSignInInfo.captchaResponse===du){ne(n?.type===fu,h,"argument-error");const y=await Nm(h,g,n);return NT(h,y)}return NT(h,g)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Do(t,i,"sendVerificationCode",async(c,f)=>{if(f.captchaResponse===du){ne(n?.type===fu,c,"argument-error");const h=await Nm(c,f,n);return _T(c,h)}return _T(c,f)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n?._reset()}}async function iU(t,e){const n=Xe(t);if(_t(n.auth.app))return Promise.reject(an(n.auth));await n0(n,e)}async function Nm(t,e,n){ne(n.type===fu,t,"argument-error");const r=await n.verify();ne(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps=class Dd{constructor(e){this.providerId=Dd.PROVIDER_ID,this.auth=It(e)}verifyPhoneNumber(e,n){return Yf(this.auth,e,Xe(n))}static credential(e,n){return Cs._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Dd.credentialFromTaggedObject(n)}static credentialFromError(e){return Dd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Cs._fromTokenResponse(n,r):null}};Ps.PROVIDER_ID="phone";Ps.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){return e?sr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Ya{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oU(t){return cP(t.auth,new d0(t),t.bypassAuthState)}function sU(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),uP(n,new d0(t),t.bypassAuthState)}async function aU(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),n0(n,new d0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oU;case"linkViaPopup":case"linkViaRedirect":return aU;case"reauthViaPopup":case"reauthViaRedirect":return sU;default:gn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new Lu(2e3,1e4);async function uU(t,e,n){if(_t(t.app))return Promise.reject(Yt(t,"operation-not-supported-in-this-environment"));const r=It(t);Ka(t,e,Yi);const i=Us(r,n);return new Ni(r,"signInViaPopup",e,i).executeNotNull()}async function cU(t,e,n){const r=Xe(t);if(_t(r.auth.app))return Promise.reject(Yt(r.auth,"operation-not-supported-in-this-environment"));Ka(r.auth,e,Yi);const i=Us(r.auth,n);return new Ni(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function dU(t,e,n){const r=Xe(t);Ka(r.auth,e,Yi);const i=Us(r.auth,n);return new Ni(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ni extends CP{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Bu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lU.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="pendingRedirect",pu=new Map;class pU extends CP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const r=await hU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hU(t,e){const n=EP(e),r=TP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function f0(t,e){return TP(t)._set(EP(e),"true")}function mU(){pu.clear()}function p0(t,e){pu.set(t._key(),e)}function TP(t){return sr(t._redirectPersistence)}function EP(t){return Ss(fU,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e,n){return yU(t,e,n)}async function yU(t,e,n){if(_t(t.app))return Promise.reject(an(t));const r=It(t);Ka(t,e,Yi),await r._initializationPromise;const i=Us(r,n);return await f0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function vU(t,e,n){return xU(t,e,n)}async function xU(t,e,n){const r=Xe(t);if(Ka(r.auth,e,Yi),_t(r.auth.app))return Promise.reject(an(r.auth));await r.auth._initializationPromise;const i=Us(r.auth,n);await f0(i,r.auth);const o=await bP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function wU(t,e,n){return SU(t,e,n)}async function SU(t,e,n){const r=Xe(t);Ka(r.auth,e,Yi),await r.auth._initializationPromise;const i=Us(r.auth,n);await qf(!1,r,e.providerId),await f0(i,r.auth);const o=await bP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function CU(t,e){return await It(t)._initializationPromise,Jf(t,e,!1)}async function Jf(t,e,n=!1){if(_t(t.app))return Promise.reject(an(t));const r=It(t),i=Us(r,e),a=await new pU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function bP(t){const e=Bu(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=600*1e3;class _P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IP(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TU&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(e))}saveEventToCache(e){this.cachedEventUids.add(MT(e)),this.lastProcessedEventTime=Date.now()}}function MT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e={}){return Rt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_U=/^https?/;async function IU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AP(t);for(const n of e)try{if(AU(n))return}catch{}gn(t,"unauthorized-domain")}function AU(t){const e=Su(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!_U.test(n))return!1;if(bU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Lu(3e4,6e4);function RT(){const t=Vt().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kU(t){return new Promise((e,n)=>{function r(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(Yt(t,"network-request-failed"))},timeout:PU.get()})}if(Vt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vt().gapi?.load)r();else{const i=nP("iframefcb");return Vt()[i]=()=>{gapi.load?r():n(Yt(t,"network-request-failed"))},t0(`${EF()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Od=null,e})}let Od=null;function NU(t){return Od=Od||kU(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new Lu(5e3,15e3),RU="__/auth/iframe",DU="emulator/auth/iframe",OU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FU(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,DU):`https://${t.config.authDomain}/${RU}`,r={apiKey:e.apiKey,appName:t.name,v:Fs},i=LU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${za(r).slice(1)}`}async function UU(t){const e=await NU(t),n=Vt().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:FU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Yt(t,"network-request-failed"),u=Vt().setTimeout(()=>{o(a)},MU.get());function c(){Vt().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$U=500,BU=600,VU="_blank",WU="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qU(t,e,n,r=$U,i=BU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...jU,width:r.toString(),height:i.toString(),top:o,left:a},f=Jt().toLowerCase();n&&(u=JA(f)?VU:n),KA(f)&&(e=e||WU,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[w,C])=>`${y}${w}=${C},`,"");if(hF(f)&&u!=="_self")return HU(e||"",u),new DT(null);const g=window.open(e||"",u,h);ne(g,t,"popup-blocked");try{g.focus()}catch{}return new DT(g)}function HU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="__/auth/handler",zU="emulator/auth/handler",KU=encodeURIComponent("fac");async function Ay(t,e,n,r,i,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fs,eventId:i};if(e instanceof Yi){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",SL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries(o||{}))a[h]=g}if(e instanceof Ja){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${KU}=${encodeURIComponent(c)}`:"";return`${YU(t)}?${za(u).slice(1)}${f}`}function YU({config:t}){return t.emulator?e0(t,zU):`https://${t.authDomain}/${GU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class JU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Jf,this._overrideRedirectResult=p0}async _openPopup(e,n,r,i){Hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ay(e,n,r,Su(),i);return qU(e,o,Bu())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ay(e,n,r,Su(),i);return U3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UU(e),r=new _P(e);return n.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},i=>{const o=i?.[0]?.[Mm];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eP()||YA()||Uu()}}const XU=JU;class QU{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return si("unexpected MultiFactorSessionType")}}}class h0 extends QU{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new h0(e)}_finalizeEnroll(e,n,r){return N3(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return z3(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PP{constructor(){}static assertion(e){return h0._fromCredential(e)}}PP.FACTOR_ID="phone";var OT="@firebase/auth",LT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t4(t){Is(new Fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tP(t)},f=new wF(r,i,o,c);return DF(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Is(new Fo("auth-internal",e=>{const n=It(e.getProvider("auth").getImmediate());return(r=>new ZU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(OT,LT,e4(t)),Li(OT,LT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=300;lL("authIdTokenMaxAge");function r4(){return document.getElementsByTagName("head")?.[0]??document}SF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Yt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",r4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t4("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=2e3;async function o4(t,e,n){const{BuildInfo:r}=ks();Hr(e.sessionId,"AuthEvent did not contain a session ID");const i=await c4(e.sessionId),o={};return Uu()?o.ibi=r.packageName:Fu()?o.apn=r.packageName:gn(t,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=i,Ay(t,n,e.type,void 0,e.eventId??void 0,o)}async function s4(t){const{BuildInfo:e}=ks(),n={};Uu()?n.iosBundleId=e.packageName:Fu()?n.androidPackageName=e.packageName:gn(t,"operation-not-supported-in-this-environment"),await AP(t,n)}function a4(t){const{cordova:e}=ks();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,pF()?"_blank":"_system","location=yes"),n(i)})})}async function l4(t,e,n){const{cordova:r}=ks();let i=()=>{};try{await new Promise((o,a)=>{let u=null;function c(){o();const g=r.plugins.browsertab?.close;typeof g=="function"&&g(),typeof n?.close=="function"&&n.close()}function f(){u||(u=window.setTimeout(()=>{a(Yt(t,"redirect-cancelled-by-user"))},i4))}function h(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(c),document.addEventListener("resume",f,!1),Fu()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}})}finally{i()}}function u4(t){const e=ks();ne(typeof e?.universalLinks?.subscribe=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof e?.BuildInfo?.packageName<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof e?.cordova?.InAppBrowser?.open=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function c4(t){const e=d4(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function d4(t){if(Hr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=20;class p4 extends _P{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function h4(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:y4(),postBody:null,tenantId:t.tenantId,error:Yt(t,"no-auth-event")}}function m4(t,e){return Py()._set(ky(t),e)}async function FT(t){const e=await Py()._get(ky(t));return e&&await Py()._remove(ky(t)),e}function g4(t,e){const n=x4(e);if(n.includes("/__/auth/callback")){const r=Ld(n),o=(r.firebaseError?v4(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],a=o?Yt(o):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function y4(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<f4;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Py(){return sr(l0)}function ky(t){return Ss("authEvent",t.config.apiKey,t.name)}function v4(t){try{return JSON.parse(t)}catch{return null}}function x4(t){const e=Ld(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ld(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ld(i).link||i||r||n||t}function Ld(t){if(!t?.includes("?"))return{};const[e,...n]=t.split("?");return xa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=500;class S4{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jf,this._overrideRedirectResult=p0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new p4(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){gn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){u4(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),mU(),await this._originValidation(e);const a=h4(e,r,i);await m4(e,a);const u=await o4(e,a,n),c=await a4(u);return l4(e,o,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s4(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=ks(),a=setTimeout(async()=>{await FT(e),n.onEvent(UT())},w4),u=async h=>{clearTimeout(a);const g=await FT(e);let y=null;g&&h?.url&&(y=g4(g,h.url)),n.onEvent(y||UT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const c=i,f=`${o.packageName.toLowerCase()}://`;ks().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(f)&&u({url:h}),typeof c=="function")try{c(h)}catch(g){console.error(g)}}}}const C4=S4;function UT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t,e){It(t)._logFramework(e)}var E4="@firebase/auth-compat",b4="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e3;function hu(){return self?.location?.protocol||null}function I4(){return hu()==="http:"||hu()==="https:"}function kP(t=Jt()){return!!((hu()==="file:"||hu()==="ionic:"||hu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function A4(){return qv()||SA()}function P4(){return EA()&&document?.documentMode===11}function k4(t=Jt()){return/Edge\/\d+/.test(t)}function N4(t=Jt()){return P4()||k4(t)}function NP(){try{const t=self.localStorage,e=Bu();if(t)return t.setItem(e,"1"),t.removeItem(e),N4()?qd():!0}catch{return m0()&&qd()}return!1}function m0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rm(){return(I4()||TA()||kP())&&!A4()&&NP()&&!m0()}function MP(){return kP()&&typeof document<"u"}async function M4(){return MP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},_4);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function R4(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={LOCAL:"local",NONE:"none",SESSION:"session"},Kl=ne,RP="persistence";function D4(t,e){if(Kl(Object.values(rr).includes(e),t,"invalid-persistence-type"),qv()){Kl(e!==rr.SESSION,t,"unsupported-persistence-type");return}if(SA()){Kl(e===rr.NONE,t,"unsupported-persistence-type");return}if(m0()){Kl(e===rr.NONE||e===rr.LOCAL&&qd(),t,"unsupported-persistence-type");return}Kl(e===rr.NONE||NP(),t,"unsupported-persistence-type")}async function Ny(t){await t._initializationPromise;const e=DP(),n=Ss(RP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function O4(t,e){const n=DP();if(!n)return[];const r=Ss(RP,t,e);switch(n.getItem(r)){case rr.NONE:return[Oa];case rr.LOCAL:return[Eu,As];case rr.SESSION:return[As];default:return[]}}function DP(){try{return R4()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=ne;class No{constructor(){this.browserResolver=sr(XU),this.cordovaResolver=sr(C4),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=Jf,this._overrideRedirectResult=p0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return MP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return L4(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await M4();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){return t.unwrap()}function F4(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){return LP(t)}function j4(t,e){const n=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new $4(t,k3(t,e))}else if(n){const r=LP(e),i=e;r&&(i.credential=r,i.tenantId=n.tenantId||void 0,i.email=n.email||void 0,i.phoneNumber=n.phoneNumber||void 0)}}function LP(t){const{_tokenResponse:e}=t instanceof qn?t.customData:t;if(!e)return null;if(!(t instanceof qn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ps.credentialFromResult(t);const n=e.providerId;if(!n||n===Gl.PASSWORD)return null;let r;switch(n){case Gl.GOOGLE:r=ri;break;case Gl.FACEBOOK:r=ni;break;case Gl.GITHUB:r=ii;break;case Gl.TWITTER:r=oi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:u,nonce:c}=e;return!o&&!a&&!i&&!u?null:u?n.startsWith("saml.")?La._create(n,u):ui._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:o}):new ba(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof qn?r.credentialFromError(t):r.credentialFromResult(t)}function Vn(t,e){return e.catch(n=>{throw n instanceof qn&&j4(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:U4(n),additionalUserInfo:P3(n),user:Mi.getOrCreate(i)}})}async function My(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Vn(t,n.confirm(r))}}class $4{constructor(e,n){this.resolver=n,this.auth=F4(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Vn(OP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._delegate=e,this.multiFactor=R3(e)}static getOrCreate(e){return Mi.USER_MAP.has(e)||Mi.USER_MAP.set(e,new Mi(e)),Mi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Vn(this.auth,dP(this._delegate,e))}async linkWithPhoneNumber(e,n){return My(this.auth,nU(this._delegate,e,n))}async linkWithPopup(e){return Vn(this.auth,dU(this._delegate,e,No))}async linkWithRedirect(e){return await Ny(It(this.auth)),wU(this._delegate,e,No)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Vn(this.auth,fP(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return My(this.auth,rU(this._delegate,e,n))}reauthenticateWithPopup(e){return Vn(this.auth,cU(this._delegate,e,No))}async reauthenticateWithRedirect(e){return await Ny(It(this.auth)),vU(this._delegate,e,No)}sendEmailVerification(e){return v3(this._delegate,e)}async unlink(e){return await i3(this._delegate,e),this}updateEmail(e){return C3(this._delegate,e)}updatePassword(e){return T3(this._delegate,e)}updatePhoneNumber(e){return iU(this._delegate,e)}updateProfile(e){return S3(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return x3(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=ne;class Ry{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Yl(r,"invalid-api-key",{appName:e.name}),Yl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?No:void 0;this._delegate=n.initialize({options:{persistence:B4(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(z5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){OF(this._delegate,e,n)}applyActionCode(e){return u3(this._delegate,e)}checkActionCode(e){return pP(this._delegate,e)}confirmPasswordReset(e,n){return l3(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Vn(this._delegate,d3(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return y3(this._delegate,e)}isSignInWithEmailLink(e){return h3(this._delegate,e)}async getRedirectResult(){Yl(Rm(),this._delegate,"operation-not-supported-in-this-environment");const e=await CU(this._delegate,No);return e?Vn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){T4(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:a}=jT(e,n,r);return this._delegate.onAuthStateChanged(i,o,a)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:a}=jT(e,n,r);return this._delegate.onIdTokenChanged(i,o,a)}sendSignInLinkToEmail(e,n){return p3(this._delegate,e,n)}sendPasswordResetEmail(e,n){return a3(this._delegate,e,n||void 0)}async setPersistence(e){D4(this._delegate,e);let n;switch(e){case rr.SESSION:n=As;break;case rr.LOCAL:n=await sr(Eu)._isAvailable()?Eu:l0;break;case rr.NONE:n=Oa;break;default:return gn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Vn(this._delegate,r3(this._delegate))}signInWithCredential(e){return Vn(this._delegate,Hf(this._delegate,e))}signInWithCustomToken(e){return Vn(this._delegate,s3(this._delegate,e))}signInWithEmailAndPassword(e,n){return Vn(this._delegate,f3(this._delegate,e,n))}signInWithEmailLink(e,n){return Vn(this._delegate,m3(this._delegate,e,n))}signInWithPhoneNumber(e,n){return My(this._delegate,tU(this._delegate,e,n))}async signInWithPopup(e){return Yl(Rm(),this._delegate,"operation-not-supported-in-this-environment"),Vn(this._delegate,uU(this._delegate,e,No))}async signInWithRedirect(e){return Yl(Rm(),this._delegate,"operation-not-supported-in-this-environment"),await Ny(this._delegate),gU(this._delegate,e,No)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return c3(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Ry.Persistence=rr;function jT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Mi.getOrCreate(a)),error:e,complete:n}}function B4(t,e){const n=O4(t,e);if(typeof self<"u"&&!n.includes(Eu)&&n.push(Eu),typeof window<"u")for(const r of[l0,As])n.includes(r)||n.push(r);return n.includes(Oa)||n.push(Oa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static credential(e,n){return Ps.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Ps(OP($o.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}g0.PHONE_SIGN_IN_METHOD=Ps.PHONE_SIGN_IN_METHOD;g0.PROVIDER_ID=Ps.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=ne;class W4{constructor(e,n,r=$o.app()){V4(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Z3(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="auth-compat";function H4(t){t.INTERNAL.registerComponent(new Fo(q4,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ry(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ma.EMAIL_SIGNIN,PASSWORD_RESET:ma.PASSWORD_RESET,RECOVER_EMAIL:ma.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ma.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ma.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ma.VERIFY_EMAIL}},EmailAuthProvider:Vo,FacebookAuthProvider:ni,GithubAuthProvider:ii,GoogleAuthProvider:ri,OAuthProvider:ba,SAMLAuthProvider:Kd,PhoneAuthProvider:g0,PhoneMultiFactorGenerator:PP,RecaptchaVerifier:W4,TwitterAuthProvider:oi,Auth:Ry,AuthCredential:Ya,Error:qn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(E4,b4)}H4($o);const G4={apiKey:"AIzaSyDt0CG4R4Ivb_7oX9SR5a2JTqh_GzYcErw",authDomain:"lifelensapp-7191e.firebaseapp.com",projectId:"lifelensapp-7191e",storageBucket:"lifelensapp-7191e.appspot.com",messagingSenderId:"125867442372",appId:"1:125867442372:web:188133444be162857f8991"};$o.apps.length||$o.initializeApp(G4);const FP=$o.auth(),z4=()=>x.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[x.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),x.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),x.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),x.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 36.417 44 30.638 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),K4=({onAuthSuccess:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState("demo@lifelens.app"),[o,a]=b.useState("password"),[u,c]=b.useState(!1),[f,h]=b.useState(""),g=_=>{c(!0),setTimeout(()=>{t(_),c(!1)},500)},y=async()=>{c(!0),h("");const _=new $o.auth.GoogleAuthProvider;try{const A=(await FP.signInWithPopup(_)).user;A&&t({name:A.displayName||"Google User",email:A.email||void 0})}catch(I){console.error("Google Sign-In Error:",I),h(I.message||"Failed to sign in with Google. Please try again.")}finally{c(!1)}},w=()=>{g({name:"Guest User"})},C=()=>{if(!r.includes("@")){h("Please enter a valid email.");return}h("");const _=r.split("@")[0].replace(/[^a-zA-Z0-9]/g," ").replace(/\b\w/g,I=>I.toUpperCase());g({name:_||"User",email:r})},T=()=>x.jsxs("div",{className:"space-y-4",children:[x.jsx("p",{className:"text-secondary text-sm mb-4",children:"You can use any email and password to continue. This is a demo and is not connected to a server."}),x.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-3 bg-card border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none",value:r,onChange:_=>i(_.target.value),disabled:u}),x.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-3 bg-card border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none",value:o,onChange:_=>a(_.target.value),disabled:u}),f&&x.jsx("p",{className:"text-red-500 text-sm text-center -mb-2",children:f}),x.jsx("button",{onClick:C,disabled:u,className:"w-full bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 disabled:bg-primary/70",children:u?"...":"Continue"}),x.jsx("button",{onClick:()=>{n(null),h("")},disabled:u,className:"w-full text-sm text-secondary font-semibold",children:"Back"})]});return x.jsxs("div",{className:"h-full flex flex-col justify-center items-center p-6 bg-background relative",children:[u&&x.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),x.jsxs("div",{className:"w-full max-w-sm text-center",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Welcome Back"}),x.jsx("p",{className:"text-secondary mb-10",children:"Your journey to wellness continues."}),f&&x.jsx("p",{className:"text-red-500 text-sm text-center mb-4 bg-red-100 p-3 rounded-lg",children:f}),x.jsx("div",{className:"space-y-4",children:e?T():x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{onClick:y,disabled:u,className:"w-full flex items-center justify-center gap-3 bg-white text-primary font-bold py-3 px-4 rounded-xl shadow-card hover:shadow-lg transform hover:-translate-y-0.5 transition-all disabled:opacity-70 disabled:transform-none",children:[x.jsx(z4,{}),"Sign in with Google"]}),x.jsx("button",{onClick:w,disabled:u,className:"w-full bg-card border border-secondary/50 text-secondary font-bold py-3 px-4 rounded-xl hover:border-secondary disabled:opacity-70 transition-colors",children:"Sign in as Guest"}),x.jsxs("div",{className:"relative flex py-3 items-center",children:[x.jsx("div",{className:"flex-grow border-t border-gray-200"}),x.jsx("span",{className:"flex-shrink mx-4 text-xs text-secondary",children:"OR"}),x.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),x.jsx("button",{onClick:()=>n("email"),disabled:u,className:"w-full bg-card text-primary font-bold py-3 px-4 rounded-xl shadow-card hover:shadow-lg transform hover:-translate-y-0.5 transition-all disabled:opacity-70 disabled:transform-none",children:"Continue with Email"})]})})]})]})},Y4=({onSaveProfile:t})=>{const[e,n]=b.useState(1),[r,i]=b.useState(""),[o,a]=b.useState(""),[u,c]=b.useState("USD"),f=T=>{if(r.trim()===""){alert("Please enter your name."),n(1);return}if(parseInt(o,10)<=0||isNaN(parseInt(o,10))){alert("Please enter a valid age."),n(2);return}t({name:r,age:parseInt(o,10),currency:u,smsEnabled:T})},h=()=>{t({name:"Explorer",age:25,currency:"USD",smsEnabled:!1})},g=()=>{e===1&&r.trim()===""||e===2&&(parseInt(o,10)<=0||isNaN(parseInt(o,10)))||n(T=>Math.min(C,T+1))},y=()=>{n(T=>Math.max(1,T-1))},w="w-full px-4 py-3 bg-card border border-light-shadow rounded-xl focus:ring-2 focus:ring-accent focus:outline-none transition-shadow text-lg",C=4;return x.jsxs("div",{className:"p-6 flex flex-col h-full bg-background text-primary",children:[x.jsxs("div",{className:"flex-shrink-0",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Profile Setup"}),x.jsx("button",{onClick:h,className:"text-sm font-semibold text-secondary px-3 py-1 rounded-lg hover:bg-gray-100/50 transition-colors",children:"Skip"})]}),x.jsx("p",{className:"text-secondary mb-6",children:"Let's get to know you."}),x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"relative pt-1",children:[x.jsx("div",{className:"flex mb-2 items-center justify-between",children:x.jsx("div",{children:x.jsxs("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-accent-dark bg-accent/20",children:["Step ",e," of ",C]})})}),x.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-accent/20",children:x.jsx("div",{style:{width:`${e/C*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-accent transition-all duration-500"})})]})})]}),x.jsx("div",{className:"flex-grow flex flex-col justify-center",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:e===1?"block animate-fade-in":"hidden",children:[x.jsx("label",{htmlFor:"name",className:"block text-lg font-medium text-primary mb-4 text-center",children:"What should we call you?"}),x.jsx("input",{type:"text",id:"name",value:r,onChange:T=>i(T.target.value),className:w,placeholder:"e.g., Jane Doe",required:!0})]}),x.jsxs("div",{className:e===2?"block animate-fade-in":"hidden",children:[x.jsx("label",{htmlFor:"age",className:"block text-lg font-medium text-primary mb-4 text-center",children:"Your Age"}),x.jsx("input",{type:"number",id:"age",value:o,onChange:T=>a(T.target.value),className:w,placeholder:"e.g., 25",required:!0}),x.jsx("p",{className:"text-xs text-secondary mt-2 text-center italic",children:"To personalize your experience."})]}),x.jsxs("div",{className:e===3?"block animate-fade-in":"hidden",children:[x.jsx("label",{htmlFor:"currency",className:"block text-lg font-medium text-primary mb-4 text-center",children:"Preferred Currency"}),x.jsxs("select",{id:"currency",value:u,onChange:T=>c(T.target.value),className:`${w} appearance-none`,children:[x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"EUR",children:"EUR ()"}),x.jsx("option",{value:"GBP",children:"GBP ()"}),x.jsx("option",{value:"INR",children:"INR ()"}),x.jsx("option",{value:"JPY",children:"JPY ()"})]})]}),x.jsxs("div",{className:e===4?"block text-center animate-fade-in":"hidden",children:[x.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:"Get Weekly Insights"}),x.jsx("p",{className:"text-secondary mb-6 text-sm",children:"Opt-in to receive a weekly, AI-powered summary of your spending and moods, delivered right to your home screen. It's like a friendly text message from your financial assistant!"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("button",{onClick:()=>f(!0),className:"w-full bg-accent text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-accent-dark transform hover:-translate-y-0.5 transition-all",children:"Enable Weekly Roundup"}),x.jsx("button",{onClick:()=>f(!1),className:"w-full text-sm text-secondary font-semibold py-2",children:"Maybe Later"})]})]})]})}),x.jsxs("div",{className:"pt-6 flex-shrink-0 flex items-center justify-between",children:[x.jsx("button",{onClick:y,disabled:e===1,className:"text-secondary font-bold py-4 px-8 rounded-xl hover:bg-gray-100/50 disabled:opacity-50",children:"Back"}),e<C&&x.jsx("button",{onClick:g,className:"bg-primary text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-1 transition-all",children:"Next"})]}),x.jsx("style",{children:`
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
      `})]})},J4=()=>x.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:[x.jsx("div",{className:"absolute animate-fall",children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"10%",animationDelay:"1s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"20%",animationDelay:"0.5s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"30%",animationDelay:"1.5s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"40%",animationDelay:"2s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"50%",animationDelay:"0.2s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"60%",animationDelay:"1.8s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"70%",animationDelay:"0.8s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"80%",animationDelay:"1.2s"},children:""}),x.jsx("div",{className:"absolute animate-fall",style:{left:"90%",animationDelay:"2.5s"},children:""}),x.jsx("style",{children:`
      @keyframes fall {
        0% { transform: translateY(-10vh); opacity: 1; }
        100% { transform: translateY(100vh); opacity: 0; }
      }
      .animate-fall {
        animation: fall 6s linear infinite;
        font-size: 2rem;
      }
    `})]}),X4={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Dm=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Q4=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),Z4=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V6.375c0-.621.504-1.125 1.125-1.125h.375m16.5 0h.375a1.125 1.125 0 0 1 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-.375m0 0V6.375m0 12.375-1.5-1.5m1.5 1.5-1.5-1.5m0 0H3.75m16.5 0-1.5 1.5m-15-1.5L5.25 18l-1.5-1.5m15 0-1.5 1.5m1.5-1.5L18.75 18l1.5-1.5"})}),ej=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),tj=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),nj=({className:t})=>x.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[x.jsx("path",{d:"M4.008 2.158A17.916 17.916 0 0112 2c4.173 0 8.024 1.482 10.992 4.008"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 21h19.5"}),x.jsx("path",{d:"M5.38 5.38a18.235 18.235 0 00-2.228 4.293 8.966 8.966 0 011.694-.228c.36-.027.72.01.95.228.23.218.35.539.35.856v1.378c0 .588.293 1.152.758 1.502.466.35.93.838 1.434 1.342m5.656-3.064a8.966 8.966 0 011.694.228c.36.027.72-.01.95-.228.23-.218.35.539.35-.856V9.673c0-.588.293-1.152.758-1.502.466.35.93-.838 1.434-1.342m-5.302 5.302c.492.492 1.07.912 1.634 1.342.565.43 1.223.823 1.842 1.18.62.357 1.294.643 2.018.846"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25c-2.336 0-4.5.63-4.5 2.25s2.164 2.25 4.5 2.25 4.5-.63 4.5-2.25S14.336 8.25 12 8.25z"}),x.jsx("path",{d:"M12 12.75a2.25 2.25 0 002.25-2.25H9.75A2.25 2.25 0 0012 12.75z"})]}),$T=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),rj=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),Om=({userProfile:t,expenses:e,income:n,onNavigate:r,onNavigateToChat:i,onEditExpense:o,streak:a,aevumVault:u,dailyWhisper:c,totalSaved:f,showConfetti:h,weeklyInsight:g,savingsTarget:y})=>{const w=t?X4[t.currency]:"$",C=b.useMemo(()=>{const I=new Date,A=new Date(new Date().setDate(I.getDate()-7)),k=n.filter(R=>new Date(R.date)>=A).reduce((R,O)=>R+O.amount,0),M=e.filter(R=>new Date(R.date)>=A).reduce((R,O)=>R+O.amount,0),N=k-M;return{totalIncome:k,totalExpenses:M,savings:N}},[n,e]),T=y.amount>0?Math.min(f/y.amount*100,100):0,_=T>=100;return x.jsxs("div",{className:"p-4 space-y-6 relative",children:[h&&x.jsx(J4,{}),t&&t.age>0&&x.jsx("button",{id:"tutorial-ai-chat-button",onClick:()=>i(),className:"fixed bottom-28 right-4 bg-primary text-white rounded-full p-4 shadow-lg transform hover:scale-110 transition-transform z-40","aria-label":"Open AI Assistant",children:x.jsx(tj,{className:"w-8 h-8"})}),x.jsxs("header",{id:"tutorial-welcome-header",className:"pt-4",children:[x.jsxs("p",{className:"text-secondary text-lg",children:["Hello, ",t?.name||"Explorer","!"]}),x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Ready for today's journey?"})]}),x.jsxs("div",{id:"tutorial-summary-card",className:"bg-card p-5 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"font-bold text-lg text-primary mb-3",children:"7-Day Summary"}),x.jsxs("div",{className:"flex justify-around text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-secondary",children:"Income"}),x.jsxs("p",{className:"font-bold text-xl text-green-500",children:[w,C.totalIncome.toFixed(0)]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-secondary",children:"Expenses"}),x.jsxs("p",{className:"font-bold text-xl text-red-500",children:[w,C.totalExpenses.toFixed(0)]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-secondary",children:"Savings"}),x.jsxs("p",{className:`font-bold text-xl ${C.savings>=0?"text-blue-500":"text-orange-500"}`,children:[w,C.savings.toFixed(0)]})]})]})]}),u&&c?x.jsxs("div",{className:"bg-card p-5 rounded-2xl shadow-card text-center",children:[x.jsxs("h2",{className:"font-bold text-lg text-primary mb-2 flex items-center justify-center gap-2",children:[x.jsx($T,{className:"w-6 h-6 text-accent"}),"A Whisper from the Vault"]}),x.jsxs("p",{className:"font-semibold text-secondary text-lg italic",children:['"',c,'"']}),x.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"A new message awaits you each day."})]}):x.jsxs("div",{id:"tutorial-aevum-vault-card",className:"bg-card p-5 rounded-2xl shadow-card text-center",children:[x.jsxs("h2",{className:"font-bold text-lg text-primary mb-2 flex items-center justify-center gap-2",children:[x.jsx($T,{className:"w-6 h-6 text-accent"}),"The Aevum Vault Awaits"]}),x.jsx("p",{className:"text-secondary text-sm mb-4",children:"Seal your most important goal with a message to your future self."}),x.jsx("button",{onClick:()=>r(ee.FinancialGoals),className:"bg-primary/10 text-primary font-bold py-2 px-4 rounded-lg text-sm hover:bg-primary/20 transition-colors",children:"Set Your First Goal"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{onClick:()=>r(ee.Game),className:"bg-card p-4 rounded-2xl shadow-card flex flex-col items-center justify-center text-center cursor-pointer hover:shadow-lg transform hover:-translate-y-1 transition-all",children:[x.jsx("h2",{className:"font-bold text-primary mb-2",children:"Pirate's Legacy"}),x.jsx(nj,{className:"w-16 h-16 text-amber-700"}),x.jsx("p",{className:"text-sm text-secondary mt-2",children:"Discover your island's treasure!"})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card flex flex-col items-center justify-center text-center",children:[x.jsx("h2",{className:"font-bold text-primary",children:"Daily Streak"}),x.jsx("p",{className:"text-6xl font-bold text-accent my-2",children:a}),x.jsx("p",{className:"font-semibold text-accent-dark",children:" Day Streak!"})]})]}),x.jsxs("div",{onClick:()=>r(ee.SpendingCheck),className:"bg-card p-5 rounded-2xl shadow-card flex items-center gap-4 cursor-pointer hover:shadow-lg transform hover:-translate-y-1 transition-all",children:[x.jsx(rj,{className:"w-10 h-10 text-accent flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-bold text-primary text-lg",children:"Mindful Spend Check"}),x.jsx("p",{className:"text-sm text-secondary",children:"Get a quick AI insight before you buy."})]})]}),x.jsxs("div",{className:"bg-card p-5 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"font-bold text-lg text-primary mb-2",children:"Monthly Savings Goal"}),_?x.jsxs("div",{className:"text-center py-4",children:[x.jsx("p",{className:"text-2xl mb-2",children:""}),x.jsx("h4",{className:"font-bold text-accent-dark",children:"Goal Achieved!"}),x.jsx("p",{className:"text-secondary text-sm",children:"Congratulations! Time for a well-deserved treat."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsx("p",{className:"text-sm text-secondary font-semibold",children:"Progress"}),x.jsxs("p",{className:"text-sm text-primary font-bold",children:[w,f.toFixed(0)," / ",x.jsxs("span",{className:"text-secondary",children:[w,y.amount]})]})]}),x.jsx("div",{className:"w-full bg-background rounded-full h-4",children:x.jsx("div",{className:"bg-accent h-4 rounded-full transition-all duration-500",style:{width:`${T}%`}})})]})]}),t?.smsEnabled&&g&&x.jsxs("div",{className:"bg-card p-5 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"font-bold text-lg text-primary flex items-center gap-2",children:"Weekly Roundup"}),x.jsxs("p",{className:"text-secondary text-md mt-2 italic",children:['"',g,'"']}),x.jsx("p",{className:"text-xs text-right text-gray-400 mt-2",children:"Your Weekly AI Roundup"})]}),x.jsxs("div",{id:"tutorial-log-activity-grid",children:[x.jsx("h2",{className:"text-xl font-bold text-primary mb-4",children:"Log Your Activity"}),x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsxs("button",{onClick:()=>r(ee.AddIncome),className:"flex flex-col items-center justify-center bg-card p-3 rounded-2xl shadow-card transition-transform transform hover:scale-105",children:[x.jsx(Z4,{className:"w-8 h-8 text-green-500"}),x.jsx("span",{className:"font-semibold text-xs mt-2",children:"Income"})]}),x.jsxs("button",{onClick:()=>r(ee.AddExpense),className:"flex flex-col items-center justify-center bg-card p-3 rounded-2xl shadow-card transition-transform transform hover:scale-105",children:[x.jsx(Dm,{className:"w-8 h-8 text-primary"}),x.jsx("span",{className:"font-semibold text-xs mt-2",children:"Expense"})]}),x.jsxs("button",{onClick:()=>r(ee.InnerCompass),className:"flex flex-col items-center justify-center bg-card p-3 rounded-2xl shadow-card transition-transform transform hover:scale-105",children:[x.jsx(Dm,{className:"w-8 h-8 text-accent"}),x.jsx("span",{className:"font-semibold text-xs mt-2",children:"Mood"})]}),x.jsxs("button",{onClick:()=>r(ee.Notes),className:"flex flex-col items-center justify-center bg-card p-3 rounded-2xl shadow-card transition-transform transform hover:scale-105",children:[x.jsx(Dm,{className:"w-8 h-8 text-secondary"}),x.jsx("span",{className:"font-semibold text-xs mt-2",children:"Note"})]}),x.jsxs("button",{onClick:()=>r(ee.SmsImport),className:"col-span-2 flex flex-col items-center justify-center bg-card p-3 rounded-2xl shadow-card transition-transform transform hover:scale-105",children:[x.jsx(Q4,{className:"w-8 h-8 text-blue-500"}),x.jsx("span",{className:"font-semibold text-xs mt-2",children:"Import SMS"})]})]})]}),x.jsxs("div",{className:"space-y-4 pb-16",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-primary mb-4",children:"Recent Expenses"}),x.jsx("div",{className:"space-y-3",children:e.slice(-3).reverse().map(I=>x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:I.category}),x.jsx("p",{className:"text-sm text-secondary",children:I.occasion})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("p",{className:"font-bold text-lg text-primary",children:[w,I.amount.toFixed(2)]}),x.jsx("button",{onClick:()=>o(I.id),className:"text-secondary hover:text-primary","aria-label":`Edit expense for ${I.category}`,children:x.jsx(ej,{className:"w-5 h-5"})})]})]},I.id))})]}),x.jsxs("div",{className:"bg-card p-5 rounded-2xl shadow-card cursor-pointer hover:shadow-lg transform hover:-translate-y-1 transition-all",onClick:()=>r(ee.InnerCompass),children:[x.jsx("h3",{className:"font-bold text-lg text-primary",children:"Unlock Your Insights"}),x.jsx("p",{className:"text-secondary text-sm",children:"Discover your secret patterns."})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ij,oj;function sj(){return{geminiUrl:ij,vertexUrl:oj}}function aj(t,e,n,r){var i,o;if(!t?.baseUrl){const a=sj();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class js{}function Ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];p(h,e.slice(o+1),n[f])}else for(const f of c)p(f,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];p(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>d(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var BT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(BT||(BT={}));var VT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(VT||(VT={}));var Mo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mo||(Mo={}));var WT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(WT||(WT={}));var qT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qT||(qT={}));var HT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(HT||(HT={}));var GT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GT||(GT={}));var zT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zT||(zT={}));var KT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(KT||(KT={}));var YT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(YT||(YT={}));var JT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(JT||(JT={}));var XT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(XT||(XT={}));var QT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(QT||(QT={}));var ZT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ZT||(ZT={}));var e1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(e1||(e1={}));var Qd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qd||(Qd={}));var t1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(t1||(t1={}));var Oy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Oy||(Oy={}));var n1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(n1||(n1={}));var r1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(r1||(r1={}));var i1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(i1||(i1={}));var o1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(o1||(o1={}));var s1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(s1||(s1={}));var a1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(a1||(a1={}));var l1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(l1||(l1={}));var u1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(u1||(u1={}));var c1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(c1||(c1={}));var d1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(d1||(d1={}));var f1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(f1||(f1={}));var p1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(p1||(p1={}));var h1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(h1||(h1={}));var m1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(m1||(m1={}));var g1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(g1||(g1={}));var y1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(y1||(y1={}));var v1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(v1||(v1={}));var x1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(x1||(x1={}));var w1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(w1||(w1={}));var S1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(S1||(S1={}));var C1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(C1||(C1={}));var T1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(T1||(T1={}));var E1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(E1||(E1={}));var b1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(b1||(b1={}));var _1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_1||(_1={}));var I1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(I1||(I1={}));var A1;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(A1||(A1={}));var wa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wa||(wa={}));class Ly{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Jl{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const g=[];for(const y of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[w,C]of Object.entries(y))w!=="text"&&w!=="thought"&&(C!==null||C!==void 0)&&g.push(w);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const g of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,w]of Object.entries(g))y!=="inlineData"&&(w!==null||w!==void 0)&&h.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(f?.length!==0)return f}get executableCode(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(h?.length!==0)return(f=h?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(h?.length!==0)return(f=h?.[0])===null||f===void 0?void 0:f.output}}class P1{}class k1{}class lj{}class uj{}class cj{}class dj{}class N1{}class M1{}class R1{}class fj{}class D1{}class Zd{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Zd;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new D1,a=i.videos;o.generatedVideos=a?.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?Dy(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new D1,a=i.generateVideoResponse,u=a?.generatedSamples;o.generatedVideos=u?.map(c=>{const f=c.video;return{video:{uri:f?.uri,videoBytes:f?.encodedVideo?Dy(f?.encodedVideo):void 0,mimeType:c.encoding}}}),o.raiMediaFilteredCount=a?.raiMediaFilteredCount,o.raiMediaFilteredReasons=a?.raiMediaFilteredReasons,r.response=o}}return r}}class O1{}class L1{}class F1{}class pj{}class hj{}class mj{}class U1{}class gj{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class yj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function UP(t,e){const n=Ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function jP(t){return Array.isArray(t)?t.map(e=>ef(e)):[ef(t)]}function ef(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $P(t){const e=ef(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function BP(t){const e=ef(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function j1(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function VP(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>j1(e)):[j1(t)]}function Fy(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $1(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function B1(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function bn(t){if(t==null)throw new Error("ContentUnion is required");return Fy(t)?t:{role:"user",parts:VP(t)}}function WP(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=bn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=bn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>bn(n)):[bn(e)]}function Er(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($1(t)||B1(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bn(t)]}const e=[],n=[],r=Fy(t[0]);for(const i of t){const o=Fy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if($1(i)||B1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:VP(n)}),e}function vj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Mo).includes(n[0].toUpperCase())?n[0].toUpperCase():Mo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Mo).includes(r.toUpperCase())?r.toUpperCase():Mo.TYPE_UNSPECIFIED})}}function Ia(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&vj(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Mo).includes(u.toUpperCase())?u.toUpperCase():Mo.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ia(u);else if(r.includes(a)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Ia(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(u))c[f]=Ia(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function y0(t){return Ia(t)}function v0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function x0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ia(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ia(e.response));return t}function Qa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function xj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ji(t,e){if(typeof e!="string")throw new Error("name must be a string");return xj(t,e,"cachedContents")}function qP(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $s(t){return Dy(t)}function wj(t){return t!=null&&typeof t=="object"&&"name"in t}function Sj(t){return t!=null&&typeof t=="object"&&"video"in t}function Cj(t){return t!=null&&typeof t=="object"&&"uri"in t}function HP(t){var e;let n;if(wj(t)&&(n=t.name),!(Cj(t)&&(n=t.uri,n===void 0))&&!(Sj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function GP(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zP(t){for(const e of["models","tunedModels","publisherModels"])if(Tj(t,e))return t[e];return[]}function Tj(t,e){return t!==null&&typeof t=="object"&&e in t}function Ej(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function bj(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Ej(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function KP(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function _j(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Za(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function YP(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ij(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function Aj(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Pj(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function kj(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],Ij(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Aj(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Pj(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function JP(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kj(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Nj(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["enum"]);o!=null&&p(e,["enum"],o);const a=d(t,["example"]);a!=null&&p(e,["example"],a);const u=d(t,["format"]);u!=null&&p(e,["format"],u);const c=d(t,["items"]);c!=null&&p(e,["items"],c);const f=d(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const h=d(t,["maxLength"]);h!=null&&p(e,["maxLength"],h);const g=d(t,["maxProperties"]);g!=null&&p(e,["maxProperties"],g);const y=d(t,["maximum"]);y!=null&&p(e,["maximum"],y);const w=d(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=d(t,["minLength"]);C!=null&&p(e,["minLength"],C);const T=d(t,["minProperties"]);T!=null&&p(e,["minProperties"],T);const _=d(t,["minimum"]);_!=null&&p(e,["minimum"],_);const I=d(t,["nullable"]);I!=null&&p(e,["nullable"],I);const A=d(t,["pattern"]);A!=null&&p(e,["pattern"],A);const k=d(t,["properties"]);k!=null&&p(e,["properties"],k);const M=d(t,["propertyOrdering"]);M!=null&&p(e,["propertyOrdering"],M);const N=d(t,["required"]);N!=null&&p(e,["required"],N);const R=d(t,["title"]);R!=null&&p(e,["title"],R);const O=d(t,["type"]);return O!=null&&p(e,["type"],O),e}function Mj(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Rj(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&p(e,["response"],u);const c=d(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function Dj(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function Oj(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],Dj(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Lj(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Fj(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Lj(n)),e}function Uj(){return{}}function jj(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function $j(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Rj(f))),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],Oj(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],Fj(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],Uj());const a=d(t,["computerUse"]);a!=null&&p(e,["computerUse"],jj(a));const u=d(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function Bj(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function Vj(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function Wj(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],Vj(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function qj(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Bj(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],Wj(r)),e}function Hj(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function XP(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],Hj(n)),e}function Gj(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],XP(r)),e}function zj(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gj(i))),p(e,["speakerVoiceConfigs"],r)}return e}function Kj(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],XP(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],zj(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function Yj(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function Jj(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],JP(bn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const u=d(e,["topK"]);u!=null&&p(r,["topK"],u);const c=d(e,["candidateCount"]);c!=null&&p(r,["candidateCount"],c);const f=d(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const h=d(e,["stopSequences"]);h!=null&&p(r,["stopSequences"],h);const g=d(e,["responseLogprobs"]);g!=null&&p(r,["responseLogprobs"],g);const y=d(e,["logprobs"]);y!=null&&p(r,["logprobs"],y);const w=d(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=d(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&p(r,["seed"],T);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const I=d(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],Nj(y0(I)));const A=d(e,["responseJsonSchema"]);if(A!=null&&p(r,["responseJsonSchema"],A),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(n!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map(Y=>Mj(Y))),p(n,["safetySettings"],G)}const M=d(e,["tools"]);if(n!==void 0&&M!=null){let G=Qa(M);Array.isArray(G)&&(G=G.map(Y=>$j(Xa(Y)))),p(n,["tools"],G)}const N=d(e,["toolConfig"]);if(n!==void 0&&N!=null&&p(n,["toolConfig"],qj(N)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=d(e,["cachedContent"]);n!==void 0&&R!=null&&p(n,["cachedContent"],Ji(t,R));const O=d(e,["responseModalities"]);O!=null&&p(r,["responseModalities"],O);const j=d(e,["mediaResolution"]);j!=null&&p(r,["mediaResolution"],j);const W=d(e,["speechConfig"]);if(W!=null&&p(r,["speechConfig"],Kj(v0(W))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=d(e,["thinkingConfig"]);return K!=null&&p(r,["thinkingConfig"],Yj(K)),r}function Xj(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>JP(u))),p(n,["request","contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["request","generationConfig"],Jj(t,o,n)),n}function Qj(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Xj(t,a))),p(n,["requests","requests"],o)}return n}function Zj(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function V1(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Qj(t,KP(t,i)));const o=d(e,["config"]);return o!=null&&p(n,["config"],Zj(o,n)),n}function e$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function t$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function n$(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function r$(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],n$(n,e)),e}function i$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function o$(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function s$(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function a$(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],s$(_j(i))),n}function l$(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Ze(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],o$(KP(t,i)));const o=d(e,["config"]);return o!=null&&p(n,["config"],a$(o,n)),n}function u$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function c$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function d$(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function f$(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],d$(n,e)),e}function p$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Za(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function h$(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function m$(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function g$(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function y$(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],h$(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],m$(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],g$(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function v$(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>y$(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function x$(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function w$(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function S$(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>w$(i))),p(e,["urlMetadata"],r)}return e}function C$(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],v$(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],x$(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["urlContextMetadata"]);a!=null&&p(e,["urlContextMetadata"],S$(a));const u=d(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const c=d(t,["groundingMetadata"]);c!=null&&p(e,["groundingMetadata"],c);const f=d(t,["index"]);f!=null&&p(e,["index"],f);const h=d(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=d(t,["safetyRatings"]);return g!=null&&p(e,["safetyRatings"],g),e}function T$(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>C$(f))),p(e,["candidates"],c)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const u=d(t,["usageMetadata"]);return u!=null&&p(e,["usageMetadata"],u),e}function QP(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function E$(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],T$(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],QP(r)),e}function b$(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>E$(o))),p(e,["inlinedResponses"],i)}return e}function Fd(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],YP(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const u=d(t,["metadata","updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["metadata","model"]);c!=null&&p(e,["model"],c);const f=d(t,["metadata","output"]);return f!=null&&p(e,["dest"],b$(f)),e}function _$(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Fd(a))),p(e,["batchJobs"],o)}return e}function I$(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],QP(o)),e}function ZP(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function A$(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function P$(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Uy(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],YP(i));const o=d(t,["error"]);o!=null&&p(e,["error"],ZP(o));const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const u=d(t,["startTime"]);u!=null&&p(e,["startTime"],u);const c=d(t,["endTime"]);c!=null&&p(e,["endTime"],c);const f=d(t,["updateTime"]);f!=null&&p(e,["updateTime"],f);const h=d(t,["model"]);h!=null&&p(e,["model"],h);const g=d(t,["inputConfig"]);g!=null&&p(e,["src"],A$(g));const y=d(t,["outputConfig"]);return y!=null&&p(e,["dest"],P$(y)),e}function k$(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Uy(a))),p(e,["batchJobs"],o)}return e}function N$(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],ZP(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ns;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ns||(Ns={}));class Wu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M$ extends js{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${a}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",a={};const u=V1(this.apiClient,n);o=Ce("{model}:batchGenerateContent",u._url),a=u._query;const h=u.batch.inputConfig.requests,g=h.requests,y=[];for(const C of g){const T=C;if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const I=T.request;I.systemInstruction=_,T.request=I}y.push(T)}return h.requests=y,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(C=>C.json()).then(C=>Fd(C))}return await this.createInternal(n)},this.list=async(n={})=>new Wu(Ns.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=l$(this.apiClient,e);return u=Ce("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Uy(h))}else{const f=V1(this.apiClient,e);return u=Ce("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Fd(h))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=u$(this.apiClient,e);return u=Ce("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Uy(h))}else{const f=e$(this.apiClient,e);return u=Ce("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Fd(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=c$(this.apiClient,e);a=Ce("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=t$(this.apiClient,e);a=Ce("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=f$(e);return u=Ce("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=k$(h),y=new U1;return Object.assign(y,g),y})}else{const f=r$(e);return u=Ce("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=_$(h),y=new U1;return Object.assign(y,g),y})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=p$(this.apiClient,e);return u=Ce("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>N$(h))}else{const f=i$(this.apiClient,e);return u=Ce("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>I$(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R$(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function D$(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function O$(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function L$(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],R$(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],D$(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],O$(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function W1(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L$(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function F$(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&p(e,["response"],u);const c=d(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function U$(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function j$(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],U$(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $$(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function B$(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],$$(n)),e}function V$(){return{}}function W$(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function q$(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>F$(f))),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],j$(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],B$(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],V$());const a=d(t,["computerUse"]);a!=null&&p(e,["computerUse"],W$(a));const u=d(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function H$(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function G$(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function z$(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],G$(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function K$(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],H$(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],z$(r)),e}function Y$(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let h=Er(a);Array.isArray(h)&&(h=h.map(g=>W1(g))),p(e,["contents"],h)}const u=d(t,["systemInstruction"]);e!==void 0&&u!=null&&p(e,["systemInstruction"],W1(bn(u)));const c=d(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>q$(g))),p(e,["tools"],h)}const f=d(t,["toolConfig"]);if(e!==void 0&&f!=null&&p(e,["toolConfig"],K$(f)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function J$(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],UP(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Y$(i,n)),n}function X$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function Q$(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function Z$(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function e6(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Z$(i,n)),n}function t6(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function n6(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],t6(n,e)),e}function r6(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function i6(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function o6(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function s6(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],r6(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],i6(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],o6(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function q1(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>s6(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function a6(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const u=d(t,["responseJsonSchema"]);return u!=null&&p(e,["responseJsonSchema"],u),e}function l6(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function u6(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],l6(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function c6(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function d6(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],c6(n)),e}function f6(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function p6(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function h6(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],p6(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=d(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const a=d(t,["oauthConfig"]);a!=null&&p(e,["oauthConfig"],a);const u=d(t,["oidcConfig"]);return u!=null&&p(e,["oidcConfig"],u),e}function m6(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],h6(n)),e}function g6(){return{}}function y6(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function v6(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>a6(y))),p(e,["functionDeclarations"],g)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],u6(i));const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],d6(o));const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],f6(a));const u=d(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],m6(u)),d(t,["urlContext"])!=null&&p(e,["urlContext"],g6());const f=d(t,["computerUse"]);f!=null&&p(e,["computerUse"],y6(f));const h=d(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function x6(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function w6(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function S6(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],w6(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function C6(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],x6(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],S6(r)),e}function T6(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let g=Er(a);Array.isArray(g)&&(g=g.map(y=>q1(y))),p(e,["contents"],g)}const u=d(t,["systemInstruction"]);e!==void 0&&u!=null&&p(e,["systemInstruction"],q1(bn(u)));const c=d(t,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>v6(y))),p(e,["tools"],g)}const f=d(t,["toolConfig"]);e!==void 0&&f!=null&&p(e,["toolConfig"],C6(f));const h=d(t,["kmsKeyName"]);return e!==void 0&&h!=null&&p(e,["encryption_spec","kmsKeyName"],h),n}function E6(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],UP(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],T6(i,n)),n}function b6(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function _6(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function I6(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function A6(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ji(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],I6(i,n)),n}function P6(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function k6(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],P6(n,e)),e}function Ud(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["updateTime"]);a!=null&&p(e,["updateTime"],a);const u=d(t,["expireTime"]);u!=null&&p(e,["expireTime"],u);const c=d(t,["usageMetadata"]);return c!=null&&p(e,["usageMetadata"],c),e}function N6(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function M6(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ud(a))),p(e,["cachedContents"],o)}return e}function jd(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["updateTime"]);a!=null&&p(e,["updateTime"],a);const u=d(t,["expireTime"]);u!=null&&p(e,["expireTime"],u);const c=d(t,["usageMetadata"]);return c!=null&&p(e,["usageMetadata"],c),e}function R6(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function D6(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>jd(a))),p(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O6 extends js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wu(Ns.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=E6(this.apiClient,e);return u=Ce("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jd(h))}else{const f=J$(this.apiClient,e);return u=Ce("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Ud(h))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=b6(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jd(h))}else{const f=X$(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Ud(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=_6(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=R6(h),y=new L1;return Object.assign(y,g),y})}else{const f=Q$(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=N6(h),y=new L1;return Object.assign(y,g),y})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=A6(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jd(h))}else{const f=e6(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Ud(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=k6(e);return u=Ce("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=D6(h),y=new F1;return Object.assign(y,g),y})}else{const f=n6(e);return u=Ce("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=M6(h),y=new F1;return Object.assign(y,g),y})}}}function H1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gt(t){return this instanceof gt?(this.v=t,this):new gt(t)}function Aa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(w){return function(C){return Promise.resolve(C).then(w,g)}}function u(w,C){r[w]&&(i[w]=function(T){return new Promise(function(_,I){o.push([w,T,_,I])>1||c(w,T)})},C&&(i[w]=C(i[w])))}function c(w,C){try{f(r[w](C))}catch(T){y(o[0][3],T)}}function f(w){w.value instanceof gt?Promise.resolve(w.value.v).then(h,g):y(o[0][2],w)}function h(w){c("next",w)}function g(w){c("throw",w)}function y(w,C){w(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof H1=="function"?H1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L6(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ek(n)}function ek(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function F6(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function G1(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!ek(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class U6{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new j6(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class j6{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),F6(o)}async sendMessage(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,f=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(g))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?G1(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Aa(this,arguments,function*(){var a,u,c,f;const h=[];try{for(var g=!0,y=mu(e),w;w=yield gt(y.next()),a=w.done,!a;g=!0){f=w.value,g=!1;const C=f;if(L6(C)){const T=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&h.push(T)}yield yield gt(C)}}catch(C){u={error:C}}finally{try{!g&&!a&&(c=y.return)&&(yield gt(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...G1(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $6(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function B6(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],$6(n,e)),e}function V6(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function W6(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const o=d(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const u=d(t,["expirationTime"]);u!=null&&p(e,["expirationTime"],u);const c=d(t,["updateTime"]);c!=null&&p(e,["updateTime"],c);const f=d(t,["sha256Hash"]);f!=null&&p(e,["sha256Hash"],f);const h=d(t,["uri"]);h!=null&&p(e,["uri"],h);const g=d(t,["downloadUri"]);g!=null&&p(e,["downloadUri"],g);const y=d(t,["state"]);y!=null&&p(e,["state"],y);const w=d(t,["source"]);w!=null&&p(e,["source"],w);const C=d(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const T=d(t,["error"]);return T!=null&&p(e,["error"],V6(T)),e}function q6(t){const e={},n=d(t,["file"]);n!=null&&p(e,["file"],W6(n));const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function H6(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","file"],HP(n));const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function G6(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","file"],HP(n));const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function z6(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function jy(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const o=d(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const u=d(t,["expirationTime"]);u!=null&&p(e,["expirationTime"],u);const c=d(t,["updateTime"]);c!=null&&p(e,["updateTime"],c);const f=d(t,["sha256Hash"]);f!=null&&p(e,["sha256Hash"],f);const h=d(t,["uri"]);h!=null&&p(e,["uri"],h);const g=d(t,["downloadUri"]);g!=null&&p(e,["downloadUri"],g);const y=d(t,["state"]);y!=null&&p(e,["state"],y);const w=d(t,["source"]);w!=null&&p(e,["source"],w);const C=d(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const T=d(t,["error"]);return T!=null&&p(e,["error"],z6(T)),e}function K6(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>jy(a))),p(e,["files"],o)}return e}function Y6(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function J6(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X6 extends js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wu(Ns.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>jy(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B6(e);return o=Ce("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=K6(c),h=new pj;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q6(e);return o=Ce("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Y6(c),h=new hj;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=H6(e);return o=Ce("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>jy(c))}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=G6(e);return o=Ce("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=J6(c),h=new mj;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q6(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function tk(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],Q6(n)),e}function Z6(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],tk(r)),e}function eB(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Z6(i))),p(e,["speakerVoiceConfigs"],r)}return e}function tB(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],tk(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],eB(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function nB(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function rB(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function iB(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function oB(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],nB(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],rB(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],iB(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function sB(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oB(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function aB(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&p(e,["response"],u);const c=d(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function lB(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function uB(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],lB(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cB(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function dB(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],cB(n)),e}function fB(){return{}}function pB(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function hB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>aB(f))),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],uB(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],dB(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],fB());const a=d(t,["computerUse"]);a!=null&&p(e,["computerUse"],pB(a));const u=d(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function mB(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function z1(){return{}}function gB(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=d(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const a=d(t,["silenceDurationMs"]);return a!=null&&p(e,["silenceDurationMs"],a),e}function yB(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],gB(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function vB(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function xB(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],vB(r)),e}function wB(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function SB(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const u=d(t,["topK"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topK"],u);const c=d(t,["maxOutputTokens"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","maxOutputTokens"],c);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const h=d(t,["seed"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","seed"],h);const g=d(t,["speechConfig"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","speechConfig"],tB(x0(g)));const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=d(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],sB(bn(w)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let N=Qa(C);Array.isArray(N)&&(N=N.map(R=>hB(Xa(R)))),p(e,["setup","tools"],N)}const T=d(t,["sessionResumption"]);e!==void 0&&T!=null&&p(e,["setup","sessionResumption"],mB(T));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],z1());const I=d(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","outputAudioTranscription"],z1());const A=d(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&p(e,["setup","realtimeInputConfig"],yB(A));const k=d(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],xB(k));const M=d(t,["proactivity"]);return e!==void 0&&M!=null&&p(e,["setup","proactivity"],wB(M)),n}function CB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],SB(i,n)),n}function TB(){return{}}function EB(){return{}}function bB(t){const e={},n=d(t,["media"]);n!=null&&p(e,["mediaChunks"],jP(n));const r=d(t,["audio"]);r!=null&&p(e,["audio"],BP(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],$P(o));const a=d(t,["text"]);return a!=null&&p(e,["text"],a),d(t,["activityStart"])!=null&&p(e,["activityStart"],TB()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],EB()),e}function nk(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function _B(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nk(i))),p(e,["weightedPrompts"],r)}return e}function rk(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const o=d(t,["guidance"]);o!=null&&p(e,["guidance"],o);const a=d(t,["bpm"]);a!=null&&p(e,["bpm"],a);const u=d(t,["density"]);u!=null&&p(e,["density"],u);const c=d(t,["brightness"]);c!=null&&p(e,["brightness"],c);const f=d(t,["scale"]);f!=null&&p(e,["scale"],f);const h=d(t,["muteBass"]);h!=null&&p(e,["muteBass"],h);const g=d(t,["muteDrums"]);g!=null&&p(e,["muteDrums"],g);const y=d(t,["onlyBassAndDrums"]);y!=null&&p(e,["onlyBassAndDrums"],y);const w=d(t,["musicGenerationMode"]);return w!=null&&p(e,["musicGenerationMode"],w),e}function IB(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],rk(n)),e}function ik(t){const e={},n=d(t,["model"]);return n!=null&&p(e,["model"],n),e}function ok(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nk(i))),p(e,["weightedPrompts"],r)}return e}function $y(t){const e={},n=d(t,["setup"]);n!=null&&p(e,["setup"],ik(n));const r=d(t,["clientContent"]);r!=null&&p(e,["clientContent"],ok(r));const i=d(t,["musicGenerationConfig"]);i!=null&&p(e,["musicGenerationConfig"],rk(i));const o=d(t,["playbackControl"]);return o!=null&&p(e,["playbackControl"],o),e}function AB(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function PB(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],AB(n)),e}function kB(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],PB(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function NB(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function MB(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function RB(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function DB(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],NB(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],MB(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],RB(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function OB(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DB(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function LB(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const u=d(t,["responseJsonSchema"]);return u!=null&&p(e,["responseJsonSchema"],u),e}function FB(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function UB(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],FB(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function jB(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function $B(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],jB(n)),e}function BB(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function VB(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function WB(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],VB(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=d(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const a=d(t,["oauthConfig"]);a!=null&&p(e,["oauthConfig"],a);const u=d(t,["oidcConfig"]);return u!=null&&p(e,["oidcConfig"],u),e}function qB(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],WB(n)),e}function HB(){return{}}function GB(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function zB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>LB(y))),p(e,["functionDeclarations"],g)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],UB(i));const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],$B(o));const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],BB(a));const u=d(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],qB(u)),d(t,["urlContext"])!=null&&p(e,["urlContext"],HB());const f=d(t,["computerUse"]);f!=null&&p(e,["computerUse"],GB(f));const h=d(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function KB(t){const e={},n=d(t,["handle"]);n!=null&&p(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&p(e,["transparent"],r),e}function K1(){return{}}function YB(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=d(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const a=d(t,["silenceDurationMs"]);return a!=null&&p(e,["silenceDurationMs"],a),e}function JB(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],YB(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function XB(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function QB(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],XB(r)),e}function ZB(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function eV(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const u=d(t,["topK"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topK"],u);const c=d(t,["maxOutputTokens"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","maxOutputTokens"],c);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const h=d(t,["seed"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","seed"],h);const g=d(t,["speechConfig"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","speechConfig"],kB(x0(g)));const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=d(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],OB(bn(w)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let N=Qa(C);Array.isArray(N)&&(N=N.map(R=>zB(Xa(R)))),p(e,["setup","tools"],N)}const T=d(t,["sessionResumption"]);e!==void 0&&T!=null&&p(e,["setup","sessionResumption"],KB(T));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],K1());const I=d(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","outputAudioTranscription"],K1());const A=d(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&p(e,["setup","realtimeInputConfig"],JB(A));const k=d(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],QB(k));const M=d(t,["proactivity"]);return e!==void 0&&M!=null&&p(e,["setup","proactivity"],ZB(M)),n}function tV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],eV(i,n)),n}function nV(){return{}}function rV(){return{}}function iV(t){const e={},n=d(t,["media"]);n!=null&&p(e,["mediaChunks"],jP(n));const r=d(t,["audio"]);r!=null&&p(e,["audio"],BP(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],$P(o));const a=d(t,["text"]);return a!=null&&p(e,["text"],a),d(t,["activityStart"])!=null&&p(e,["activityStart"],nV()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],rV()),e}function oV(){return{}}function sV(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function aV(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function lV(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function uV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],sV(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],aV(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],lV(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function cV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uV(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Y1(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function dV(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function fV(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dV(i))),p(e,["urlMetadata"],r)}return e}function pV(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],cV(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const o=d(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const a=d(t,["generationComplete"]);a!=null&&p(e,["generationComplete"],a);const u=d(t,["inputTranscription"]);u!=null&&p(e,["inputTranscription"],Y1(u));const c=d(t,["outputTranscription"]);c!=null&&p(e,["outputTranscription"],Y1(c));const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],fV(f)),e}function hV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function mV(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hV(i))),p(e,["functionCalls"],r)}return e}function gV(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function md(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function yV(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=d(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const u=d(t,["totalTokenCount"]);u!=null&&p(e,["totalTokenCount"],u);const c=d(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(w=>md(w))),p(e,["promptTokensDetails"],y)}const f=d(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(w=>md(w))),p(e,["cacheTokensDetails"],y)}const h=d(t,["responseTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(w=>md(w))),p(e,["responseTokensDetails"],y)}const g=d(t,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(w=>md(w))),p(e,["toolUsePromptTokensDetails"],y)}return e}function vV(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function xV(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function wV(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],oV());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],pV(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],mV(i));const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],gV(o));const a=d(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],yV(a));const u=d(t,["goAway"]);u!=null&&p(e,["goAway"],vV(u));const c=d(t,["sessionResumptionUpdate"]);return c!=null&&p(e,["sessionResumptionUpdate"],xV(c)),e}function SV(){return{}}function CV(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function TV(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CV(i))),p(e,["weightedPrompts"],r)}return e}function EV(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const o=d(t,["guidance"]);o!=null&&p(e,["guidance"],o);const a=d(t,["bpm"]);a!=null&&p(e,["bpm"],a);const u=d(t,["density"]);u!=null&&p(e,["density"],u);const c=d(t,["brightness"]);c!=null&&p(e,["brightness"],c);const f=d(t,["scale"]);f!=null&&p(e,["scale"],f);const h=d(t,["muteBass"]);h!=null&&p(e,["muteBass"],h);const g=d(t,["muteDrums"]);g!=null&&p(e,["muteDrums"],g);const y=d(t,["onlyBassAndDrums"]);y!=null&&p(e,["onlyBassAndDrums"],y);const w=d(t,["musicGenerationMode"]);return w!=null&&p(e,["musicGenerationMode"],w),e}function bV(t){const e={},n=d(t,["clientContent"]);n!=null&&p(e,["clientContent"],TV(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&p(e,["musicGenerationConfig"],EV(r)),e}function _V(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&p(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&p(e,["sourceMetadata"],bV(i)),e}function IV(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_V(i))),p(e,["audioChunks"],r)}return e}function AV(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&p(e,["filteredReason"],r),e}function PV(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],SV());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],IV(r));const i=d(t,["filteredPrompt"]);return i!=null&&p(e,["filteredPrompt"],AV(i)),e}function kV(t){const e={},n=d(t,["sessionId"]);return n!=null&&p(e,["sessionId"],n),e}function NV(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function MV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function RV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function DV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],NV(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],MV(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],RV(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function OV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DV(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function J1(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function LV(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],OV(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const o=d(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const a=d(t,["generationComplete"]);a!=null&&p(e,["generationComplete"],a);const u=d(t,["inputTranscription"]);u!=null&&p(e,["inputTranscription"],J1(u));const c=d(t,["outputTranscription"]);return c!=null&&p(e,["outputTranscription"],J1(c)),e}function FV(t){const e={},n=d(t,["args"]);n!=null&&p(e,["args"],n);const r=d(t,["name"]);return r!=null&&p(e,["name"],r),e}function UV(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>FV(i))),p(e,["functionCalls"],r)}return e}function jV(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function gd(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function $V(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=d(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const u=d(t,["totalTokenCount"]);u!=null&&p(e,["totalTokenCount"],u);const c=d(t,["promptTokensDetails"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(C=>gd(C))),p(e,["promptTokensDetails"],w)}const f=d(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(C=>gd(C))),p(e,["cacheTokensDetails"],w)}const h=d(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(C=>gd(C))),p(e,["responseTokensDetails"],w)}const g=d(t,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(C=>gd(C))),p(e,["toolUsePromptTokensDetails"],w)}const y=d(t,["trafficType"]);return y!=null&&p(e,["trafficType"],y),e}function BV(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function VV(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function WV(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],kV(n));const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],LV(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],UV(i));const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],jV(o));const a=d(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],$V(a));const u=d(t,["goAway"]);u!=null&&p(e,["goAway"],BV(u));const c=d(t,["sessionResumptionUpdate"]);return c!=null&&p(e,["sessionResumptionUpdate"],VV(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qV(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function HV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function GV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function zV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],qV(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],HV(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],GV(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function Qf(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zV(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function KV(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["enum"]);o!=null&&p(e,["enum"],o);const a=d(t,["example"]);a!=null&&p(e,["example"],a);const u=d(t,["format"]);u!=null&&p(e,["format"],u);const c=d(t,["items"]);c!=null&&p(e,["items"],c);const f=d(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const h=d(t,["maxLength"]);h!=null&&p(e,["maxLength"],h);const g=d(t,["maxProperties"]);g!=null&&p(e,["maxProperties"],g);const y=d(t,["maximum"]);y!=null&&p(e,["maximum"],y);const w=d(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=d(t,["minLength"]);C!=null&&p(e,["minLength"],C);const T=d(t,["minProperties"]);T!=null&&p(e,["minProperties"],T);const _=d(t,["minimum"]);_!=null&&p(e,["minimum"],_);const I=d(t,["nullable"]);I!=null&&p(e,["nullable"],I);const A=d(t,["pattern"]);A!=null&&p(e,["pattern"],A);const k=d(t,["properties"]);k!=null&&p(e,["properties"],k);const M=d(t,["propertyOrdering"]);M!=null&&p(e,["propertyOrdering"],M);const N=d(t,["required"]);N!=null&&p(e,["required"],N);const R=d(t,["title"]);R!=null&&p(e,["title"],R);const O=d(t,["type"]);return O!=null&&p(e,["type"],O),e}function YV(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function JV(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&p(e,["response"],u);const c=d(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function XV(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function QV(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],XV(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ZV(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function eW(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],ZV(n)),e}function tW(){return{}}function nW(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function rW(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>JV(f))),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],QV(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],eW(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],tW());const a=d(t,["computerUse"]);a!=null&&p(e,["computerUse"],nW(a));const u=d(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function iW(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function oW(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function sW(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],oW(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function aW(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],iW(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],sW(r)),e}function lW(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function sk(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],lW(n)),e}function uW(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],sk(r)),e}function cW(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uW(i))),p(e,["speakerVoiceConfigs"],r)}return e}function dW(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],sk(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],cW(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function fW(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function pW(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Qf(bn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const u=d(e,["topK"]);u!=null&&p(r,["topK"],u);const c=d(e,["candidateCount"]);c!=null&&p(r,["candidateCount"],c);const f=d(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const h=d(e,["stopSequences"]);h!=null&&p(r,["stopSequences"],h);const g=d(e,["responseLogprobs"]);g!=null&&p(r,["responseLogprobs"],g);const y=d(e,["logprobs"]);y!=null&&p(r,["logprobs"],y);const w=d(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=d(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&p(r,["seed"],T);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const I=d(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],KV(y0(I)));const A=d(e,["responseJsonSchema"]);if(A!=null&&p(r,["responseJsonSchema"],A),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(n!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map(Y=>YV(Y))),p(n,["safetySettings"],G)}const M=d(e,["tools"]);if(n!==void 0&&M!=null){let G=Qa(M);Array.isArray(G)&&(G=G.map(Y=>rW(Xa(Y)))),p(n,["tools"],G)}const N=d(e,["toolConfig"]);if(n!==void 0&&N!=null&&p(n,["toolConfig"],aW(N)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=d(e,["cachedContent"]);n!==void 0&&R!=null&&p(n,["cachedContent"],Ji(t,R));const O=d(e,["responseModalities"]);O!=null&&p(r,["responseModalities"],O);const j=d(e,["mediaResolution"]);j!=null&&p(r,["mediaResolution"],j);const W=d(e,["speechConfig"]);if(W!=null&&p(r,["speechConfig"],dW(v0(W))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=d(e,["thinkingConfig"]);return K!=null&&p(r,["thinkingConfig"],fW(K)),r}function X1(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>Qf(u))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],pW(t,o,n)),n}function hW(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);i!=null&&p(n,["requests[]","content"],WP(t,i));const o=d(e,["config"]);o!=null&&p(n,["config"],hW(o,n));const a=d(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],Ze(t,a)),n}function gW(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const u=d(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const c=d(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&p(e,["parameters","includeSafetyAttributes"],c);const f=d(t,["includeRaiReason"]);e!==void 0&&f!=null&&p(e,["parameters","includeRaiReason"],f);const h=d(t,["language"]);e!==void 0&&h!=null&&p(e,["parameters","language"],h);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=d(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const w=d(t,["imageSize"]);if(e!==void 0&&w!=null&&p(e,["parameters","sampleImageSize"],w),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function yW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&p(n,["config"],gW(o,n)),n}function vW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function xW(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const u=d(e,["queryBase"]);return n!==void 0&&u!=null&&p(n,["_url","models_url"],GP(t,u)),r}function wW(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],xW(t,r,n)),n}function SW(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function CW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],SW(i,n)),n}function TW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function EW(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>Qf(u))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["config"],EW(o)),n}function ak(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],$s(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _W(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&p(e,["instances[0]","image"],ak(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function IW(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=d(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const u=d(t,["personGeneration"]);if(e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=d(t,["negativePrompt"]);e!==void 0&&c!=null&&p(e,["parameters","negativePrompt"],c);const f=d(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&p(e,["parameters","enhancePrompt"],f),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function AW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);if(o!=null&&p(n,["instances[0]","image"],ak(o)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=d(e,["source"]);a!=null&&p(n,["config"],_W(a,n));const u=d(e,["config"]);return u!=null&&p(n,["config"],IW(u,n)),n}function PW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function kW(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function NW(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function MW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],PW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],kW(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],NW(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function el(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MW(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function RW(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["enum"]);o!=null&&p(e,["enum"],o);const a=d(t,["example"]);a!=null&&p(e,["example"],a);const u=d(t,["format"]);u!=null&&p(e,["format"],u);const c=d(t,["items"]);c!=null&&p(e,["items"],c);const f=d(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const h=d(t,["maxLength"]);h!=null&&p(e,["maxLength"],h);const g=d(t,["maxProperties"]);g!=null&&p(e,["maxProperties"],g);const y=d(t,["maximum"]);y!=null&&p(e,["maximum"],y);const w=d(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=d(t,["minLength"]);C!=null&&p(e,["minLength"],C);const T=d(t,["minProperties"]);T!=null&&p(e,["minProperties"],T);const _=d(t,["minimum"]);_!=null&&p(e,["minimum"],_);const I=d(t,["nullable"]);I!=null&&p(e,["nullable"],I);const A=d(t,["pattern"]);A!=null&&p(e,["pattern"],A);const k=d(t,["properties"]);k!=null&&p(e,["properties"],k);const M=d(t,["propertyOrdering"]);M!=null&&p(e,["propertyOrdering"],M);const N=d(t,["required"]);N!=null&&p(e,["required"],N);const R=d(t,["title"]);R!=null&&p(e,["title"],R);const O=d(t,["type"]);return O!=null&&p(e,["type"],O),e}function DW(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function OW(t){const e={},n=d(t,["method"]);n!=null&&p(e,["method"],n);const r=d(t,["category"]);r!=null&&p(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function LW(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const u=d(t,["responseJsonSchema"]);return u!=null&&p(e,["responseJsonSchema"],u),e}function FW(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function UW(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],FW(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function jW(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function $W(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],jW(n)),e}function BW(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function VW(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function WW(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],VW(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=d(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const a=d(t,["oauthConfig"]);a!=null&&p(e,["oauthConfig"],a);const u=d(t,["oidcConfig"]);return u!=null&&p(e,["oidcConfig"],u),e}function qW(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],WW(n)),e}function HW(){return{}}function GW(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function lk(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>LW(y))),p(e,["functionDeclarations"],g)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],UW(i));const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],$W(o));const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],BW(a));const u=d(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],qW(u)),d(t,["urlContext"])!=null&&p(e,["urlContext"],HW());const f=d(t,["computerUse"]);f!=null&&p(e,["computerUse"],GW(f));const h=d(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function zW(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function KW(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function YW(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],KW(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function JW(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],zW(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],YW(r)),e}function XW(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function QW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],XW(n)),e}function ZW(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],QW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function e8(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function t8(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],el(bn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const u=d(e,["topK"]);u!=null&&p(r,["topK"],u);const c=d(e,["candidateCount"]);c!=null&&p(r,["candidateCount"],c);const f=d(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const h=d(e,["stopSequences"]);h!=null&&p(r,["stopSequences"],h);const g=d(e,["responseLogprobs"]);g!=null&&p(r,["responseLogprobs"],g);const y=d(e,["logprobs"]);y!=null&&p(r,["logprobs"],y);const w=d(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=d(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&p(r,["seed"],T);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const I=d(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],RW(y0(I)));const A=d(e,["responseJsonSchema"]);A!=null&&p(r,["responseJsonSchema"],A);const k=d(e,["routingConfig"]);k!=null&&p(r,["routingConfig"],k);const M=d(e,["modelSelectionConfig"]);M!=null&&p(r,["modelConfig"],DW(M));const N=d(e,["safetySettings"]);if(n!==void 0&&N!=null){let de=N;Array.isArray(de)&&(de=de.map(pe=>OW(pe))),p(n,["safetySettings"],de)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let de=Qa(R);Array.isArray(de)&&(de=de.map(pe=>lk(Xa(pe)))),p(n,["tools"],de)}const O=d(e,["toolConfig"]);n!==void 0&&O!=null&&p(n,["toolConfig"],JW(O));const j=d(e,["labels"]);n!==void 0&&j!=null&&p(n,["labels"],j);const W=d(e,["cachedContent"]);n!==void 0&&W!=null&&p(n,["cachedContent"],Ji(t,W));const K=d(e,["responseModalities"]);K!=null&&p(r,["responseModalities"],K);const G=d(e,["mediaResolution"]);G!=null&&p(r,["mediaResolution"],G);const Y=d(e,["speechConfig"]);Y!=null&&p(r,["speechConfig"],ZW(v0(Y)));const ie=d(e,["audioTimestamp"]);ie!=null&&p(r,["audioTimestamp"],ie);const ce=d(e,["thinkingConfig"]);return ce!=null&&p(r,["thinkingConfig"],e8(ce)),r}function Q1(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>el(u))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],t8(t,o,n)),n}function n8(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=d(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const u=d(t,["autoTruncate"]);return e!==void 0&&u!=null&&p(e,["parameters","autoTruncate"],u),n}function r8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);i!=null&&p(n,["instances[]","content"],WP(t,i));const o=d(e,["config"]);return o!=null&&p(n,["config"],n8(o,n)),n}function i8(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const u=d(t,["guidanceScale"]);e!==void 0&&u!=null&&p(e,["parameters","guidanceScale"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&p(e,["parameters","safetySetting"],f);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const g=d(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&p(e,["parameters","includeSafetyAttributes"],g);const y=d(t,["includeRaiReason"]);e!==void 0&&y!=null&&p(e,["parameters","includeRaiReason"],y);const w=d(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const T=d(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","compressionQuality"],T);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const I=d(t,["imageSize"]);e!==void 0&&I!=null&&p(e,["parameters","sampleImageSize"],I);const A=d(t,["enhancePrompt"]);return e!==void 0&&A!=null&&p(e,["parameters","enhancePrompt"],A),n}function o8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&p(n,["config"],i8(o,n)),n}function fi(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],$s(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function s8(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function a8(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function l8(t){const e={},n=d(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function u8(t){const e={},n=d(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&p(e,["subjectDescription"],r),e}function c8(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],fi(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],s8(o));const a=d(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],a8(a));const u=d(t,["styleImageConfig"]);u!=null&&p(e,["styleImageConfig"],l8(u));const c=d(t,["subjectImageConfig"]);return c!=null&&p(e,["subjectImageConfig"],u8(c)),e}function d8(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const u=d(t,["guidanceScale"]);e!==void 0&&u!=null&&p(e,["parameters","guidanceScale"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&p(e,["parameters","safetySetting"],f);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const g=d(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&p(e,["parameters","includeSafetyAttributes"],g);const y=d(t,["includeRaiReason"]);e!==void 0&&y!=null&&p(e,["parameters","includeRaiReason"],y);const w=d(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const T=d(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","compressionQuality"],T);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const I=d(t,["editMode"]);e!==void 0&&I!=null&&p(e,["parameters","editMode"],I);const A=d(t,["baseSteps"]);return e!==void 0&&A!=null&&p(e,["parameters","editConfig","baseSteps"],A),n}function f8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c8(c))),p(n,["instances[0]","referenceImages"],u)}const a=d(e,["config"]);return a!=null&&p(n,["config"],d8(a,n)),n}function p8(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&p(e,["parameters","includeRaiReason"],i);const o=d(t,["outputMimeType"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","mimeType"],o);const a=d(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","compressionQuality"],a);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["numberOfImages"]);e!==void 0&&f!=null&&p(e,["parameters","sampleCount"],f);const h=d(t,["mode"]);return e!==void 0&&h!=null&&p(e,["parameters","mode"],h),n}function h8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],fi(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=d(e,["config"]);return a!=null&&p(n,["config"],p8(a,n)),n}function m8(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],fi(n)),e}function g8(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],fi(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>m8(u))),p(e,["instances[0]","productImages"],a)}return n}function y8(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","editConfig","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["addWatermark"]);e!==void 0&&f!=null&&p(e,["parameters","addWatermark"],f);const h=d(t,["outputMimeType"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","mimeType"],h);const g=d(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","compressionQuality"],g);const y=d(t,["enhancePrompt"]);return e!==void 0&&y!=null&&p(e,["parameters","enhancePrompt"],y),n}function v8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["source"]);i!=null&&p(n,["config"],g8(i,n));const o=d(e,["config"]);return o!=null&&p(n,["config"],y8(o,n)),n}function x8(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],fi(n)),e}function w8(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],fi(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],x8(o)),n}function S8(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=d(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const u=d(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&p(e,["parameters","binaryColorThreshold"],u),n}function C8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["source"]);i!=null&&p(n,["config"],w8(i,n));const o=d(e,["config"]);return o!=null&&p(n,["config"],S8(o,n)),n}function T8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function E8(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const u=d(e,["queryBase"]);return n!==void 0&&u!=null&&p(n,["_url","models_url"],GP(t,u)),r}function b8(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],E8(t,r,n)),n}function _8(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function I8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],_8(i,n)),n}function A8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],i),n}function P8(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],el(bn(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>lk(u))),p(e,["tools"],a)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],o),n}function k8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>el(u))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["config"],P8(o,n)),n}function N8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(u=>el(u))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["config"],o),n}function uk(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],$s(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function M8(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],fi(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],uk(o)),n}function R8(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],fi(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function D8(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=d(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const u=d(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&p(e,["parameters","aspectRatio"],c);const f=d(t,["resolution"]);e!==void 0&&f!=null&&p(e,["parameters","resolution"],f);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const g=d(t,["pubsubTopic"]);e!==void 0&&g!=null&&p(e,["parameters","pubsubTopic"],g);const y=d(t,["negativePrompt"]);e!==void 0&&y!=null&&p(e,["parameters","negativePrompt"],y);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const C=d(t,["generateAudio"]);e!==void 0&&C!=null&&p(e,["parameters","generateAudio"],C);const T=d(t,["lastFrame"]);e!==void 0&&T!=null&&p(e,["instances[0]","lastFrame"],fi(T));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let A=_;Array.isArray(A)&&(A=A.map(k=>R8(k))),p(e,["instances[0]","referenceImages"],A)}const I=d(t,["compressionQuality"]);return e!==void 0&&I!=null&&p(e,["parameters","compressionQuality"],I),n}function O8(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Ze(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],fi(o));const a=d(e,["video"]);a!=null&&p(n,["instances[0]","video"],uk(a));const u=d(e,["source"]);u!=null&&p(n,["config"],M8(u,n));const c=d(e,["config"]);return c!=null&&p(n,["config"],D8(c,n)),n}function L8(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function F8(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function U8(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function j8(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],L8(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],F8(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],U8(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function $8(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>j8(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function B8(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function V8(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function W8(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>V8(i))),p(e,["urlMetadata"],r)}return e}function q8(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],$8(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],B8(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["urlContextMetadata"]);a!=null&&p(e,["urlContextMetadata"],W8(a));const u=d(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const c=d(t,["groundingMetadata"]);c!=null&&p(e,["groundingMetadata"],c);const f=d(t,["index"]);f!=null&&p(e,["index"],f);const h=d(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=d(t,["safetyRatings"]);return g!=null&&p(e,["safetyRatings"],g),e}function Z1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>q8(f))),p(e,["candidates"],c)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const u=d(t,["usageMetadata"]);return u!=null&&p(e,["usageMetadata"],u),e}function H8(t){const e={},n=d(t,["values"]);return n!=null&&p(e,["values"],n),e}function G8(){return{}}function z8(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>H8(a))),p(e,["embeddings"],o)}return d(t,["metadata"])!=null&&p(e,["metadata"],G8()),e}function K8(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],$s(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function ck(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Y8(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],K8(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],ck(i)),e}function J8(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Y8(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],ck(i)),e}function X8(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function By(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const a=d(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],X8(a));const u=d(t,["inputTokenLimit"]);u!=null&&p(e,["inputTokenLimit"],u);const c=d(t,["outputTokenLimit"]);c!=null&&p(e,["outputTokenLimit"],c);const f=d(t,["supportedGenerationMethods"]);return f!=null&&p(e,["supportedActions"],f),e}function Q8(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=zP(i);Array.isArray(o)&&(o=o.map(a=>By(a))),p(e,["models"],o)}return e}function Z8(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function eq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function tq(t){const e={},n=d(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],$s(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function nq(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],tq(n)),e}function rq(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nq(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function iq(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],rq(a)),e}function oq(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function sq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function aq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function lq(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],oq(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],sq(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],aq(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function uq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lq(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function cq(t){const e={},n=d(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function dq(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function fq(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dq(i))),p(e,["urlMetadata"],r)}return e}function pq(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],uq(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],cq(r));const i=d(t,["finishMessage"]);i!=null&&p(e,["finishMessage"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["urlContextMetadata"]);a!=null&&p(e,["urlContextMetadata"],fq(a));const u=d(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const c=d(t,["groundingMetadata"]);c!=null&&p(e,["groundingMetadata"],c);const f=d(t,["index"]);f!=null&&p(e,["index"],f);const h=d(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=d(t,["safetyRatings"]);return g!=null&&p(e,["safetyRatings"],g),e}function eE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>pq(h))),p(e,["candidates"],f)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const u=d(t,["responseId"]);u!=null&&p(e,["responseId"],u);const c=d(t,["usageMetadata"]);return c!=null&&p(e,["usageMetadata"],c),e}function hq(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function mq(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],hq(r)),e}function gq(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function yq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>mq(a))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],gq(i)),e}function dk(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],$s(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function fk(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Zf(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],dk(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],fk(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function vq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Zf(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],fk(i)),e}function xq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zf(o))),p(e,["generatedImages"],i)}return e}function wq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zf(o))),p(e,["generatedImages"],i)}return e}function Sq(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zf(i))),p(e,["generatedImages"],r)}return e}function Cq(t){const e={},n=d(t,["label"]);n!=null&&p(e,["label"],n);const r=d(t,["score"]);return r!=null&&p(e,["score"],r),e}function Tq(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],dk(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Cq(o))),p(e,["labels"],i)}return e}function Eq(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Tq(i))),p(e,["generatedMasks"],r)}return e}function bq(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function _q(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Iq(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&p(e,["step"],i),e}function Vy(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const a=d(t,["deployedModels"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(y=>bq(y))),p(e,["endpoints"],g)}const u=d(t,["labels"]);u!=null&&p(e,["labels"],u);const c=d(t,["_self"]);c!=null&&p(e,["tunedModelInfo"],_q(c));const f=d(t,["defaultCheckpointId"]);f!=null&&p(e,["defaultCheckpointId"],f);const h=d(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>Iq(y))),p(e,["checkpoints"],g)}return e}function Aq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=zP(i);Array.isArray(o)&&(o=o.map(a=>Vy(a))),p(e,["models"],o)}return e}function Pq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function kq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function Nq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&p(e,["tokensInfo"],r),e}function Mq(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],$s(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Rq(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Mq(n)),e}function Dq(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Rq(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Oq(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],Dq(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lq="Content-Type",Fq="X-Server-Timeout",Uq="User-Agent",Wy="x-goog-api-client",jq="1.17.0",$q=`google-genai-sdk/${jq}`,Bq="v1beta1",Vq="v1beta",tE=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Wq{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Bq,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Vq,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&n?.timeout>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&qq(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nE(i),new Ly(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Aa(this,arguments,function*(){const i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield gt(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),w=y.status,C=y.code,T=`got status: ${w}. ${JSON.stringify(g)}`;if(C>=400&&C<600)throw new Xf({message:T,status:C})}}catch(g){if(g.name==="ApiError")throw g}a+=f;let h=a.match(tE);for(;h;){const g=h[1];try{const y=new Response(g,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield gt(new Ly(y)),a=a.slice(h[0].length),h=a.match(tE)}catch(y){throw new Error(`exception parsing stream chunk ${g}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=$q+" "+this.clientOptions.userAgentExtra;return e[Uq]=n,e[Wy]=n,e[Lq]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Fq,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n?.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},a=await this.request({path:Ce("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!a||!a?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=a?.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function nE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Xf({message:i,status:n}):new Error(i)}}function qq(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hq="mcp_used/unknown";let Gq=!1;function pk(t){for(const e of t)if(zq(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Gq}function hk(t){var e;const n=(e=t[Wy])!==null&&e!==void 0?e:"";t[Wy]=(n+` ${Hq}`).trimStart()}function zq(t){return t!==null&&typeof t=="object"&&t instanceof w0}function Kq(t,e=100){return Aa(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield gt(t.listTools({cursor:r}));for(const a of o.tools)yield yield gt(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class w0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new w0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,mu(Kq(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const g=i;a.push(g);const y=g.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(g){n={error:g}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),bj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Yq(t,e,n){const r=new yj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=PV(i);Object.assign(r,o),e(r)}class Jq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Zq(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(k=>{f=k}),g=e.callbacks,y=function(){f({})},w=this.apiClient,C={onopen:y,onmessage:k=>{Yq(w,g.onmessage,k)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(c,Qq(a),C);T.connect(),await h;const _=Ze(this.apiClient,e.model),I=ik({model:_}),A=$y({setup:I});return T.send(JSON.stringify(A)),new Xq(T,this.apiClient)}}class Xq{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_B(e),r=ok(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=IB(e),r=$y(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=$y({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wa.PLAY)}pause(){this.sendPlaybackControl(wa.PAUSE)}stop(){this.sendPlaybackControl(wa.STOP)}resetContext(){this.sendPlaybackControl(wa.RESET_CONTEXT)}close(){this.conn.close()}}function Qq(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Zq(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tH(t,e,n){const r=new gj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=WV(o);Object.assign(r,a)}else{const a=wV(o);Object.assign(r,a)}e(r)}class nH{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Jq(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&pk(e.config.tools)&&hk(g);const y=sH(g);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const W=this.apiClient.getApiKey();let K="BidiGenerateContent",G="key";W?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",G="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${K}?${G}=${W}`}let w=()=>{};const C=new Promise(W=>{w=W}),T=e.callbacks,_=function(){var W;(W=T?.onopen)===null||W===void 0||W.call(T),w({})},I=this.apiClient,A={onopen:_,onmessage:W=>{tH(I,T.onmessage,W)},onerror:(n=T?.onerror)!==null&&n!==void 0?n:function(W){},onclose:(r=T?.onclose)!==null&&r!==void 0?r:function(W){}},k=this.webSocketFactory.create(h,oH(y),A);k.connect(),await C;let M=Ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const W=this.apiClient.getProject(),K=this.apiClient.getLocation();M=`projects/${W}/locations/${K}/`+M}let N={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qd.AUDIO]}:e.config.responseModalities=[Qd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],O=[];for(const W of R)if(this.isCallableTool(W)){const K=W;O.push(await K.tool())}else O.push(W);O.length>0&&(e.config.tools=O);const j={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=tV(this.apiClient,j):N=CB(this.apiClient,j),delete N.config,k.send(JSON.stringify(N)),new iH(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rH={turnComplete:!0};class iH{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Er(n.turns),e.isVertexAI()?r=r.map(i=>el(i)):r=r.map(i=>Qf(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(eH)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},rH),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iV(e)}:n={realtimeInput:bB(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oH(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function sH(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rE=10;function iE(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if(Pa(a)){i=!0;break}if(!i)return!0;const o=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Pa(t){return"callTool"in t&&typeof t.callTool=="function"}function aH(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pa(i)))!==null&&r!==void 0?r:!1}function lH(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Pa(i)))!==null&&r!==void 0?r:!1}function oE(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uH extends js{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aH(n)||iE(n.config))return await this.generateContentInternal(c);if(lH(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const g=Er(c.contents),y=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rE;let w=0;for(;w<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,T=[];for(const _ of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Pa(_)){const A=await _.callTool(f.functionCalls);T.push(...A)}w++,h={role:"user",parts:T},c.contents=Er(c.contents),c.contents.push(C),c.contents.push(h),oE(c.config)&&(g.push(C),g.push(h))}return oE(c.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),iE(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c?.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Wu(Ns.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>Pa(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&pk(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),hk(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pa(a)){const u=a,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rE;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,g){var y,w;return Aa(this,arguments,function*(){for(var C,T,_,I;u<o;){a&&(u++,a=!1);const N=yield gt(f.processParamsMaybeAddMcpUsage(g)),R=yield gt(f.generateContentStreamInternal(N)),O=[],j=[];try{for(var A=!0,k=(T=void 0,mu(R)),M;M=yield gt(k.next()),C=M.done,!C;A=!0){I=M.value,A=!1;const W=I;if(yield yield gt(W),W.candidates&&(!((y=W.candidates[0])===null||y===void 0)&&y.content)){j.push(W.candidates[0].content);for(const K of(w=W.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(u<o&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(K.functionCall.name)){const G=yield gt(h.get(K.functionCall.name).callTool([K.functionCall]));O.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(W){T={error:W}}finally{try{!A&&!C&&(_=k.return)&&(yield gt(_.call(k)))}finally{if(T)throw T.error}}if(O.length>0){a=!0;const W=new Jl;W.candidates=[{content:{role:"user",parts:O}}],yield yield gt(W);const K=[];K.push(...j),K.push({role:"user",parts:O});const G=Er(g.contents).concat(K);g.contents=G}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Q1(this.apiClient,e);return u=Ce("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=eE(h),y=new Jl;return Object.assign(y,g),y})}else{const f=X1(this.apiClient,e);return u=Ce("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Z1(h),y=new Jl;return Object.assign(y,g),y})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Q1(this.apiClient,e);return u=Ce("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(g){return Aa(this,arguments,function*(){var y,w,C,T;try{for(var _=!0,I=mu(g),A;A=yield gt(I.next()),y=A.done,!y;_=!0){T=A.value,_=!1;const k=T,M=eE(yield gt(k.json()));M.sdkHttpResponse={headers:k.headers};const N=new Jl;Object.assign(N,M),yield yield gt(N)}}catch(k){w={error:k}}finally{try{!_&&!y&&(C=I.return)&&(yield gt(C.call(I)))}finally{if(w)throw w.error}}})})}else{const f=X1(this.apiClient,e);return u=Ce("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(g){return Aa(this,arguments,function*(){var y,w,C,T;try{for(var _=!0,I=mu(g),A;A=yield gt(I.next()),y=A.done,!y;_=!0){T=A.value,_=!1;const k=T,M=Z1(yield gt(k.json()));M.sdkHttpResponse={headers:k.headers};const N=new Jl;Object.assign(N,M),yield yield gt(N)}}catch(k){w={error:k}}finally{try{!_&&!y&&(C=I.return)&&(yield gt(C.call(I)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=r8(this.apiClient,e);return u=Ce("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=yq(h),y=new P1;return Object.assign(y,g),y})}else{const f=mW(this.apiClient,e);return u=Ce("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=z8(h),y=new P1;return Object.assign(y,g),y})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=o8(this.apiClient,e);return u=Ce("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=vq(h),y=new k1;return Object.assign(y,g),y})}else{const f=yW(this.apiClient,e);return u=Ce("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=J8(h),y=new k1;return Object.assign(y,g),y})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=f8(this.apiClient,e);return o=Ce("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=xq(c),h=new lj;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=h8(this.apiClient,e);return o=Ce("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=wq(c),h=new uj;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=v8(this.apiClient,e);return o=Ce("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Sq(c),h=new cj;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=C8(this.apiClient,e);return o=Ce("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Eq(c),h=new dj;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=T8(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Vy(h))}else{const f=vW(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>By(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=b8(this.apiClient,e);return u=Ce("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Aq(h),y=new N1;return Object.assign(y,g),y})}else{const f=wW(this.apiClient,e);return u=Ce("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Q8(h),y=new N1;return Object.assign(y,g),y})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=I8(this.apiClient,e);return u=Ce("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Vy(h))}else{const f=CW(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>By(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=A8(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Pq(h),y=new M1;return Object.assign(y,g),y})}else{const f=TW(this.apiClient,e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Z8(h),y=new M1;return Object.assign(y,g),y})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=k8(this.apiClient,e);return u=Ce("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=kq(h),y=new R1;return Object.assign(y,g),y})}else{const f=bW(this.apiClient,e);return u=Ce("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=eq(h),y=new R1;return Object.assign(y,g),y})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=N8(this.apiClient,e);return o=Ce("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Nq(c),h=new fj;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=O8(this.apiClient,e);return u=Ce("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const g=Oq(h),y=new Zd;return Object.assign(y,g),y})}else{const f=AW(this.apiClient,e);return u=Ce("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const g=iq(h),y=new Zd;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cH(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function dH(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);r!=null&&p(e,["_url","resourceName"],r);const i=d(t,["config"]);return i!=null&&p(e,["config"],i),e}function fH(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pH extends js{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=fH(e);return u=Ce("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=cH(e);return u=Ce("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=dH(e);return o=Ce("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hH(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function mk(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],hH(n)),e}function mH(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],mk(r)),e}function gH(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mH(i))),p(e,["speakerVoiceConfigs"],r)}return e}function yH(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],mk(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],gH(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function vH(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function xH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function SH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],vH(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],xH(i));const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],wH(o));const a=d(t,["thoughtSignature"]);a!=null&&p(e,["thoughtSignature"],a);const u=d(t,["codeExecutionResult"]);u!=null&&p(e,["codeExecutionResult"],u);const c=d(t,["executableCode"]);c!=null&&p(e,["executableCode"],c);const f=d(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const h=d(t,["functionResponse"]);h!=null&&p(e,["functionResponse"],h);const g=d(t,["text"]);return g!=null&&p(e,["text"],g),e}function CH(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SH(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function TH(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&p(e,["response"],u);const c=d(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function EH(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function bH(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],EH(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _H(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function IH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],_H(n)),e}function AH(){return{}}function PH(t){const e={},n=d(t,["environment"]);return n!=null&&p(e,["environment"],n),e}function kH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>TH(f))),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],bH(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],IH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],AH());const a=d(t,["computerUse"]);a!=null&&p(e,["computerUse"],PH(a));const u=d(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function NH(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sE(){return{}}function MH(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=d(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const a=d(t,["silenceDurationMs"]);return a!=null&&p(e,["silenceDurationMs"],a),e}function RH(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],MH(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function DH(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function OH(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],DH(r)),e}function LH(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function FH(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const u=d(t,["topK"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topK"],u);const c=d(t,["maxOutputTokens"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","maxOutputTokens"],c);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const h=d(t,["seed"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","seed"],h);const g=d(t,["speechConfig"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","speechConfig"],yH(x0(g)));const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=d(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],CH(bn(w)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let N=Qa(C);Array.isArray(N)&&(N=N.map(R=>kH(Xa(R)))),p(e,["setup","tools"],N)}const T=d(t,["sessionResumption"]);e!==void 0&&T!=null&&p(e,["setup","sessionResumption"],NH(T));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],sE());const I=d(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","outputAudioTranscription"],sE());const A=d(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&p(e,["setup","realtimeInputConfig"],RH(A));const k=d(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],OH(k));const M=d(t,["proactivity"]);return e!==void 0&&M!=null&&p(e,["setup","proactivity"],LH(M)),n}function UH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Ze(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],FH(i,n)),n}function jH(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const u=d(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&p(n,["bidiGenerateContentSetup"],UH(t,u));const c=d(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&p(n,["fieldMask"],c),r}function $H(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],jH(t,r,n)),n}function BH(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VH(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function WH(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=VH(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)o?t.fieldMask=o:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class qH extends js{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=$H(this.apiClient,e);o=Ce("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=WH(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>BH(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HH(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function GH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function zH(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],GH(n,e)),e}function KH(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function YH(t){const e={},n=d(t,["textInput"]);n!=null&&p(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&p(e,["output"],r),e}function JH(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YH(i))),p(e,["examples","examples"],r)}return e}function XH(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&p(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&p(e,["tuningTask","hyperparameters","epochCount"],i);const o=d(t,["learningRateMultiplier"]);if(o!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","batchSize"],a);const u=d(t,["learningRate"]);return e!==void 0&&u!=null&&p(e,["tuningTask","hyperparameters","learningRate"],u),n}function QH(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["tuningTask","trainingData"],JH(i));const o=d(t,["config"]);return o!=null&&p(e,["config"],XH(o,e)),e}function ZH(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function eG(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function tG(t){const e={},n=d(t,["config"]);return n!=null&&p(e,["config"],eG(n,e)),e}function nG(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&p(e,["config"],r),e}function rG(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function iG(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function oG(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec"],iG(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&p(e,["tunedModelDisplayName"],i);const o=d(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const a=d(t,["epochCount"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=d(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=d(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=d(t,["preTunedModelCheckpointId"]);f!=null&&p(n,["preTunedModel","checkpointId"],f);const h=d(t,["adapterSize"]);if(e!==void 0&&h!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function sG(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],rG(i,e));const o=d(t,["config"]);return o!=null&&p(e,["config"],oG(o,e)),e}function aG(t){const e={},n=d(t,["name"]);n!=null&&p(e,["model"],n);const r=d(t,["name"]);return r!=null&&p(e,["endpoint"],r),e}function gk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],qP(i));const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["tuningTask","startTime"]);a!=null&&p(e,["startTime"],a);const u=d(t,["tuningTask","completeTime"]);u!=null&&p(e,["endTime"],u);const c=d(t,["updateTime"]);c!=null&&p(e,["updateTime"],c);const f=d(t,["description"]);f!=null&&p(e,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(e,["baseModel"],h);const g=d(t,["_self"]);g!=null&&p(e,["tunedModel"],aG(g));const y=d(t,["customBaseModel"]);y!=null&&p(e,["customBaseModel"],y);const w=d(t,["experiment"]);w!=null&&p(e,["experiment"],w);const C=d(t,["labels"]);C!=null&&p(e,["labels"],C);const T=d(t,["outputUri"]);T!=null&&p(e,["outputUri"],T);const _=d(t,["pipelineJob"]);_!=null&&p(e,["pipelineJob"],_);const I=d(t,["serviceAccount"]);I!=null&&p(e,["serviceAccount"],I);const A=d(t,["tunedModelDisplayName"]);return A!=null&&p(e,["tunedModelDisplayName"],A),e}function lG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>gk(a))),p(e,["tuningJobs"],o)}return e}function uG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const a=d(t,["error"]);return a!=null&&p(e,["error"],a),e}function cG(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);i!=null&&p(e,["step"],i);const o=d(t,["endpoint"]);return o!=null&&p(e,["endpoint"],o),e}function dG(t){const e={},n=d(t,["model"]);n!=null&&p(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&p(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>cG(a))),p(e,["checkpoints"],o)}return e}function qy(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],qP(i));const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["startTime"]);a!=null&&p(e,["startTime"],a);const u=d(t,["endTime"]);u!=null&&p(e,["endTime"],u);const c=d(t,["updateTime"]);c!=null&&p(e,["updateTime"],c);const f=d(t,["error"]);f!=null&&p(e,["error"],f);const h=d(t,["description"]);h!=null&&p(e,["description"],h);const g=d(t,["baseModel"]);g!=null&&p(e,["baseModel"],g);const y=d(t,["tunedModel"]);y!=null&&p(e,["tunedModel"],dG(y));const w=d(t,["preTunedModel"]);w!=null&&p(e,["preTunedModel"],w);const C=d(t,["supervisedTuningSpec"]);C!=null&&p(e,["supervisedTuningSpec"],C);const T=d(t,["tuningDataStats"]);T!=null&&p(e,["tuningDataStats"],T);const _=d(t,["encryptionSpec"]);_!=null&&p(e,["encryptionSpec"],_);const I=d(t,["partnerModelTuningSpec"]);I!=null&&p(e,["partnerModelTuningSpec"],I);const A=d(t,["customBaseModel"]);A!=null&&p(e,["customBaseModel"],A);const k=d(t,["experiment"]);k!=null&&p(e,["experiment"],k);const M=d(t,["labels"]);M!=null&&p(e,["labels"],M);const N=d(t,["outputUri"]);N!=null&&p(e,["outputUri"],N);const R=d(t,["pipelineJob"]);R!=null&&p(e,["pipelineJob"],R);const O=d(t,["serviceAccount"]);O!=null&&p(e,["serviceAccount"],O);const j=d(t,["tunedModelDisplayName"]);return j!=null&&p(e,["tunedModelDisplayName"],j),e}function fG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>qy(a))),p(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pG extends js{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Wu(Ns.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Oy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=ZH(e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>qy(h))}else{const f=HH(e);return u=Ce("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>gk(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=tG(e);return u=Ce("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=fG(h),y=new O1;return Object.assign(y,g),y})}else{const f=zH(e);return u=Ce("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=lG(h),y=new O1;return Object.assign(y,g),y})}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=nG(e);a=Ce("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=KH(e);a=Ce("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=sG(e);return o=Ce("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>qy(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QH(e);return o=Ce("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>uG(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hG{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mG=1024*1024*8,gG=3,yG=1e3,vG=2,Lm="x-goog-upload-status";async function xG(t,e,n){var r,i,o;let a=0,u=0,c=new Ly(new Response),f="upload";for(a=t.size;u<a;){const g=Math.min(mG,a-u),y=t.slice(u,u+g);u+g>=a&&(f+=", finalize");let w=0,C=yG;for(;w<gG&&(c=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(g)}}}),!(!((r=c?.headers)===null||r===void 0)&&r[Lm]));)w++,await SG(C),C=C*vG;if(u+=g,((i=c?.headers)===null||i===void 0?void 0:i[Lm])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await c?.json();if(((o=c?.headers)===null||o===void 0?void 0:o[Lm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function wG(t){return{size:t.size,type:t.type}}function SG(t){return new Promise(e=>setTimeout(e,t))}class CG{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xG(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wG(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TG{create(e,n,r){return new EG(e,n,r)}}class EG{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aE="x-goog-api-key";class bG{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(aE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(aE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _G="gl-node/";class IG{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=aj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new bG(this.apiKey);this.apiClient=new Wq({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_G+"web",uploader:new CG,downloader:new hG}),this.models=new uH(this.apiClient),this.live=new nH(this.apiClient,i,new TG),this.batches=new M$(this.apiClient),this.chats=new U6(this.models,this.apiClient),this.caches=new O6(this.apiClient),this.files=new X6(this.apiClient),this.operations=new pH(this.apiClient),this.authTokens=new qH(this.apiClient),this.tunings=new pG(this.apiClient)}}const qu=new IG({apiKey:"AIzaSyAGRidU7bYFfI_CJsA_uu8hD0p3xp7YMeI"}),pi=async(t,e="gemini-2.5-flash")=>{try{return(await qu.models.generateContent({model:e,contents:t})).text}catch(n){return console.error(`Gemini API call failed for model ${e}:`,n),"I'm having a little trouble connecting to my thoughts right now. Please try again in a moment."}},AG=async t=>{const e=`A user just logged an expense.
    - Amount: ${t.amount}
    - Category: ${t.category}
    - Occasion: ${t.occasion}
    - Feeling: ${t.emotion}
    - Type: ${t.isUseful?"Essential":"Indulgence"}
    
    Based on this, provide a short, single-sentence, empathetic, and insightful reflection (max 20 words). If it's an indulgence, be gentle and non-judgmental. If it's an essential, be affirming. Frame it as a wise, friendly observation. Example: "A small treat to brighten a stressful day is a form of self-care." or "Taking care of necessities is a victory in itself."`;return pi(e)},PG=async(t,e)=>{const n=e.length>0?`They are saving for: "${e[0].name}" with a target of ${e[0].targetAmount}.`:"They have not set a specific savings goal yet.",r=`A user is contemplating an indulgent (non-essential) purchase:
    - Amount: ${t.amount}
    - Category: ${t.category}
    - Occasion: ${t.occasion}
    - Feeling: ${t.emotion}
    ${n}

    Provide a short, non-judgmental, mindful question (max 25 words) to make them pause and reflect. It should connect the purchase to their feelings or goals. Frame it as a gentle, wise question from a friend. Examples: "Will this purchase bring you lasting joy, or just a fleeting moment?", "How does this align with your dream of a great vacation?", "Is there another way to soothe this feeling right now?"`;return pi(r)},kG=async(t,e)=>{const n=e?`Remember your goal of "${e.name}"! Every small saving adds up.`:"Setting a financial goal can make your journey even more rewarding.",r=`A user just made an indulgent purchase of ${t.amount} on ${t.category} while feeling ${t.emotion}. Provide a very short, kind, and reassuring message (max 15 words) that validates their choice but gently reminds them of mindfulness. ${n} Example: "Enjoy your treat! Let's get back on track with the next choice."`;return pi(r)},Fm={},NG=async t=>{if(Fm[t])return Fm[t];const e=`A user is feeling ${t}. Provide a short, actionable, and encouraging tip (max 20 words) to help them manage this feeling. Frame it as a wise, friendly power-up. Example for Sad: "Listening to a favorite song can be a gentle lift for your spirits."`,n=await pi(e);return Fm[t]=n,n},MG=async t=>{if(t.length===0)return"Log some expenses to see your patterns here!";const n=`Based on this list of recent expenses, identify the single most interesting or impactful emotional spending pattern. Provide a concise, one-sentence insight (max 25 words).
  
  Expenses:
  ${t.map(r=>`- ${r.amount} on ${r.category} (Feeling ${r.emotion}, ${r.isUseful?"Essential":"Indulgence"})`).join(`
`)}
  
  Example Insight: "It seems that shopping has been a go-to comfort during moments of stress."`;return pi(n)},RG=async t=>{const e=`
    You are an expert financial assistant AI. Your task is to analyze a single SMS transaction message and extract key information into a strict JSON format.

    **Rules:**
    1.  **Analyze Transaction Messages:** Process messages that clearly indicate money being spent, debited, paid OR received, credited, added.
    2.  **Determine Transaction Type:**
        *   If money is being spent (e.g., "debited", "spent", "paid"), set \`type\` to "expense".
        *   If money is being received (e.g., "credited", "received", "added"), set \`type\` to "income".
    3.  **IGNORE Non-Transaction Messages:** If the message is a one-time password (OTP), an ad, a notification, or anything other than a transaction, you MUST return \`null\`.
    4.  **Extract the following fields:**
        *   \`type\`: (string) Must be either "expense" or "income".
        *   \`amount\`: (number) The total amount of the transaction.
        *   \`category\`: (string) For expenses, a relevant category: [Food, Shopping, Transport, Bills, Groceries, Entertainment, Health, General, Travel, Services]. For income, a relevant category: [Salary, Freelance, Gift, Refund, Other].
        *   \`purpose\`: (string) The merchant name, sender, or a brief, **human-readable** description (e.g., "Amazon Purchase", "Monthly Salary", "ATM Withdrawal"). Avoid cryptic abbreviations like "GBM".
    5.  **Output Format:** Your response MUST be a single, valid JSON object or the string \`null\`. Do not include any other text, explanations, or markdown formatting.

    **Examples:**

    **User Input:** "Your SB A/c *8889 Debited for Rs.46.00 on 04-09-2025 by GBM Avl Bal Rs.49586.64 -Union Bank of India"
    **Your Output:**
    \`\`\`json
    {
      "type": "expense",
      "amount": 46.00,
      "category": "General",
      "purpose": "GBM Transaction"
    }
    \`\`\`

    **User Input:** "Your account has been credited with $500 from your employer."
    **Your Output:**
    \`\`\`json
    {
      "type": "income",
      "amount": 500,
      "category": "Salary",
      "purpose": "Payment from Employer"
    }
    \`\`\`
    
    **User Input:** "Your OTP for login is 123456."
    **Your Output:**
    null

    **User Input to Analyze Now:**
    "${t}"
    `;try{const r=(await qu.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json"}})).text.trim();if(r==="null")return null;const i=JSON.parse(r);return i&&(i.type==="expense"||i.type==="income")&&typeof i.amount=="number"&&typeof i.category=="string"&&typeof i.purpose=="string"?i:null}catch(n){return console.error("Error parsing SMS with Gemini:",n),null}},DG=async t=>{const e=`Create a short, clever, one-sentence riddle related to achieving a financial goal called "${t}". The riddle should be inspiring and mysterious. Max 20 words.`;return pi(e)},OG=async(t,e)=>{const n=`A user is working towards a financial goal called "${t}". They wrote this message to their future self: "${e}". 
    Based on their goal and message, provide a very short (10-15 words), encouraging, and slightly mysterious "whisper" to motivate them for the day. 
    Example: "The shores of [Goal Name] are closer than they appear. Keep rowing."`;return pi(n)},LG=async()=>pi('Generate a short, powerful, and positive financial affirmation. Max 15 words. Example: "I am a magnet for wealth and abundance."'),FG=async(t,e,n)=>{try{const r=await fetch("/api/generate-insight",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({expenses:t,moods:e,userProfile:n})});if(!r.ok){const o=await r.json();throw new Error(o.error||`Backend request failed with status: ${r.status}`)}return(await r.json()).text}catch(r){return console.error("Failed to fetch weekly insight from backend:",r),"Could not connect to the insight service. Please check your connection and try again."}},UG=async(t,e,n,r)=>{const i=r.length>0?`Their current top goal is "${r[0].name}" for ${r[0].targetAmount}.`:"They don't have a specific goal set yet.",o=`A user, ${n.name}, is about to spend ${t} on ${e}. ${i}
    Provide a short, gentle, and thought-provoking question (max 20 words) to encourage mindful spending without being judgmental.`;return pi(o)},jG=async t=>{const e=`You are a pirate riddle master. Create a new, unique financial riddle with a pirate theme. The riddle should NOT be one of these: [${t.join(", ")}].
    Provide the response in a valid JSON object with keys: "title", "question", "options" (an array of 3 strings, one is the correct answer), and "answer".
    
    Example:
    {
      "title": "The Ghostly Galleon",
      "question": "I have no voice, but tell tales of treasure. I have no hands, but can lead you to pleasure. What am I?",
      "options": ["A Parrot", "A Map", "A Compass"],
      "answer": "A Map"
    }`;try{const r=(await qu.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json"}})).text.trim();return JSON.parse(r)}catch(n){throw console.error("Error generating pirate riddle:",n),new Error("Failed to generate pirate riddle from Gemini.")}},$G=async t=>{const e=`You are a wise old sea captain. Create a short, unique financial scenario quest with a pirate theme. The scenario should NOT be one of these: [${t.join(", ")}].
    The user must make a choice between two options. Provide the response in a valid JSON object with keys: "title", "scenario", and "choices" (an array of 2 objects, each with "text", "isCorrect", and "feedback" keys).
    
    Example:
    {
      "title": "The Merchant's Offer",
      "scenario": "A merchant offers a 'guaranteed' tip on a sunken treasure for 100 doubloons, or you can buy a new sail for 50 doubloons to make your trade route faster.",
      "choices": [
        { "text": "Take the risky tip!", "isCorrect": false, "feedback": "The tip was a dud! Chasing quick riches often leads to an empty purse." },
        { "text": "Invest in the sail.", "isCorrect": true, "feedback": "A wise choice! Improving your assets brings reliable returns." }
      ]
    }`;try{const r=(await qu.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json"}})).text.trim();return JSON.parse(r)}catch(n){throw console.error("Error generating financial quest:",n),new Error("Failed to generate financial quest from Gemini.")}},BG=async t=>{const e=`Provide a short, one-sentence, clever hint for the financial term "${t}". The hint should be themed for a pirate game.`;return pi(e)},VG=async(t,e,n,r)=>{const i=e==="game"?`You are Kai, a wise and ancient pirate genie who offers cryptic but helpful advice about the island building game, "Pirate's Legacy". You have a mysterious and slightly mischievous personality. Keep responses concise and pirate-themed.`:`You are Kai, a friendly and empathetic AI financial assistant. Your goal is to help ${t.name} (${t.age}) understand their finances and emotions. Be supportive, non-judgmental, and provide clear, actionable advice. Use their name occasionally.`,o=qu.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:i},history:n.map(a=>({role:a.role,parts:[{text:a.content}]}))});try{return(await o.sendMessage({message:r})).text}catch(a){return console.error("Chat API call failed:",a),"I'm having a little trouble with my connection right now. Could you ask me that again in a moment?"}},WG=({isOpen:t,onClose:e,children:n,title:r,customContent:i})=>{const[o,a]=b.useState(t);if(b.useEffect(()=>{if(t)a(!0);else{const f=setTimeout(()=>a(!1),300);return()=>clearTimeout(f)}},[t]),!o)return null;const u=t?"opacity-100":"opacity-0",c=t?"opacity-100 scale-100":"opacity-0 scale-95";return x.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-out ${u}`,onClick:e,children:x.jsxs("div",{className:`bg-card rounded-2xl p-4 shadow-xl max-w-md w-full border-2 border-primary/10 relative transition-all duration-300 ease-out ${c}`,onClick:f=>f.stopPropagation(),children:[i,x.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[x.jsx("h2",{className:"text-2xl font-bold text-primary",children:r}),x.jsx("button",{onClick:e,className:"font-bold text-2xl text-secondary hover:text-primary transform hover:rotate-90",children:""})]}),x.jsx("div",{className:"relative z-10",children:n})]})})},qG={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},HG={[je.Happy]:"",[je.Sad]:"",[je.Stressed]:"",[je.Excited]:"",[je.Neutral]:"",[je.Anxious]:"",[je.Proud]:"",[je.Grateful]:"",[je.Tired]:"",[je.Bored]:"",[je.Playful]:"",[je.Content]:""},GG=({userProfile:t,onSave:e,onCancel:n,onDelete:r,expenseToEdit:i,expenses:o,goals:a,addNotification:u,pendingData:c,onClearPendingData:f})=>{const h=!!i,g=t?qG[t.currency]:"$",[y,w]=b.useState(""),[C,T]=b.useState(""),[_,I]=b.useState(""),[A,k]=b.useState(je.Neutral),[M,N]=b.useState(!0),[R,O]=b.useState(!1),[j,W]=b.useState(null),[K,G]=b.useState(null),[Y,ie]=b.useState(""),[ce,de]=b.useState(!1);b.useEffect(()=>{h&&i&&(w(i.amount.toString()),T(i.category),I(i.occasion),k(i.emotion),N(i.isUseful))},[h,i]),b.useEffect(()=>{c&&!h&&(w(c.amount),T(c.category),I(c.purpose),f())},[c,h,f]);const pe=async he=>{O(!0);const we=await AG(he);ie(we),de(!0),O(!1)},be=async he=>{he.preventDefault();const we={amount:parseFloat(y),category:C,occasion:_,emotion:A,isUseful:M};if(!(!we.amount||!we.category)){if(G(we),!M&&!h){O(!0);const Ae=await PG(we,a);W(Ae),O(!1);return}await pe(we)}},Q=()=>{h&&i&&window.confirm("Are you sure you want to delete this expense?")&&r(i.id)},se=async()=>{K&&(W(null),await pe(K))},le=()=>{W(null),G(null)},U=()=>{K&&(!K.isUseful&&!h&&kG(K,a.length>0?a[0]:null).then(he=>u(he,"info")),e(K))},B="w-full px-4 py-3 bg-background border border-gray-200 rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow";return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx(WG,{isOpen:!!j,onClose:le,title:"A quick reflection...",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-secondary text-lg italic mb-6",children:['"',j,'"']}),x.jsxs("div",{className:"flex justify-center space-x-4",children:[x.jsx("button",{onClick:le,className:"font-bold py-3 px-6 rounded-xl hover:bg-gray-100 text-secondary",children:"Maybe not"}),x.jsx("button",{onClick:se,className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90",children:"Log it anyway"})]})]})}),x.jsx("h1",{className:"text-3xl font-bold text-primary mb-8 text-center",children:h?"Edit Expense":"Add New Expense"}),ce?x.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4 animate-fade-in",children:[x.jsx("h2",{className:"text-xl font-bold text-primary mb-4",children:"A Mindful Moment"}),x.jsx("p",{className:"text-secondary mb-2",children:"Here's a reflection on your entry:"}),x.jsx("div",{className:"bg-background p-4 rounded-xl min-h-[6rem] flex items-center justify-center w-full",children:x.jsxs("p",{className:"text-xl font-semibold text-primary italic",children:['"',Y,'"']})}),x.jsx("button",{onClick:U,className:"mt-8 w-full max-w-xs bg-accent text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-accent-dark transform hover:-translate-y-1 transition-all",children:"Continue"})]}):R?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):x.jsxs("form",{id:"tutorial-expense-prefill",onSubmit:be,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:x.jsx("span",{className:"text-gray-500 sm:text-lg",children:g})}),x.jsx("input",{type:"number",id:"amount",value:y,onChange:he=>w(he.target.value),className:`${B} pl-8`,placeholder:"0.00",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Category"}),x.jsx("input",{type:"text",id:"category",value:C,onChange:he=>T(he.target.value),className:B,placeholder:"e.g., Food, Shopping",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"occasion",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Occasion"}),x.jsx("input",{type:"text",id:"occasion",value:_,onChange:he=>I(he.target.value),className:B,placeholder:"e.g., Dinner with friends"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-2 ml-2",children:"How were you feeling?"}),x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:Object.entries(HG).map(([he,we])=>x.jsxs("button",{type:"button",onClick:()=>k(he),className:`flex flex-col items-center justify-center p-2 bg-card rounded-2xl shadow-card transition-all transform hover:-translate-y-1 ${A===he?"ring-2 ring-accent":"ring-2 ring-transparent"}`,children:[x.jsx("span",{className:"text-3xl",children:we}),x.jsx("span",{className:"mt-1 text-xs font-semibold text-primary",children:he})]},he))})]}),x.jsxs("div",{className:"flex items-center justify-between bg-background p-3 rounded-xl shadow-soft-inset",children:[x.jsx("label",{htmlFor:"isUsefulToggle",className:"font-medium text-secondary flex-grow cursor-pointer",children:M?"Essential Spending":"Indulgence"}),x.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[x.jsx("input",{type:"checkbox",name:"isUsefulToggle",id:"isUsefulToggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer",checked:M,onChange:()=>N(!M)}),x.jsx("label",{htmlFor:"isUsefulToggle",className:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"})]})]}),x.jsxs("div",{className:"flex items-center justify-between pt-6",children:[x.jsx("div",{children:h&&x.jsx("button",{type:"button",onClick:Q,className:"text-red-500 font-bold py-3 px-5 rounded-xl hover:bg-red-500/10",children:"Delete"})}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{type:"button",onClick:n,className:"text-secondary font-bold py-3 px-5 rounded-xl hover:bg-gray-100/50",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:R,className:"bg-primary text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-primary/90 disabled:bg-primary/50 disabled:cursor-not-allowed transform hover:-translate-y-0.5 transition-all",children:R?"Thinking...":h?"Update":"Save"})]})]})]}),x.jsx("style",{children:`
        .toggle-checkbox:checked {
          right: 0;
          border-color: #1ABC9C; /* accent */
        }
        .toggle-checkbox:checked + .toggle-label {
          background-color: #1ABC9C; /* accent */
        }
      `})]})},zG={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},KG=({onSave:t,onCancel:e,userProfile:n,pendingData:r,onClearPendingData:i})=>{const o=n?zG[n.currency]:"$",[a,u]=b.useState(""),[c,f]=b.useState(""),h=y=>{if(y.preventDefault(),!a||!c){alert("Please fill in all fields.");return}t({amount:parseFloat(a),source:c})};b.useEffect(()=>{r&&(u(r.amount),f(r.source),i())},[r,i]);const g="w-full px-4 py-3 bg-card border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow";return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary mb-8 text-center",children:"Add Income"}),x.jsxs("form",{onSubmit:h,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:x.jsx("span",{className:"text-gray-500 sm:text-lg",children:o})}),x.jsx("input",{type:"number",id:"amount",value:a,onChange:y=>u(y.target.value),className:`${g} pl-8`,placeholder:"0.00",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Source"}),x.jsx("input",{type:"text",id:"source",value:c,onChange:y=>f(y.target.value),className:g,placeholder:"e.g., Salary, Freelance",required:!0})]}),x.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-6",children:[x.jsx("button",{type:"button",onClick:e,className:"text-secondary font-bold py-3 px-6 rounded-xl hover:bg-gray-100",children:"Cancel"}),x.jsx("button",{type:"submit",className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:"Save Income"})]})]})]})};function yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yk(t))&&(r&&(r+=" "),r+=e);return r}var Um={},jm={},lE;function YG(){return lE||(lE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(jm)),jm}var $m={},uE;function vk(){return uE||(uE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})($m)),$m}var Bm={},cE;function xk(){return cE||(cE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Bm)),Bm}var Vm={},dE;function S0(){return dE||(dE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const f=n[o];u?f==="\\"&&o+1<i?(o++,a+=n[o]):f===u?u="":a+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,r.push(a),a=""):a+=f:f==="["?(c=!0,a&&(r.push(a),a="")):f==="."?a&&(r.push(a),a=""):a+=f,o++}return a&&r.push(a),r}t.toPath=e})(Vm)),Vm}var fE;function C0(){return fE||(fE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YG(),n=vk(),r=xk(),i=S0();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return a(u,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function a(u,c,f){if(c.length===0)return f;let h=u;for(let g=0;g<c.length;g++){if(h==null||e.isUnsafeProperty(c[g]))return f;h=h[c[g]]}return h===void 0?f:h}t.get=o})(Um)),Um}var Wm,pE;function JG(){return pE||(pE=1,Wm=C0().get),Wm}var XG=JG();const Bo=Gr(XG);var qm={exports:{}},ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function QG(){if(hE)return ot;hE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function C(T){if(typeof T=="object"&&T!==null){var _=T.$$typeof;switch(_){case t:switch(T=T.type,T){case n:case i:case r:case c:case f:case y:return T;default:switch(T=T&&T.$$typeof,T){case a:case u:case g:case h:return T;case o:return T;default:return _}}case e:return _}}}return ot.ContextConsumer=o,ot.ContextProvider=a,ot.Element=t,ot.ForwardRef=u,ot.Fragment=n,ot.Lazy=g,ot.Memo=h,ot.Portal=e,ot.Profiler=i,ot.StrictMode=r,ot.Suspense=c,ot.SuspenseList=f,ot.isContextConsumer=function(T){return C(T)===o},ot.isContextProvider=function(T){return C(T)===a},ot.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},ot.isForwardRef=function(T){return C(T)===u},ot.isFragment=function(T){return C(T)===n},ot.isLazy=function(T){return C(T)===g},ot.isMemo=function(T){return C(T)===h},ot.isPortal=function(T){return C(T)===e},ot.isProfiler=function(T){return C(T)===i},ot.isStrictMode=function(T){return C(T)===r},ot.isSuspense=function(T){return C(T)===c},ot.isSuspenseList=function(T){return C(T)===f},ot.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===c||T===f||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===h||T.$$typeof===a||T.$$typeof===o||T.$$typeof===u||T.$$typeof===w||T.getModuleId!==void 0)},ot.typeOf=C,ot}var mE;function ZG(){return mE||(mE=1,qm.exports=QG()),qm.exports}var ez=ZG(),_n=t=>t===0?0:t>0?1:-1,ur=t=>typeof t=="number"&&t!=+t,hs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ge=t=>(typeof t=="number"||t instanceof Number)&&!ur(t),ci=t=>ge(t)||typeof t=="string",tz=0,bu=t=>{var e=++tz;return"".concat(t||"").concat(e)},br=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&typeof e!="string")return r;var o;if(hs(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ur(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},wk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},gE=(t,e)=>ge(t)&&ge(e)?n=>t+n*(e-t):()=>e;function $r(t,e,n){return ge(t)&&ge(e)?t+n*(e-t):e}function Sk(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bo(r,e))===n)}var Ut=t=>t===null||typeof t>"u",Hu=t=>Ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),nz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T0(t){if(typeof t!="string")return!1;var e=nz;return e.includes(t)}var rz=["viewBox","children"],yE=["points","pathLength"],Hm={svg:rz,polygon:yE,polyline:yE},E0=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{T0(i)&&(r[i]=(o=>n[i](n,o)))}),r},iz=(t,e,n)=>r=>(t(e,n,r),null),b0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];T0(i)&&typeof o=="function"&&(r||(r={}),r[i]=iz(o,e,n))}),r},oz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Ck(t){if(typeof t!="string")return!1;var e=oz;return e.includes(t)}function hi(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Ck(r)});return Object.fromEntries(e)}var vE=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",xE=null,Gm=null,Tk=t=>{if(t===xE&&Array.isArray(Gm))return Gm;var e=[];return b.Children.forEach(t,n=>{Ut(n)||(ez.isFragment(n)?e=e.concat(Tk(n.props.children)):e.push(n))}),Gm=e,xE=t,e};function ep(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>vE(i)):r=[vE(e)],Tk(t).forEach(i=>{var o=Bo(i,"type.displayName")||Bo(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var tp=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,sz=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&Hm?.[r])!==null&&i!==void 0?i:[],a=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||Ck(e)),c=!!n&&T0(e);return a||u||c},vt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;sz((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},az=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function lz(t,e){if(t==null)return{};var n,r,i=uz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _0=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:f}=t,h=lz(t,az),g=o||{width:r,height:i,x:0,y:0},y=Ye("recharts-surface",a);return b.createElement("svg",Hy({},vt(h,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),b.createElement("title",null,c),b.createElement("desc",null,f),n)}),cz=["children","className"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function dz(t,e){if(t==null)return{};var n,r,i=fz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yn=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=dz(t,cz),o=Ye("recharts-layer",r);return b.createElement("g",Gy({className:o},vt(i,!0),{ref:e}),n)}),Ek=gA(),bk=b.createContext(null),pz=()=>b.useContext(bk);function dt(t){return function(){return t}}const _k=Math.cos,tf=Math.sin,zr=Math.sqrt,nf=Math.PI,np=2*nf,zy=Math.PI,Ky=2*zy,cs=1e-6,hz=Ky-cs;function Ik(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ik;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ik:mz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,f=i-n,h=a-e,g=u-n,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>cs)if(!(Math.abs(g*c-f*h)>cs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-a,C=i-u,T=c*c+f*f,_=w*w+C*C,I=Math.sqrt(T),A=Math.sqrt(y),k=o*Math.tan((zy-Math.acos((T+y-_)/(2*I*A)))/2),M=k/A,N=k/I;Math.abs(M-1)>cs&&this._append`L${e+M*h},${n+M*g}`,this._append`A${o},${o},0,0,${+(g*w>h*C)},${this._x1=e+N*c},${this._y1=n+N*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,g=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>cs||Math.abs(this._y1-h)>cs)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%Ky+Ky),y>hz?this._append`A${r},${r},0,1,${g},${e-u},${n-c}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:y>cs&&this._append`A${r},${r},0,${+(y>=zy)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function I0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gz(e)}function A0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ak(t){this._context=t}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rp(t){return new Ak(t)}function Pk(t){return t[0]}function kk(t){return t[1]}function Nk(t,e){var n=dt(!0),r=null,i=rp,o=null,a=I0(u);t=typeof t=="function"?t:t===void 0?Pk:dt(t),e=typeof e=="function"?e:e===void 0?kk:dt(e);function u(c){var f,h=(c=A0(c)).length,g,y=!1,w;for(r==null&&(o=i(w=a())),f=0;f<=h;++f)!(f<h&&n(g=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(g,f,c),+e(g,f,c));if(w)return o=null,w+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function yd(t,e,n){var r=null,i=dt(!0),o=null,a=rp,u=null,c=I0(f);t=typeof t=="function"?t:t===void 0?Pk:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?kk:dt(+n);function f(g){var y,w,C,T=(g=A0(g)).length,_,I=!1,A,k=new Array(T),M=new Array(T);for(o==null&&(u=a(A=c())),y=0;y<=T;++y){if(!(y<T&&i(_=g[y],y,g))===I)if(I=!I)w=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),C=y-1;C>=w;--C)u.point(k[C],M[C]);u.lineEnd(),u.areaEnd()}I&&(k[y]=+t(_,y,g),M[y]=+e(_,y,g),u.point(r?+r(_,y,g):k[y],n?+n(_,y,g):M[y]))}if(A)return u=null,A+""||null}function h(){return Nk().defined(i).curve(a).context(o)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:dt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:dt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:dt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:dt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:dt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:dt(+g),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:dt(!!g),f):i},f.curve=function(g){return arguments.length?(a=g,o!=null&&(u=a(o)),f):a},f.context=function(g){return arguments.length?(g==null?o=u=null:u=a(o=g),f):o},f}class Mk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yz(t){return new Mk(t,!0)}function vz(t){return new Mk(t,!1)}const P0={draw(t,e){const n=zr(e/nf);t.moveTo(n,0),t.arc(0,0,n,0,np)}},xz={draw(t,e){const n=zr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Rk=zr(1/3),wz=Rk*2,Sz={draw(t,e){const n=zr(e/wz),r=n*Rk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cz={draw(t,e){const n=zr(e),r=-n/2;t.rect(r,r,n,n)}},Tz=.8908130915292852,Dk=tf(nf/10)/tf(7*nf/10),Ez=tf(np/10)*Dk,bz=-_k(np/10)*Dk,_z={draw(t,e){const n=zr(e*Tz),r=Ez*n,i=bz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=np*o/5,u=_k(a),c=tf(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},zm=zr(3),Iz={draw(t,e){const n=-zr(e/(zm*3));t.moveTo(0,n*2),t.lineTo(-zm*n,-n),t.lineTo(zm*n,-n),t.closePath()}},vr=-.5,xr=zr(3)/2,Yy=1/zr(12),Az=(Yy/2+1)*3,Pz={draw(t,e){const n=zr(e/Az),r=n/2,i=n*Yy,o=r,a=n*Yy+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(vr*r-xr*i,xr*r+vr*i),t.lineTo(vr*o-xr*a,xr*o+vr*a),t.lineTo(vr*u-xr*c,xr*u+vr*c),t.lineTo(vr*r+xr*i,vr*i-xr*r),t.lineTo(vr*o+xr*a,vr*a-xr*o),t.lineTo(vr*u+xr*c,vr*c-xr*u),t.closePath()}};function kz(t,e){let n=null,r=I0(i);t=typeof t=="function"?t:dt(t||P0),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:dt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:dt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function rf(){}function of(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ok(t){this._context=t}Ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:of(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nz(t){return new Ok(t)}function Lk(t){this._context=t}Lk.prototype={areaStart:rf,areaEnd:rf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mz(t){return new Lk(t)}function Fk(t){this._context=t}Fk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rz(t){return new Fk(t)}function Uk(t){this._context=t}Uk.prototype={areaStart:rf,areaEnd:rf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Dz(t){return new Uk(t)}function wE(t){return t<0?-1:1}function SE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(wE(o)+wE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function CE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Km(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function sf(t){this._context=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Km(this,this._t0,CE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Km(this,CE(this,n=SE(this,t,e)),n);break;default:Km(this,this._t0,n=SE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jk(t){this._context=new $k(t)}(jk.prototype=Object.create(sf.prototype)).point=function(t,e){sf.prototype.point.call(this,e,t)};function $k(t){this._context=t}$k.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Oz(t){return new sf(t)}function Lz(t){return new jk(t)}function Bk(t){this._context=t}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TE(t),i=TE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Fz(t){return new Bk(t)}function ip(t,e){this._context=t,this._t=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Uz(t){return new ip(t,.5)}function jz(t){return new ip(t,0)}function $z(t){return new ip(t,1)}function Fa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Bz(t,e){return t[e]}function Vz(t){const e=[];return e.key=t,e}function Wz(){var t=dt([]),e=Jy,n=Fa,r=Bz;function i(o){var a=Array.from(t.apply(this,arguments),Vz),u,c=a.length,f=-1,h;for(const g of o)for(u=0,++f;u<c;++u)(a[u][f]=[0,+r(g,a[u].key,f,o)]).data=g;for(u=0,h=A0(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:dt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:dt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Jy:typeof o=="function"?o:dt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Fa,i):n},i}function qz(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Fa(t,e)}}function Hz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Fa(t,e)}}function Gz(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,f=0;u<a;++u){for(var h=t[e[u]],g=h[r][1]||0,y=h[r-1][1]||0,w=(g-y)/2,C=0;C<u;++C){var T=t[e[C]],_=T[r][1]||0,I=T[r-1][1]||0;w+=_-I}c+=g,f+=w*g}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Fa(t,e)}}var zz=["type","size","sizeType"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(null,arguments)}function EE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(n),!0).forEach(function(r){Kz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kz(t,e,n){return(e=Yz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yz(t){var e=Jz(t,"string");return typeof e=="symbol"?e:e+""}function Jz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xz(t,e){if(t==null)return{};var n,r,i=Qz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vk={symbolCircle:P0,symbolCross:xz,symbolDiamond:Sz,symbolSquare:Cz,symbolStar:_z,symbolTriangle:Iz,symbolWye:Pz},Zz=Math.PI/180,e7=t=>{var e="symbol".concat(Hu(t));return Vk[e]||P0},t7=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Zz;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},n7=(t,e)=>{Vk["symbol".concat(Hu(t))]=e},k0=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Xz(t,zz),o=bE(bE({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var g=e7(e),y=kz().type(g).size(t7(n,r,e));return y()},{className:u,cx:c,cy:f}=o,h=vt(o,!0);return c===+c&&f===+f&&n===+n?b.createElement("path",Xy({},h,{className:Ye("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(f,")"),d:a()})):null};k0.registerSymbol=n7;function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(null,arguments)}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){N0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N0(t,e,n){return(e=i7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7(t){var e=o7(t,"string");return typeof e=="symbol"?e:e+""}function o7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wr=32;class M0 extends b.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=wr/2,o=wr/6,a=wr/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:wr,y2:i,className:"recharts-legend-icon"});if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(wr,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var f=r7({},e);return delete f.legendIcon,b.cloneElement(e.legendIcon,f)}return b.createElement(k0,{fill:u,cx:i,cy:i,size:wr,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=this.props,u={x:0,y:0,width:wr,height:wr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,g)=>{var y=h.formatter||i,w=Ye({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var C=h.inactive?o:h.color,T=y?y(h.value,h,g):h.value;return b.createElement("li",Qy({className:w,style:c,key:"legend-item-".concat(g)},b0(this.props,h,g)),b.createElement(_0,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(T," legend icon")},this.renderIcon(h,a)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},T))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}N0(M0,"displayName","Legend");N0(M0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Ym={},Jm={},IE;function s7(){return IE||(IE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e})(Jm)),Jm}var Xm={},AE;function Wk(){return AE||(AE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Xm)),Xm}var Qm={},Zm={},eg={},PE;function a7(){return PE||(PE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(eg)),eg}var kE;function R0(){return kE||(kE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Zm)),Zm}var tg={},NE;function l7(){return NE||(NE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(tg)),tg}var ME;function u7(){return ME||(ME=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R0(),n=l7();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Qm)),Qm}var ng={},rg={},RE;function c7(){return RE||(RE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C0();function n(r){return function(i){return e.get(i,r)}}t.property=n})(rg)),rg}var ig={},og={},sg={},ag={},DE;function qk(){return DE||(DE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ag)),ag}var lg={},OE;function Hk(){return OE||(OE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(lg)),lg}var ug={},LE;function D0(){return LE||(LE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ug)),ug}var FE;function d7(){return FE||(FE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O0(),n=qk(),r=Hk(),i=D0();function o(g,y,w){return typeof w!="function"?e.isMatch(g,y):a(g,y,function C(T,_,I,A,k,M){const N=w(T,_,I,A,k,M);return N!==void 0?!!N:a(T,_,C,M)},new Map)}function a(g,y,w,C){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,w,C);case"function":return Object.keys(y).length>0?a(g,{...y},w,C):i.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:i.eq(g,y)}}function u(g,y,w,C){if(y==null)return!0;if(Array.isArray(y))return f(g,y,w,C);if(y instanceof Map)return c(g,y,w,C);if(y instanceof Set)return h(g,y,w,C);const T=Object.keys(y);if(g==null)return T.length===0;if(T.length===0)return!0;if(C&&C.has(y))return C.get(y)===g;C&&C.set(y,g);try{for(let _=0;_<T.length;_++){const I=T[_];if(!r.isPrimitive(g)&&!(I in g)||y[I]===void 0&&g[I]!==void 0||y[I]===null&&g[I]!==null||!w(g[I],y[I],I,g,y,C))return!1}return!0}finally{C&&C.delete(y)}}function c(g,y,w,C){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[T,_]of y.entries()){const I=g.get(T);if(w(I,_,T,g,y,C)===!1)return!1}return!0}function f(g,y,w,C){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const T=new Set;for(let _=0;_<y.length;_++){const I=y[_];let A=!1;for(let k=0;k<g.length;k++){if(T.has(k))continue;const M=g[k];let N=!1;if(w(M,I,_,g,y,C)&&(N=!0),N){T.add(k),A=!0;break}}if(!A)return!1}return!0}function h(g,y,w,C){return y.size===0?!0:g instanceof Set?f([...g],[...y],w,C):!1}t.isMatchWith=o,t.isSetMatch=h})(sg)),sg}var UE;function O0(){return UE||(UE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d7();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(og)),og}var cg={},dg={},fg={},jE;function Gk(){return jE||(jE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(fg)),fg}var pg={},$E;function L0(){return $E||($E=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(pg)),pg}var hg={},BE;function F0(){return BE||(BE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",w="[object Object]",C="[object Error]",T="[object DataView]",_="[object Uint8Array]",I="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",M="[object BigUint64Array]",N="[object Int8Array]",R="[object Int16Array]",O="[object Int32Array]",j="[object BigInt64Array]",W="[object Float32Array]",K="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=T,t.dateTag=u,t.errorTag=C,t.float32ArrayTag=W,t.float64ArrayTag=K,t.functionTag=g,t.int16ArrayTag=R,t.int32ArrayTag=O,t.int8ArrayTag=N,t.mapTag=c,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=A,t.uint32ArrayTag=k,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=I})(hg)),hg}var mg={},VE;function f7(){return VE||(VE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(mg)),mg}var WE;function zk(){return WE||(WE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gk(),n=L0(),r=F0(),i=Hk(),o=f7();function a(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,y,w=new Map,C=void 0){const T=C?.(h,g,y,w);if(T!==void 0)return T;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const _=new Array(h.length);w.set(h,_);for(let I=0;I<h.length;I++)_[I]=u(h[I],I,y,w,C);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;w.set(h,_);for(const[I,A]of h)_.set(I,u(A,I,y,w,C));return _}if(h instanceof Set){const _=new Set;w.set(h,_);for(const I of h)_.add(u(I,void 0,y,w,C));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,_);for(let I=0;I<h.length;I++)_[I]=u(h[I],I,y,w,C);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,_),c(_,h,y,w,C),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return w.set(h,_),c(_,h,y,w,C),_}if(h instanceof Blob){const _=new Blob([h],{type:h.type});return w.set(h,_),c(_,h,y,w,C),_}if(h instanceof Error){const _=new h.constructor;return w.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,c(_,h,y,w,C),_}if(typeof h=="object"&&f(h)){const _=Object.create(Object.getPrototypeOf(h));return w.set(h,_),c(_,h,y,w,C),_}return h}function c(h,g,y=h,w,C){const T=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<T.length;_++){const I=T[_],A=Object.getOwnPropertyDescriptor(h,I);(A==null||A.writable)&&(h[I]=u(g[I],I,y,w,C))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c})(dg)),dg}var qE;function p7(){return qE||(qE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zk();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(cg)),cg}var HE;function h7(){return HE||(HE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O0(),n=p7();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(ig)),ig}var gg={},yg={},vg={},GE;function m7(){return GE||(GE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zk(),n=F0();function r(i,o){return e.cloneDeepWith(i,(a,u,c,f)=>{const h=o?.(a,u,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(vg)),vg}var zE;function g7(){return zE||(zE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m7();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(yg)),yg}var xg={},wg={},KE;function Kk(){return KE||(KE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(wg)),wg}var Sg={},YE;function y7(){return YE||(YE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L0();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Sg)),Sg}var JE;function v7(){return JE||(JE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vk(),n=Kk(),r=y7(),i=S0();function o(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&a?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=a;for(let h=0;h<c.length;h++){const g=c[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=o})(xg)),xg}var XE;function x7(){return XE||(XE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O0(),n=xk(),r=g7(),i=C0(),o=v7();function a(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a})(gg)),gg}var QE;function w7(){return QE||(QE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wk(),n=c7(),r=h7(),i=x7();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(ng)),ng}var ZE;function S7(){return ZE||(ZE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s7(),n=Wk(),r=u7(),i=w7();function o(a,u=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(u)):[]}t.uniqBy=o})(Ym)),Ym}var Cg,eb;function C7(){return eb||(eb=1,Cg=S7().uniqBy),Cg}var T7=C7();const tb=Gr(T7);function Yk(t,e,n){return e===!0?tb(t,n):typeof e=="function"?tb(t,e):t}var Tg={exports:{}},Eg={},bg={exports:{}},_g={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function E7(){if(nb)return _g;nb=1;var t=Ga();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(g,y){var w=y(),C=r({inst:{value:w,getSnapshot:y}}),T=C[0].inst,_=C[1];return o(function(){T.value=w,T.getSnapshot=y,c(T)&&_({inst:T})},[g,w,y]),i(function(){return c(T)&&_({inst:T}),g(function(){c(T)&&_({inst:T})})},[g]),a(w),w}function c(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return _g.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,_g}var rb;function b7(){return rb||(rb=1,bg.exports=E7()),bg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function _7(){if(ib)return Eg;ib=1;var t=Ga(),e=b7();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Eg.useSyncExternalStoreWithSelector=function(f,h,g,y,w){var C=o(null);if(C.current===null){var T={hasValue:!1,value:null};C.current=T}else T=C.current;C=u(function(){function I(R){if(!A){if(A=!0,k=R,R=y(R),w!==void 0&&T.hasValue){var O=T.value;if(w(O,R))return M=O}return M=R}if(O=M,r(k,R))return O;var j=y(R);return w!==void 0&&w(O,j)?(k=R,O):(k=R,M=j)}var A=!1,k,M,N=g===void 0?null:g;return[function(){return I(h())},N===null?void 0:function(){return I(N())}]},[h,g,y,w]);var _=i(f,C[0],C[1]);return a(function(){T.hasValue=!0,T.value=_},[_]),c(_),_},Eg}var ob;function I7(){return ob||(ob=1,Tg.exports=_7()),Tg.exports}var A7=I7(),U0=b.createContext(null),P7=t=>t,At=()=>{var t=b.useContext(U0);return t?t.store.dispatch:P7},$d=()=>{},k7=()=>$d,N7=(t,e)=>t===e;function Ie(t){var e=b.useContext(U0);return A7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:k7,e?e.store.getState:$d,e?e.store.getState:$d,e?t:$d,N7)}function M7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function R7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function D7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sb=t=>Array.isArray(t)?t:[t];function O7(t){const e=Array.isArray(t[0])?t[0]:t;return D7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function L7(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var F7=class{constructor(t){this.value=t}deref(){return this.value}},U7=typeof WeakRef<"u"?WeakRef:F7,j7=0,ab=1;function vd(){return{s:j7,v:void 0,o:null,p:null}}function Jk(t,e={}){let n=vd();const{resultEqualityCheck:r}=e;let i,o=0;function a(){let u=n;const{length:c}=arguments;for(let g=0,y=c;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const T=C.get(w);T===void 0?(u=vd(),C.set(w,u)):u=T}else{let C=u.p;C===null&&(u.p=C=new Map);const T=C.get(w);T===void 0?(u=vd(),C.set(w,u)):u=T}}const f=u;let h;if(u.s===ab)h=u.v;else if(h=t.apply(null,arguments),o++,r){const g=i?.deref?.()??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new U7(h):h}return f.s=ab,f.v=h,h}return a.clearCache=()=>{n=vd(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function $7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),M7(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:g,memoizeOptions:y=[],argsMemoize:w=Jk,argsMemoizeOptions:C=[]}=h,T=sb(y),_=sb(C),I=O7(i),A=g(function(){return o++,f.apply(null,arguments)},...T),k=w(function(){a++;const N=L7(I,arguments);return u=A.apply(null,N),u},..._);return Object.assign(k,{resultFunc:f,memoizedResultFunc:A,dependencies:I,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var H=$7(Jk),B7=Object.assign((t,e=H)=>{R7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>B7}),Ig={},Ag={},Pg={},lb;function V7(){return lb||(lb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(Pg)),Pg}var kg={},Ng={},ub;function Xk(){return ub||(ub=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ng)),Ng}var cb;function W7(){return cb||(cb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(kg)),kg}var db;function q7(){return db||(db=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V7(),n=W7(),r=S0();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const f=(w,C)=>{let T=w;for(let _=0;_<C.length&&T!=null;++_)T=T[C[_]];return T},h=(w,C)=>C==null||w==null?C:typeof w=="object"&&"key"in w?Object.hasOwn(C,w.key)?C[w.key]:f(C,w.path):typeof w=="function"?w(C):Array.isArray(w)?f(C,w):typeof C=="object"?C[w]:C,g=a.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:g.map(C=>h(C,w))})).slice().sort((w,C)=>{for(let T=0;T<g.length;T++){const _=e.compareValues(w.criteria[T],C.criteria[T],u[T]);if(_!==0)return _}return 0}).map(w=>w.original)}t.orderBy=i})(Ag)),Ag}var Mg={},fb;function H7(){return fb||(fb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e})(Mg)),Mg}var Rg={},pb;function Qk(){return pb||(pb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kk(),n=R0(),r=qk(),i=D0();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],a):!1}t.isIterateeCall=o})(Rg)),Rg}var hb;function G7(){return hb||(hb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q7(),n=H7(),r=Qk();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(Ig)),Ig}var Dg,mb;function z7(){return mb||(mb=1,Dg=G7().sortBy),Dg}var K7=z7();const op=Gr(K7);var Zk=t=>t.legend.settings,Y7=t=>t.legend.size,J7=t=>t.legend.payload,X7=H([J7,Zk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?op(r,n):r});function Q7(){return Ie(X7)}var xd=1;function eN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>xd||Math.abs(a.left-e.left)>xd||Math.abs(a.top-e.top)>xd||Math.abs(a.width-e.width)>xd)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Z7=typeof Symbol=="function"&&Symbol.observable||"@@observable",gb=Z7,Og=()=>Math.random().toString(36).substring(7).split("").join("."),e9={INIT:`@@redux/INIT${Og()}`,REPLACE:`@@redux/REPLACE${Og()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Og()}`},af=e9;function j0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tN(t,e,n){if(typeof t!="function")throw new Error(hn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hn(1));return n(tN)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function f(){a===o&&(a=new Map,o.forEach((_,I)=>{a.set(I,_)}))}function h(){if(c)throw new Error(hn(3));return i}function g(_){if(typeof _!="function")throw new Error(hn(4));if(c)throw new Error(hn(5));let I=!0;f();const A=u++;return a.set(A,_),function(){if(I){if(c)throw new Error(hn(6));I=!1,f(),a.delete(A),o=null}}}function y(_){if(!j0(_))throw new Error(hn(7));if(typeof _.type>"u")throw new Error(hn(8));if(typeof _.type!="string")throw new Error(hn(17));if(c)throw new Error(hn(9));try{c=!0,i=r(i,_)}finally{c=!1}return(o=a).forEach(A=>{A()}),_}function w(_){if(typeof _!="function")throw new Error(hn(10));r=_,y({type:af.REPLACE})}function C(){const _=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(hn(11));function A(){const M=I;M.next&&M.next(h())}return A(),{unsubscribe:_(A)}},[gb](){return this}}}return y({type:af.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:w,[gb]:C}}function t9(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:af.INIT})>"u")throw new Error(hn(12));if(typeof n(void 0,{type:af.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function nN(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{t9(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],y=n[g],w=a[g],C=y(w,u);if(typeof C>"u")throw u&&u.type,new Error(hn(14));f[g]=C,c=c||C!==w}return c=c||r.length!==Object.keys(a).length,c?f:a}}function lf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function n9(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(hn(15))};const a={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(a));return o=lf(...u)(i.dispatch),{...i,dispatch:o}}}function rN(t){return j0(t)&&"type"in t&&typeof t.type=="string"}var iN=Symbol.for("immer-nothing"),yb=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Vr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ua=Object.getPrototypeOf;function Ms(t){return!!t&&!!t[cr]}function Wi(t){return t?oN(t)||Array.isArray(t)||!!t[yb]||!!t.constructor?.[yb]||Gu(t)||ap(t):!1}var r9=Object.prototype.constructor.toString();function oN(t){if(!t||typeof t!="object")return!1;const e=Ua(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===r9}function uf(t,e){sp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function sp(t){const e=t[cr];return e?e.type_:Array.isArray(t)?1:Gu(t)?2:ap(t)?3:0}function Zy(t,e){return sp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function sN(t,e,n){const r=sp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function i9(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gu(t){return t instanceof Map}function ap(t){return t instanceof Set}function ds(t){return t.copy_||t.base_}function ev(t,e){if(Gu(t))return new Map(t);if(ap(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=oN(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[cr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(Ua(t),r)}else{const r=Ua(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function $0(t,e=!1){return lp(t)||Ms(t)||!Wi(t)||(sp(t)>1&&Object.defineProperties(t,{set:{value:wd},add:{value:wd},clear:{value:wd},delete:{value:wd}}),Object.freeze(t),e&&Object.values(t).forEach(n=>$0(n,!0))),t}function wd(){Vr(2)}function lp(t){return Object.isFrozen(t)}var o9={};function Rs(t){const e=o9[t];return e||Vr(0,t),e}var _u;function aN(){return _u}function s9(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vb(t,e){e&&(Rs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tv(t){nv(t),t.drafts_.forEach(a9),t.drafts_=null}function nv(t){t===_u&&(_u=t.parent_)}function xb(t){return _u=s9(_u,t)}function a9(t){const e=t[cr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wb(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[cr].modified_&&(tv(e),Vr(4)),Wi(t)&&(t=cf(e,t),e.parent_||df(e,t)),e.patches_&&Rs("Patches").generateReplacementPatches_(n[cr].base_,t,e.patches_,e.inversePatches_)):t=cf(e,n,[]),tv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iN?t:void 0}function cf(t,e,n){if(lp(e))return e;const r=e[cr];if(!r)return uf(e,(i,o)=>Sb(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return df(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),uf(o,(u,c)=>Sb(t,r,i,u,c,n,a)),df(t,i,!1),n&&t.patches_&&Rs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Sb(t,e,n,r,i,o,a){if(Ms(i)){const u=o&&e&&e.type_!==3&&!Zy(e.assigned_,r)?o.concat(r):void 0,c=cf(t,i,u);if(sN(n,r,c),Ms(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Wi(i)&&!lp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cf(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Gu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&df(t,i)}}function df(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$0(e,n)}function l9(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:aN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=B0;n&&(i=[r],o=Iu);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var B0={get(t,e){if(e===cr)return t;const n=ds(t);if(!Zy(n,e))return u9(t,n,e);const r=n[e];return t.finalized_||!Wi(r)?r:r===Lg(t.base_,e)?(Fg(t),t.copy_[e]=iv(r,t)):r},has(t,e){return e in ds(t)},ownKeys(t){return Reflect.ownKeys(ds(t))},set(t,e,n){const r=lN(ds(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Lg(ds(t),e),o=i?.[cr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(i9(n,i)&&(n!==void 0||Zy(t.base_,e)))return!0;Fg(t),rv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Lg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Fg(t),rv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ds(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vr(11)},getPrototypeOf(t){return Ua(t.base_)},setPrototypeOf(){Vr(12)}},Iu={};uf(B0,(t,e)=>{Iu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Iu.deleteProperty=function(t,e){return Iu.set.call(this,t,e,void 0)};Iu.set=function(t,e,n){return B0.set.call(this,t[0],e,n,t[0])};function Lg(t,e){const n=t[cr];return(n?ds(n):t)[e]}function u9(t,e,n){const r=lN(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function lN(t,e){if(!(e in t))return;let n=Ua(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ua(n)}}function rv(t){t.modified_||(t.modified_=!0,t.parent_&&rv(t.parent_))}function Fg(t){t.copy_||(t.copy_=ev(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var c9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...f){return a.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Vr(6),r!==void 0&&typeof r!="function"&&Vr(7);let i;if(Wi(e)){const o=xb(this),a=iv(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?tv(o):nv(o)}return vb(o,r),wb(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===iN&&(i=void 0),this.autoFreeze_&&$0(i,!0),r){const o=[],a=[];Rs("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Vr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wi(t)||Vr(8),Ms(t)&&(t=Ui(t));const e=xb(this),n=iv(t,void 0);return n[cr].isManual_=!0,nv(e),n}finishDraft(t,e){const n=t&&t[cr];(!n||!n.isManual_)&&Vr(9);const{scope_:r}=n;return vb(r,e),wb(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rs("Patches").applyPatches_;return Ms(t)?r(t,e):this.produce(t,i=>r(i,e))}};function iv(t,e){const n=Gu(t)?Rs("MapSet").proxyMap_(t,e):ap(t)?Rs("MapSet").proxySet_(t,e):l9(t,e);return(e?e.scope_:aN()).drafts_.push(n),n}function Ui(t){return Ms(t)||Vr(10,t),uN(t)}function uN(t){if(!Wi(t)||lp(t))return t;const e=t[cr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ev(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ev(t,!0);return uf(n,(r,i)=>{sN(n,r,uN(i))}),e&&(e.finalized_=!1),n}var d9=new c9,cN=d9.produce;function dN(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var f9=dN(),p9=dN,h9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lf:lf.apply(null,arguments)};function Ir(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(lr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>rN(r)&&r.type===t,n}var fN=class su extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,su.prototype)}static get[Symbol.species](){return su}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new su(...e[0].concat(this)):new su(...e.concat(this))}};function Cb(t){return Wi(t)?cN(t,()=>{}):t}function Sd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function m9(t){return typeof t=="boolean"}var g9=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new fN;return n&&(m9(n)?a.push(f9):a.push(p9(n.extraArgument))),a},y9="RTK_autoBatch",Tb=t=>e=>{setTimeout(e,t)},v9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Tb(10):t.type==="callback"?t.queueNotification:Tb(t.timeout),f=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>i&&h(),y=r.subscribe(g);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[y9],o=!i,o&&(a||(a=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},x9=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new fN(t);return r&&i.push(v9(typeof r=="object"?r:void 0)),i};function w9(t){const e=g9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(j0(n))u=nN(n);else throw new Error(lr(1));let c;typeof r=="function"?c=r(e):c=e();let f=lf;i&&(f=h9({trace:!1,...typeof i=="object"&&i}));const h=n9(...c),g=x9(h);let y=typeof a=="function"?a(g):g();const w=f(...y);return tN(u,o,w)}function pN(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(lr(28));if(u in e)throw new Error(lr(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function S9(t){return typeof t=="function"}function C9(t,e){let[n,r,i]=pN(e),o;if(S9(t))o=()=>Cb(t());else{const u=Cb(t);o=()=>u}function a(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,g)=>{if(g)if(Ms(h)){const w=g(h,c);return w===void 0?h:w}else{if(Wi(h))return cN(h,y=>g(y,c));{const y=g(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return a.getInitialState=o,a}var T9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E9=(t=21)=>{let e="",n=t;for(;n--;)e+=T9[Math.random()*64|0];return e},b9=Symbol.for("rtk-slice-createasyncthunk");function _9(t,e){return`${t}/${e}`}function I9({creators:t}={}){const e=t?.asyncThunk?.[b9];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(lr(11));const a=(typeof r.reducers=="function"?r.reducers(P9()):r.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(k,M){const N=typeof k=="string"?k:k.type;if(!N)throw new Error(lr(12));if(N in c.sliceCaseReducersByType)throw new Error(lr(13));return c.sliceCaseReducersByType[N]=M,f},addMatcher(k,M){return c.sliceMatchers.push({matcher:k,reducer:M}),f},exposeAction(k,M){return c.actionCreators[k]=M,f},exposeCaseReducer(k,M){return c.sliceCaseReducersByName[k]=M,f}};u.forEach(k=>{const M=a[k],N={reducerName:k,type:_9(i,k),createNotation:typeof r.reducers=="function"};N9(M)?R9(N,M,f,e):k9(N,M,f)});function h(){const[k={},M=[],N=void 0]=typeof r.extraReducers=="function"?pN(r.extraReducers):[r.extraReducers],R={...k,...c.sliceCaseReducersByType};return C9(r.initialState,O=>{for(let j in R)O.addCase(j,R[j]);for(let j of c.sliceMatchers)O.addMatcher(j.matcher,j.reducer);for(let j of M)O.addMatcher(j.matcher,j.reducer);N&&O.addDefaultCase(N)})}const g=k=>k,y=new Map,w=new WeakMap;let C;function T(k,M){return C||(C=h()),C(k,M)}function _(){return C||(C=h()),C.getInitialState()}function I(k,M=!1){function N(O){let j=O[k];return typeof j>"u"&&M&&(j=Sd(w,N,_)),j}function R(O=g){const j=Sd(y,M,()=>new WeakMap);return Sd(j,O,()=>{const W={};for(const[K,G]of Object.entries(r.selectors??{}))W[K]=A9(G,O,()=>Sd(w,O,_),M);return W})}return{reducerPath:k,getSelectors:R,get selectors(){return R(N)},selectSlice:N}}const A={name:i,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...I(o),injectInto(k,{reducerPath:M,...N}={}){const R=M??o;return k.inject({reducerPath:R,reducer:T},N),{...A,...I(R,!0)}}};return A}}function A9(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var dr=I9();function P9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function k9({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!M9(r))throw new Error(lr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Ir(t,a):Ir(t))}function N9(t){return t._reducerDefinitionType==="asyncThunk"}function M9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function R9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(lr(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:f,options:h}=n,g=i(t,o,h);r.exposeAction(e,g),a&&r.addCase(g.fulfilled,a),u&&r.addCase(g.pending,u),c&&r.addCase(g.rejected,c),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:a||Cd,pending:u||Cd,rejected:c||Cd,settled:f||Cd})}function Cd(){}var D9="task",hN="listener",mN="completed",V0="cancelled",O9=`task-${V0}`,L9=`task-${mN}`,ov=`${hN}-${V0}`,F9=`${hN}-${mN}`,up=class{constructor(t){this.code=t,this.message=`${D9} ${V0} (reason: ${t})`}name="TaskAbortError";message},W0=(t,e)=>{if(typeof t!="function")throw new TypeError(lr(32))},ff=()=>{},gN=(t,e=ff)=>(t.catch(e),t),yN=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ts=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Es=t=>{if(t.aborted){const{reason:e}=t;throw new up(e)}};function vN(t,e){let n=ff;return new Promise((r,i)=>{const o=()=>i(new up(t.reason));if(t.aborted){o();return}n=yN(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ff})}var U9=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof up?"cancelled":"rejected",error:n}}finally{e?.()}},pf=t=>e=>gN(vN(t,e).then(n=>(Es(t),n))),xN=t=>{const e=pf(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ka}=Object,Eb={},cp="listenerMiddleware",j9=(t,e)=>{const n=r=>yN(t,()=>Ts(r,t.reason));return(r,i)=>{W0(r);const o=new AbortController;n(o);const a=U9(async()=>{Es(t),Es(o.signal);const u=await r({pause:pf(o.signal),delay:xN(o.signal),signal:o.signal});return Es(o.signal),u},()=>Ts(o,L9));return i?.autoJoin&&e.push(a.catch(ff)),{result:pf(t)(a),cancel(){Ts(o,O9)}}}},$9=(t,e)=>{const n=async(r,i)=>{Es(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),c([g,y.getState(),y.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await vN(e,Promise.race(u));return Es(e),c}finally{o()}};return(r,i)=>gN(n(r,i))},wN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ir(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(lr(21));return W0(o),{predicate:i,type:e,effect:o}},SN=ka(t=>{const{type:e,predicate:n,effect:r}=wN(t);return{id:E9(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>SN}),bb=(t,e)=>{const{type:n,effect:r,predicate:i}=wN(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},sv=t=>{t.pending.forEach(e=>{Ts(e,ov)})},B9=t=>()=>{t.forEach(sv),t.clear()},_b=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},CN=ka(Ir(`${cp}/add`),{withTypes:()=>CN}),V9=Ir(`${cp}/removeAll`),TN=ka(Ir(`${cp}/remove`),{withTypes:()=>TN}),W9=(...t)=>{console.error(`${cp}/error`,...t)},zu=(t={})=>{const e=new Map,{extra:n,onError:r=W9}=t;W0(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),g=>{h.unsubscribe(),g?.cancelActive&&sv(h)}),o=h=>{const g=bb(e,h)??SN(h);return i(g)};ka(o,{withTypes:()=>o});const a=h=>{const g=bb(e,h);return g&&(g.unsubscribe(),h.cancelActive&&sv(g)),!!g};ka(a,{withTypes:()=>a});const u=async(h,g,y,w)=>{const C=new AbortController,T=$9(o,C.signal),_=[];try{h.pending.add(C),await Promise.resolve(h.effect(g,ka({},y,{getOriginalState:w,condition:(I,A)=>T(I,A).then(Boolean),take:T,delay:xN(C.signal),pause:pf(C.signal),extra:n,signal:C.signal,fork:j9(C.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((I,A,k)=>{I!==C&&(Ts(I,ov),k.delete(I))})},cancel:()=>{Ts(C,ov),h.pending.delete(C)},throwIfCancelled:()=>{Es(C.signal)}})))}catch(I){I instanceof up||_b(r,I,{raisedBy:"effect"})}finally{await Promise.all(_),Ts(C,F9),h.pending.delete(C)}},c=B9(e);return{middleware:h=>g=>y=>{if(!rN(y))return g(y);if(CN.match(y))return o(y.payload);if(V9.match(y)){c();return}if(TN.match(y))return a(y.payload);let w=h.getState();const C=()=>{if(w===Eb)throw new Error(lr(23));return w};let T;try{if(T=g(y),e.size>0){const _=h.getState(),I=Array.from(e.values());for(const A of I){let k=!1;try{k=A.predicate(y,_,w)}catch(M){k=!1,_b(r,M,{raisedBy:"predicate"})}k&&u(A,y,h,C)}}}finally{w=Eb}return T},startListening:o,stopListening:a,clearListeners:c}};function lr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var q9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EN=dr({name:"chartLayout",initialState:q9,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:H9,setLayout:G9,setChartSize:z9,setScale:K9}=EN.actions,Y9=EN.reducer;function Ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(n),!0).forEach(function(r){J9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J9(t,e,n){return(e=X9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9(t){var e=Q9(t,"string");return typeof e=="symbol"?e:e+""}function Q9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hf=Math.PI/180,Z9=t=>t*180/Math.PI,Wt=(t,e,n,r)=>({x:t+Math.cos(-hf*r)*n,y:e+Math.sin(-hf*r)*n}),bN=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},eK=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},tK=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=eK({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Z9(c),angleInRadian:c}},nK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},rK=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},iK=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=tK({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:f}=nK(e),h=o,g;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;g=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=c}return g?Ab(Ab({},e),{},{radius:i,angle:rK(h,e)}):null};function _N(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(n),!0).forEach(function(r){oK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oK(t,e,n){return(e=sK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sK(t){var e=aK(t,"string");return typeof e=="symbol"?e:e+""}function aK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ft(t,e,n){return Ut(t)||Ut(e)?n:ci(e)?Bo(t,e,n):typeof e=="function"?e(t):n}var lK=(t,e,n,r,i)=>{var o,a=-1,u=(o=e?.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,g=c>=u-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(_n(h-f)!==_n(g-h)){var w=[];if(_n(g-h)===_n(i[1]-i[0])){y=g;var C=h+i[1]-i[0];w[0]=Math.min(C,(C+f)/2),w[1]=Math.max(C,(C+f)/2)}else{y=f;var T=g+i[1]-i[0];w[0]=Math.min(h,(T+h)/2),w[1]=Math.max(h,(T+h)/2)}var _=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>_[0]&&t<=_[1]||t>=w[0]&&t<=w[1]){({index:a}=n[c]);break}}else{var I=Math.min(f,g),A=Math.max(f,g);if(t>(I+h)/2&&t<=(A+h)/2){({index:a}=n[c]);break}}}else if(e){for(var k=0;k<u;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:a}=e[k]);break}}return a},uK=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&ge(t[o]))return Cr(Cr({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&ge(t[a]))return Cr(Cr({},t),{},{[a]:t[a]+(i||0)})}return t},mi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",IN=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,a=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||a.push(e),o||a.push(n),a},AN=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:y,axisType:w}=t;if(!a)return null;var C=u==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,T=i==="category"&&a.bandwidth?a.bandwidth()/C:0;if(T=w==="angleAxis"&&o&&o.length>=2?_n(o[0]-o[1])*2*T:T,g||y){var _=(g||y||[]).map((I,A)=>{var k=r?r.indexOf(I):I;return{coordinate:a(k)+T,value:I,offset:T,index:A}});return _.filter(I=>!ur(I.coordinate))}return c&&f?f.map((I,A)=>({coordinate:a(I)+T,value:I,index:A,offset:T})):a.ticks&&h!=null?a.ticks(h).map((I,A)=>({coordinate:a(I)+T,value:I,offset:T,index:A})):a.domain().map((I,A)=>({coordinate:a(I)+T,value:r?r[I]:I,index:A,offset:T}))},kb=1e-4,cK=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-kb,o=Math.max(r[0],r[1])+kb,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},dK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=ur(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},fK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=ur(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},pK={sign:dK,expand:qz,none:Fa,silhouette:Hz,wiggle:Gz,positive:fK},hK=(t,e,n)=>{var r=pK[n],i=Wz().keys(e).value((o,a)=>+ft(o,a,0)).order(Jy).offset(r);return i(t)};function mK(t){return t==null?void 0:String(t)}function mf(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ut(i[e.dataKey])){var u=Sk(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=ft(i,Ut(a)?e.dataKey:a);return Ut(c)?null:e.scale(c)}var gK=t=>{var e=t.flat(2).filter(ge);return[Math.min(...e),Math.max(...e)]},yK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vK=(t,e,n)=>{if(t!=null)return yK(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((c,f)=>{var h=_N(f,e,n),g=gK(h);return[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},Nb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Au=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=op(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],f=i[a-1];o=Math.min((c.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Rb(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Cr(Cr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function tl(t,e){if(t)return String(t);if(typeof e=="string")return e}function xK(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?iK({x:t,y:e},r):null}var wK=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Cr(Cr(Cr({},r),Wt(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return Cr(Cr(Cr({},r),Wt(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},SK=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Xi=t=>t.layout.width,Qi=t=>t.layout.height,CK=t=>t.layout.scale,PN=t=>t.layout.margin,q0=H(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),H0=H(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kN="data-recharts-item-index",NN="data-recharts-item-data-key",dp=60;function Db(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(n),!0).forEach(function(r){TK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TK(t,e,n){return(e=EK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _K=t=>t.brush.height,ln=H([Xi,Qi,PN,_K,q0,H0,Zk,Y7],(t,e,n,r,i,o,a,u)=>{var c=o.reduce((C,T)=>{var{orientation:_}=T;if(!T.mirror&&!T.hide){var I=typeof T.width=="number"?T.width:dp;return _o(_o({},C),{},{[_]:C[_]+I})}return C},{left:n.left||0,right:n.right||0}),f=i.reduce((C,T)=>{var{orientation:_}=T;return!T.mirror&&!T.hide?_o(_o({},C),{},{[_]:Bo(C,"".concat(_))+T.height}):C},{top:n.top||0,bottom:n.bottom||0}),h=_o(_o({},f),c),g=h.bottom;h.bottom+=r,h=uK(h,a,u);var y=t-h.left-h.right,w=e-h.top-h.bottom;return _o(_o({brushBottom:g},h),{},{width:Math.max(y,0),height:Math.max(w,0)})}),IK=H(ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),MN=H(Xi,Qi,(t,e)=>({x:0,y:0,width:t,height:e})),AK=b.createContext(null),Hn=()=>b.useContext(AK)!=null,fp=t=>t.brush,pp=H([fp,ln,PN],(t,e,n)=>({height:t.height,x:ge(t.x)?t.x:e.left,y:ge(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ge(t.width)?t.width:e.width})),G0=()=>{var t,e=Hn(),n=Ie(IK),r=Ie(pp),i=(t=Ie(fp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},PK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RN=()=>{var t;return(t=Ie(ln))!==null&&t!==void 0?t:PK},z0=()=>Ie(Xi),K0=()=>Ie(Qi),kK={top:0,right:0,bottom:0,left:0},NK=()=>{var t;return(t=Ie(e=>e.layout.margin))!==null&&t!==void 0?t:kK},et=t=>t.layout.layoutType,hp=()=>Ie(et),MK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DN=dr({name:"legend",initialState:MK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ui(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Ob,setLegendSettings:RK,addLegendPayload:ON,removeLegendPayload:LN}=DN.actions,DK=DN.reducer,OK=["contextPayload"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function Lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(n),!0).forEach(function(r){Y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0(t,e,n){return(e=LK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LK(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UK(t,e){if(t==null)return{};var n,r,i=jK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $K(t){return t.value}function BK(t){var{contextPayload:e}=t,n=UK(t,OK),r=Yk(e,t.payloadUniqBy,$K),i=ja(ja({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(M0,i)}function VK(t,e,n,r,i,o){var{layout:a,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ja(ja({},f),h)}function WK(t){var e=At();return b.useEffect(()=>{e(RK(t))},[e,t]),null}function qK(t){var e=At();return b.useEffect(()=>(e(Ob(t)),()=>{e(Ob({width:0,height:0}))}),[e,t]),null}function HK(t){var e=Q7(),n=pz(),r=NK(),{width:i,height:o,wrapperStyle:a,portal:u}=t,[c,f]=eN([e]),h=z0(),g=K0(),y=h-(r.left||0)-(r.right||0),w=Bs.getWidthOrHeight(t.layout,o,i,y),C=u?a:ja(ja({position:"absolute",width:w?.width||i||"auto",height:w?.height||o||"auto"},VK(a,t,r,h,g,c)),a),T=u??n;if(T==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:f},b.createElement(WK,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(qK,{width:c.width,height:c.height}),b.createElement(BK,av({},t,w,{margin:r,chartWidth:h,chartHeight:g,contextPayload:e})));return Ek.createPortal(_,T)}class Bs extends b.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&ge(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return b.createElement(HK,this.props)}}Y0(Bs,"displayName","Legend");Y0(Bs,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(null,arguments)}function Fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(n),!0).forEach(function(r){GK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GK(t,e,n){return(e=zK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t){var e=KK(t,"string");return typeof e=="symbol"?e:e+""}function KK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YK(t){return Array.isArray(t)&&ci(t[0])&&ci(t[1])?t.join(" ~ "):t}var JK=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:y=!1}=t,w=()=>{if(o&&o.length){var N={padding:0,margin:0},R=(u?op(o,u):o).map((O,j)=>{if(O.type==="none")return null;var W=O.formatter||a||YK,{value:K,name:G}=O,Y=K,ie=G;if(W){var ce=W(K,G,O,j,o);if(Array.isArray(ce))[Y,ie]=ce;else if(ce!=null)Y=ce;else return null}var de=Ug({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:de},ci(ie)?b.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,ci(ie)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},Y),b.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},C=Ug({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=Ug({margin:0},i),_=!Ut(h),I=_?h:"",A=Ye("recharts-default-tooltip",c),k=Ye("recharts-tooltip-label",f);_&&g&&o!==void 0&&o!==null&&(I=g(h,o));var M=y?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",lv({className:A,style:C},M),b.createElement("p",{className:k,style:T},b.isValidElement(I)?I:"".concat(I)),w())},Xl="recharts-tooltip-wrapper",XK={visibility:"hidden"};function QK(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ye(Xl,{["".concat(Xl,"-right")]:ge(n)&&e&&ge(e.x)&&n>=e.x,["".concat(Xl,"-left")]:ge(n)&&e&&ge(e.x)&&n<e.x,["".concat(Xl,"-bottom")]:ge(r)&&e&&ge(e.y)&&r>=e.y,["".concat(Xl,"-top")]:ge(r)&&e&&ge(e.y)&&r<e.y})}function Ub(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&ge(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return a[r]?h:g;var y=c[r];if(y==null)return 0;if(a[r]){var w=h,C=y;return w<C?Math.max(g,y):Math.max(h,y)}if(f==null)return 0;var T=g+u,_=y+f;return T>_?Math.max(h,y):Math.max(g,y)}function ZK(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:c}=t,f,h,g;return a.height>0&&a.width>0&&n?(h=Ub({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),g=Ub({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=ZK({translateX:h,translateY:g,useTranslate3d:u})):f=XK,{cssProperties:f,cssClasses:QK({translateX:h,translateY:g,coordinate:n})}}function jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(n),!0).forEach(function(r){uv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uv(t,e,n){return(e=tY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tY(t){var e=nY(t,"string");return typeof e=="symbol"?e:e+""}function nY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rY extends b.PureComponent{constructor(){super(...arguments),uv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:C,lastBoundingBox:T,innerRef:_,hasPortalFromProps:I}=this.props,{cssClasses:A,cssProperties:k}=eY({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:w}),M=I?{}:Td(Td({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=Td(Td({},M),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},C);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:N,ref:_},o)}}var iY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vs={isSsr:iY()},FN=()=>Ie(t=>t.rootProps.accessibilityLayer);function Mn(t){return Number.isFinite(t)}function $a(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(null,arguments)}function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){oY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t,e,n){return(e=sY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=aY(t,"string");return typeof e=="symbol"?e:e+""}function aY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vb={curveBasisClosed:Mz,curveBasisOpen:Rz,curveBasis:Nz,curveBumpX:yz,curveBumpY:vz,curveLinearClosed:Dz,curveLinear:rp,curveMonotoneX:Oz,curveMonotoneY:Lz,curveNatural:Fz,curveStep:Uz,curveStepAfter:$z,curveStepBefore:jz},Ed=t=>Mn(t.x)&&Mn(t.y),Ql=t=>t.x,Zl=t=>t.y,lY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hu(t));return(n==="curveMonotone"||n==="curveBump")&&e?Vb["".concat(n).concat(e==="vertical"?"Y":"X")]:Vb[n]||rp},uY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=lY(e,i),u=o?n.filter(Ed):n,c;if(Array.isArray(r)){var f=o?r.filter(g=>Ed(g)):r,h=u.map((g,y)=>Bb(Bb({},g),{},{base:f[y]}));return i==="vertical"?c=yd().y(Zl).x1(Ql).x0(g=>g.base.x):c=yd().x(Ql).y1(Zl).y0(g=>g.base.y),c.defined(Ed).curve(a),c(h)}return i==="vertical"&&ge(r)?c=yd().y(Zl).x1(Ql).x0(r):ge(r)?c=yd().x(Ql).y1(Zl).y0(r):c=Nk().x(Ql).y(Zl),c.defined(Ed).curve(a),c(u)},Na=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?uY(t):r;return b.createElement("path",cv({},hi(t),E0(t),{className:Ye("recharts-curve",e),d:o===null?void 0:o,ref:i}))},cY=["x","y","top","left","width","height","className"];function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}function Wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(n),!0).forEach(function(r){fY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fY(t,e,n){return(e=pY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t,e){if(t==null)return{};var n,r,i=gY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yY=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),vY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,c=mY(t,cY),f=dY({x:e,y:n,top:r,left:i,width:o,height:a},c);return!ge(e)||!ge(n)||!ge(o)||!ge(a)||!ge(r)||!ge(i)?null:b.createElement("path",dv({},vt(f,!0),{className:Ye("recharts-cross",u),d:yY(e,n,o,a,r,i)}))};function xY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qb(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return(e=CY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=TY(t,"string");return typeof e=="symbol"?e:e+""}function TY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gn(t,e){var n=wY({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}var jg={},$g={},Bg={},Hb;function EY(){return Hb||(Hb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(Bg)),Bg}var Gb;function bY(){return Gb||(Gb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EY(),n=Gk(),r=L0(),i=F0(),o=D0();function a(f,h,g){return u(f,h,void 0,void 0,void 0,void 0,g)}function u(f,h,g,y,w,C,T){const _=T(f,h,g,y,w,C);if(_!==void 0)return _;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return c(f,h,C,T)}return c(f,h,C,T)}function c(f,h,g,y){if(Object.is(f,h))return!0;let w=r.getTag(f),C=r.getTag(h);if(w===i.argumentsTag&&(w=i.objectTag),C===i.argumentsTag&&(C=i.objectTag),w!==C)return!1;switch(w){case i.stringTag:return f.toString()===h.toString();case i.numberTag:{const I=f.valueOf(),A=h.valueOf();return o.eq(I,A)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),h.valueOf());case i.regexpTag:return f.source===h.source&&f.flags===h.flags;case i.functionTag:return f===h}g=g??new Map;const T=g.get(f),_=g.get(h);if(T!=null&&_!=null)return T===h;g.set(f,h),g.set(h,f);try{switch(w){case i.mapTag:{if(f.size!==h.size)return!1;for(const[I,A]of f.entries())if(!h.has(I)||!u(A,h.get(I),I,f,h,g,y))return!1;return!0}case i.setTag:{if(f.size!==h.size)return!1;const I=Array.from(f.values()),A=Array.from(h.values());for(let k=0;k<I.length;k++){const M=I[k],N=A.findIndex(R=>u(M,R,void 0,f,h,g,y));if(N===-1)return!1;A.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let I=0;I<f.length;I++)if(!u(f[I],h[I],I,f,h,g,y))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==h.byteLength?!1:c(new Uint8Array(f),new Uint8Array(h),g,y);case i.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:c(new Uint8Array(f),new Uint8Array(h),g,y);case i.errorTag:return f.name===h.name&&f.message===h.message;case i.objectTag:{if(!(c(f.constructor,h.constructor,g,y)||e.isPlainObject(f)&&e.isPlainObject(h)))return!1;const A=[...Object.keys(f),...n.getSymbols(f)],k=[...Object.keys(h),...n.getSymbols(h)];if(A.length!==k.length)return!1;for(let M=0;M<A.length;M++){const N=A[M],R=f[N];if(!Object.hasOwn(h,N))return!1;const O=h[N];if(!u(R,O,N,f,h,g,y))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(h)}}t.isEqualWith=a})($g)),$g}var Vg={},zb;function _Y(){return zb||(zb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(Vg)),Vg}var Kb;function IY(){return Kb||(Kb=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bY(),n=_Y();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(jg)),jg}var Wg,Yb;function AY(){return Yb||(Yb=1,Wg=IY().isEqual),Wg}var PY=AY();const kY=Gr(PY);var gf=1e-4,UN=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],jN=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Jb=(t,e)=>n=>{var r=UN(t,e);return jN(r,n)},NY=(t,e)=>n=>{var r=UN(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return jN(i,n)},Xb=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(C=>parseFloat(C)))}}else a.length===4&&([e,r,n,i]=a);var f=Jb(e,n),h=Jb(r,i),g=NY(e,n),y=C=>C>1?1:C<0?0:C,w=C=>{for(var T=C>1?1:C,_=T,I=0;I<8;++I){var A=f(_)-T,k=g(_);if(Math.abs(A-T)<gf||k<gf)return h(_);_=y(_-A/k)}return h(_)};return w.isStepper=!1,w},MY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var f=-(a-u)*n,h=c*r,g=c+(f-h)*i/1e3,y=c*i/1e3+a;return Math.abs(y-u)<gf&&Math.abs(g)<gf?[u,0]:[y,g]};return o.isStepper=!0,o.dt=i,o},$N=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xb(t);case"spring":return MY();default:if(t.split("(")[0]==="cubic-bezier")return Xb(t)}return typeof t=="function"?t:null};function Qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=DY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DY(t){var e=OY(t,"string");return typeof e=="symbol"?e:e+""}function OY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),FY=(t,e,n)=>t.map(r=>"".concat(LY(r)," ").concat(e,"ms ").concat(n)).join(","),UY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Pu=(t,e)=>Object.keys(e).reduce((n,r)=>Zb(Zb({},n),{},{[r]:t(r,e[r])}),{});function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){jY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jY(t,e,n){return(e=$Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=BY(t,"string");return typeof e=="symbol"?e:e+""}function BY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf=(t,e,n)=>t+(e-t)*n,fv=t=>{var{from:e,to:n}=t;return e!==n},BN=(t,e,n)=>{var r=Pu((i,o)=>{if(fv(o)){var[a,u]=t(o.from,o.to,o.velocity);return mn(mn({},o),{},{from:a,velocity:u})}return o},e);return n<1?Pu((i,o)=>fv(o)?mn(mn({},o),{},{velocity:yf(o.velocity,r[i].velocity,n),from:yf(o.from,r[i].from,n)}):o,e):BN(t,r,n-1)};function VY(t,e,n,r,i,o){var a,u=r.reduce((y,w)=>mn(mn({},y),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),c=()=>Pu((y,w)=>w.from,u),f=()=>!Object.values(u).filter(fv).length,h=null,g=y=>{a||(a=y);var w=y-a,C=w/n.dt;u=BN(n,u,C),i(mn(mn(mn({},t),e),c())),a=y,f()||(h=o.setTimeout(g))};return()=>(h=o.setTimeout(g),()=>{h()})}function WY(t,e,n,r,i,o,a){var u=null,c=i.reduce((g,y)=>mn(mn({},g),{},{[y]:[t[y],e[y]]}),{}),f,h=g=>{f||(f=g);var y=(g-f)/r,w=Pu((T,_)=>yf(..._,n(y)),c);if(o(mn(mn(mn({},t),e),w)),y<1)u=a.setTimeout(h);else{var C=Pu((T,_)=>yf(..._,n(1)),c);o(mn(mn(mn({},t),e),C))}};return()=>(u=a.setTimeout(h),()=>{u()})}const VN=(t,e,n,r,i,o)=>{var a=UY(t,e);return n.isStepper===!0?VY(t,e,n,a,i,o):WY(t,e,n,r,a,i,o)};function qY(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class HY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function GY(){return qY(new HY)}var zY=b.createContext(GY);function WN(t,e){var n=b.useContext(zY);return b.useMemo(()=>e??n(t),[t,e,n])}var KY=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(null,arguments)}function YY(t,e){if(t==null)return{};var n,r,i=JY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(n),!0).forEach(function(r){ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ms(t,e,n){return(e=XY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=QY(t,"string");return typeof e=="symbol"?e:e+""}function QY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J0 extends b.PureComponent{constructor(e,n){super(e,n),ms(this,"mounted",!1),ms(this,"manager",void 0),ms(this,"stopJSAnimation",null),ms(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:u,duration:c,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||c<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:a});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:u}=this.props,{style:c}=this.state;if(r){if(!n){var f={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(f);return}if(!(kY(e.to,a)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||o?u:e.to;if(this.state&&c){var y={style:i?{[i]:g}:g};(i&&c[i]!==g||!i&&c!==g)&&this.setState(y)}this.runAnimation(Io(Io({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c}=e,f=VN(n,r,$N(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([c,a,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:u,onAnimationEnd:c,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof f=="function"||a==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,g=FY(Object.keys(h),r,a);this.manager.start([u,n,Io(Io({},h),{},{transition:g}),r,c])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:u,from:c,to:f,canBegin:h,onAnimationEnd:g,shouldReAnimate:y,onAnimationReStart:w,animationManager:C}=e,T=YY(e,KY),_=b.Children.count(n),I=this.state.style;if(typeof n=="function")return n(I);if(!u||_===0||i<=0)return n;var A=k=>{var{style:M={},className:N}=k.props,R=b.cloneElement(k,Io(Io({},T),{},{style:Io(Io({},M),I),className:N}));return R};return _===1?A(b.Children.only(n)):b.createElement("div",null,b.Children.map(n,k=>A(k)))}}ms(J0,"displayName","Animate");ms(J0,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function vf(t){var e,n=WN((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return b.createElement(J0,pv({},t,{animationManager:n}))}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(null,arguments)}var n_=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=i[g]>o?o:i[g];f="M".concat(t,",").concat(e+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*h[1])),f+="L ".concat(t+n,",").concat(e+r-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),f+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f="M ".concat(t,",").concat(e+a*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+u*w,",").concat(e,`
            L `).concat(t+n-u*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*w,`
            L `).concat(t+n,",").concat(e+r-a*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+n-u*w,",").concat(e+r,`
            L `).concat(t+u*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},ZY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qN=t=>{var e=Gn(t,ZY),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:o,y:a,width:u,height:c,radius:f,className:h}=e,{animationEasing:g,animationDuration:y,animationBegin:w,isAnimationActive:C,isUpdateAnimationActive:T}=e;if(o!==+o||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var _=Ye("recharts-rectangle",h);return T?b.createElement(vf,{canBegin:r>0,from:{width:u,height:c,x:o,y:a},to:{width:u,height:c,x:o,y:a},duration:y,animationEasing:g,isActive:T},I=>{var{width:A,height:k,x:M,y:N}=I;return b.createElement(vf,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:C,easing:g},b.createElement("path",xf({},vt(e,!0),{className:_,d:n_(M,N,A,k,f),ref:n})))}):b.createElement("path",xf({},vt(e,!0),{className:_,d:n_(o,a,u,c,f)}))};function HN(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Wt(e,n,r,i),u=Wt(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}var eJ=(t,e)=>{var n=_n(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},bd=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,f=u*(a?1:-1)+r,h=Math.asin(u/f)/hf,g=c?i:i+o*h,y=Wt(e,n,f,g),w=Wt(e,n,r,g),C=c?i-o*h:i,T=Wt(e,n,f*Math.cos(h*hf),C);return{center:y,circleTangency:w,lineTangency:T,theta:h}},GN=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=eJ(o,a),c=o+u,f=Wt(e,n,i,o),h=Wt(e,n,i,c),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Wt(e,n,r,o),w=Wt(e,n,r,c);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},tJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=_n(f-c),{circleTangency:g,lineTangency:y,theta:w}=bd({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:C,lineTangency:T,theta:_}=bd({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),I=u?Math.abs(c-f):Math.abs(c-f)-w-_;if(I<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GN({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:M,theta:N}=bd({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:R,lineTangency:O,theta:j}=bd({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),W=u?Math.abs(c-f):Math.abs(c-f)-N-j;if(W<0&&o===0)return"".concat(A,"L").concat(e,",").concat(n,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else A+="L".concat(e,",").concat(n,"Z");return A},nJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zN=t=>{var e=Gn(t,nJ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:g}=e;if(o<i||f===h)return null;var y=Ye("recharts-sector",g),w=o-i,C=br(a,w,0,!0),T;return C>0&&Math.abs(f-h)<360?T=tJ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(C,w/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):T=GN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),b.createElement("path",hv({},vt(e,!0),{className:y,d:T}))};function rJ(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:c,innerRadius:f,outerRadius:h,angle:g}=e,y=Wt(u,c,f,g),w=Wt(u,c,h,g);r=y.x,i=y.y,o=w.x,a=w.y}else return HN(e);return[{x:r,y:i},{x:o,y:a}]}var qg={},Hg={},Gg={},r_;function iJ(){return r_||(r_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xk();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Gg)),Gg}var i_;function oJ(){return i_||(i_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iJ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Hg)),Hg}var o_;function sJ(){return o_||(o_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qk(),n=oJ();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=a;return c}t.range=r})(qg)),qg}var zg,s_;function aJ(){return s_||(s_=1,zg=sJ().range),zg}var lJ=aJ();const KN=Gr(lJ);function Oo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X0(t){let e,n,r;t.length!==2?(e=Oo,n=(u,c)=>Oo(t(u),c),r=(u,c)=>t(u)-c):(e=t===Oo||t===uJ?t:cJ,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;n(u[g],c)<0?f=g+1:h=g}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;n(u[g],c)<=0?f=g+1:h=g}while(f<h)}return f}function a(u,c,f=0,h=u.length){const g=i(u,c,f,h-1);return g>f&&r(u[g-1],c)>-r(u[g],c)?g-1:g}return{left:i,center:a,right:o}}function cJ(){return 0}function YN(t){return t===null?NaN:+t}function*dJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fJ=X0(Oo),Ku=fJ.right;X0(YN).center;class a_ extends Map{constructor(e,n=mJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(l_(this,e))}has(e){return super.has(l_(this,e))}set(e,n){return super.set(pJ(this,e),n)}delete(e){return super.delete(hJ(this,e))}}function l_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gJ(t=Oo){if(t===Oo)return JN;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yJ=Math.sqrt(50),vJ=Math.sqrt(10),xJ=Math.sqrt(2);function wf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=yJ?10:o>=vJ?5:o>=xJ?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?wf(t,e,n*2):[u,c,f]}function mv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?wf(e,t,n):wf(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function gv(t,e,n){return e=+e,t=+t,n=+n,wf(t,e,n)[2]}function yv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gv(e,t,n):gv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function u_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function c_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XN(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JN:gJ(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(c-g)/c)*(f-c/2<0?-1:1),w=Math.max(n,Math.floor(e-f*g/c+y)),C=Math.min(r,Math.floor(e+(c-f)*g/c+y));XN(t,e,w,C,i)}const o=t[e];let a=n,u=r;for(eu(t,n,e),i(t[r],o)>0&&eu(t,n,r);a<u;){for(eu(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?eu(t,n,u):(++u,eu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function eu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wJ(t,e,n){if(t=Float64Array.from(dJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return c_(t);if(e>=1)return u_(t);var r,i=(r-1)*e,o=Math.floor(i),a=u_(XN(t,o).subarray(0,o+1)),u=c_(t.subarray(o+1));return a+(u-a)*(i-o)}}function SJ(t,e,n=YN){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function CJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vv=Symbol("implicit");function Q0(){var t=new a_,e=[],n=[],r=vv;function i(o){let a=t.get(o);if(a===void 0){if(r!==vv)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new a_;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Q0(e,n).unknown(r)},Pr.apply(i,arguments),i}function Z0(){var t=Q0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,f=0,h=.5;delete t.unknown;function g(){var y=e().length,w=i<r,C=w?i:r,T=w?r:i;o=(T-C)/Math.max(1,y-c+f*2),u&&(o=Math.floor(o)),C+=(T-C-o*(y-c))*h,a=o*(1-c),u&&(C=Math.round(C),a=Math.round(a));var _=CJ(y).map(function(I){return C+o*I});return n(w?_.reverse():_)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),g()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),g()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},t.copy=function(){return Z0(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Pr.apply(g(),arguments)}function QN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QN(e())},t}function TJ(){return QN(Z0.apply(null,arguments).paddingInner(1))}function ex(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ZN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yu(){}var ku=.7,Sf=1/ku,Ma="\\s*([+-]?\\d+)\\s*",Nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EJ=/^#([0-9a-f]{3,8})$/,bJ=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),_J=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),IJ=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Nu}\\)$`),AJ=new RegExp(`^rgba\\(${li},${li},${li},${Nu}\\)$`),PJ=new RegExp(`^hsl\\(${Nu},${li},${li}\\)$`),kJ=new RegExp(`^hsla\\(${Nu},${li},${li},${Nu}\\)$`),d_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ex(Yu,Mu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f_,formatHex:f_,formatHex8:NJ,formatHsl:MJ,formatRgb:p_,toString:p_});function f_(){return this.rgb().formatHex()}function NJ(){return this.rgb().formatHex8()}function MJ(){return eM(this).formatHsl()}function p_(){return this.rgb().formatRgb()}function Mu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?h_(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_d(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_d(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bJ.exec(t))?new Wn(e[1],e[2],e[3],1):(e=_J.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IJ.exec(t))?_d(e[1],e[2],e[3],e[4]):(e=AJ.exec(t))?_d(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PJ.exec(t))?y_(e[1],e[2]/100,e[3]/100,1):(e=kJ.exec(t))?y_(e[1],e[2]/100,e[3]/100,e[4]):d_.hasOwnProperty(t)?h_(d_[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function h_(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function _d(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function RJ(t){return t instanceof Yu||(t=Mu(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function xv(t,e,n,r){return arguments.length===1?RJ(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ex(Wn,xv,ZN(Yu,{brighter(t){return t=t==null?Sf:Math.pow(Sf,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ku:Math.pow(ku,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(bs(this.r),bs(this.g),bs(this.b),Cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m_,formatHex:m_,formatHex8:DJ,formatRgb:g_,toString:g_}));function m_(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function DJ(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function g_(){const t=Cf(this.opacity);return`${t===1?"rgb(":"rgba("}${bs(this.r)}, ${bs(this.g)}, ${bs(this.b)}${t===1?")":`, ${t})`}`}function Cf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=bs(t),(t<16?"0":"")+t.toString(16)}function y_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wr(t,e,n,r)}function eM(t){if(t instanceof Wr)return new Wr(t.h,t.s,t.l,t.opacity);if(t instanceof Yu||(t=Mu(t)),!t)return new Wr;if(t instanceof Wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Wr(a,u,c,t.opacity)}function OJ(t,e,n,r){return arguments.length===1?eM(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ex(Wr,OJ,ZN(Yu,{brighter(t){return t=t==null?Sf:Math.pow(Sf,t),new Wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ku:Math.pow(ku,t),new Wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(Kg(t>=240?t-240:t+120,i,r),Kg(t,i,r),Kg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wr(v_(this.h),Id(this.s),Id(this.l),Cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cf(this.opacity);return`${t===1?"hsl(":"hsla("}${v_(this.h)}, ${Id(this.s)*100}%, ${Id(this.l)*100}%${t===1?")":`, ${t})`}`}}));function v_(t){return t=(t||0)%360,t<0?t+360:t}function Id(t){return Math.max(0,Math.min(1,t||0))}function Kg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const tx=t=>()=>t;function LJ(t,e){return function(n){return t+n*e}}function FJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function UJ(t){return(t=+t)==1?tM:function(e,n){return n-e?FJ(e,n,t):tx(isNaN(e)?n:e)}}function tM(t,e){var n=e-t;return n?LJ(t,n):tx(isNaN(t)?e:t)}const x_=(function t(e){var n=UJ(e);function r(i,o){var a=n((i=xv(i)).r,(o=xv(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=tM(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function jJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $J(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=nl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function VJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yg=new RegExp(wv.source,"g");function qJ(t){return function(){return t}}function HJ(t){return function(e){return t(e)+""}}function GJ(t,e){var n=wv.lastIndex=Yg.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=wv.exec(t))&&(i=Yg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Tf(r,i)})),n=Yg.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?HJ(c[0].x):qJ(e):(e=c.length,function(f){for(var h=0,g;h<e;++h)u[(g=c[h]).i]=g.x(f);return u.join("")})}function nl(t,e){var n=typeof e,r;return e==null||n==="boolean"?tx(e):(n==="number"?Tf:n==="string"?(r=Mu(e))?(e=r,x_):GJ:e instanceof Mu?x_:e instanceof Date?VJ:$J(e)?jJ:Array.isArray(e)?BJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WJ:Tf)(t,e)}function nx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zJ(t,e){e===void 0&&(e=t,t=nl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function KJ(t){return function(){return t}}function Ef(t){return+t}var w_=[0,1];function Nn(t){return t}function Sv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:KJ(isNaN(e)?NaN:.5)}function YJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function JJ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Sv(i,r),o=n(a,o)):(r=Sv(r,i),o=n(o,a)),function(u){return o(r(u))}}function XJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Sv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=Ku(t,u,1,r)-1;return o[c](i[c](u))}}function Ju(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mp(){var t=w_,e=w_,n=nl,r,i,o,a=Nn,u,c,f;function h(){var y=Math.min(t.length,e.length);return a!==Nn&&(a=YJ(t[0],t[y-1])),u=y>2?XJ:JJ,c=f=null,g}function g(y){return y==null||isNaN(y=+y)?o:(c||(c=u(t.map(r),e,n)))(r(a(y)))}return g.invert=function(y){return a(i((f||(f=u(e,t.map(r),Tf)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Ef),h()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=nx,h()},g.clamp=function(y){return arguments.length?(a=y?!0:Nn,h()):a!==Nn},g.interpolate=function(y){return arguments.length?(n=y,h()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,w){return r=y,i=w,h()}}function rx(){return mp()(Nn,Nn)}function QJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ba(t){return t=bf(Math.abs(t)),t?t[1]:NaN}function ZJ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function eX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(t){if(!(e=tX.exec(t)))throw new Error("invalid format: "+t);var e;return new ix({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ru.prototype=ix.prototype;function ix(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nM;function rX(t,e){var n=bf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(nM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bf(t,Math.max(0,e+o-1))[0]}function S_(t,e){var n=bf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const C_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>S_(t*100,e),r:S_,s:rX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T_(t){return t}var E_=Array.prototype.map,b_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iX(t){var e=t.grouping===void 0||t.thousands===void 0?T_:ZJ(E_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?T_:eX(E_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(g){g=Ru(g);var y=g.fill,w=g.align,C=g.sign,T=g.symbol,_=g.zero,I=g.width,A=g.comma,k=g.precision,M=g.trim,N=g.type;N==="n"?(A=!0,N="g"):C_[N]||(k===void 0&&(k=12),M=!0,N="g"),(_||y==="0"&&w==="=")&&(_=!0,y="0",w="=");var R=T==="$"?n:T==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",O=T==="$"?r:/[%p]/.test(N)?a:"",j=C_[N],W=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(G){var Y=R,ie=O,ce,de,pe;if(N==="c")ie=j(G)+ie,G="";else{G=+G;var be=G<0||1/G<0;if(G=isNaN(G)?c:j(Math.abs(G),k),M&&(G=nX(G)),be&&+G==0&&C!=="+"&&(be=!1),Y=(be?C==="("?C:u:C==="-"||C==="("?"":C)+Y,ie=(N==="s"?b_[8+nM/3]:"")+ie+(be&&C==="("?")":""),W){for(ce=-1,de=G.length;++ce<de;)if(pe=G.charCodeAt(ce),48>pe||pe>57){ie=(pe===46?i+G.slice(ce+1):G.slice(ce))+ie,G=G.slice(0,ce);break}}}A&&!_&&(G=e(G,1/0));var Q=Y.length+G.length+ie.length,se=Q<I?new Array(I-Q+1).join(y):"";switch(A&&_&&(G=e(se+G,se.length?I-ie.length:1/0),se=""),w){case"<":G=Y+G+ie+se;break;case"=":G=Y+se+G+ie;break;case"^":G=se.slice(0,Q=se.length>>1)+Y+G+ie+se.slice(Q);break;default:G=se+Y+G+ie;break}return o(G)}return K.toString=function(){return g+""},K}function h(g,y){var w=f((g=Ru(g),g.type="f",g)),C=Math.max(-8,Math.min(8,Math.floor(Ba(y)/3)))*3,T=Math.pow(10,-C),_=b_[8+C/3];return function(I){return w(T*I)+_}}return{format:f,formatPrefix:h}}var Ad,ox,rM;oX({thousands:",",grouping:[3],currency:["$",""]});function oX(t){return Ad=iX(t),ox=Ad.format,rM=Ad.formatPrefix,Ad}function sX(t){return Math.max(0,-Ba(Math.abs(t)))}function aX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ba(e)/3)))*3-Ba(Math.abs(t)))}function lX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ba(e)-Ba(t))+1}function iM(t,e,n,r){var i=yv(t,e,n),o;switch(r=Ru(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=aX(i,a))&&(r.precision=o),rM(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sX(i))&&(r.precision=o-(r.type==="%")*2);break}}return ox(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return mv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,h=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=gv(a,u,n),f===c)return r[i]=a,r[o]=u,e(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function oM(){var t=rx();return t.copy=function(){return Ju(t,oM())},Pr.apply(t,arguments),Wo(t)}function sM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ef),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sM(t).unknown(e)},t=arguments.length?Array.from(t,Ef):[0,1],Wo(n)}function aM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function __(t){return Math.log(t)}function I_(t){return Math.exp(t)}function uX(t){return-Math.log(-t)}function cX(t){return-Math.exp(-t)}function dX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fX(t){return t===10?dX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function A_(t){return(e,n)=>-t(-e,n)}function sx(t){const e=t(__,I_),n=e.domain;let r=10,i,o;function a(){return i=pX(r),o=fX(r),n()[0]<0?(i=A_(i),o=A_(o),t(uX,cX)):t(__,I_),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const g=h<f;g&&([f,h]=[h,f]);let y=i(f),w=i(h),C,T;const _=u==null?10:+u;let I=[];if(!(r%1)&&w-y<_){if(y=Math.floor(y),w=Math.ceil(w),f>0){for(;y<=w;++y)for(C=1;C<r;++C)if(T=y<0?C/o(-y):C*o(y),!(T<f)){if(T>h)break;I.push(T)}}else for(;y<=w;++y)for(C=r-1;C>=1;--C)if(T=y>0?C/o(-y):C*o(y),!(T<f)){if(T>h)break;I.push(T)}I.length*2<_&&(I=mv(f,h,_))}else I=mv(y,w,Math.min(w-y,_)).map(o);return g?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ru(c)).precision==null&&(c.trim=!0),c=ox(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let g=h/o(Math.round(i(h)));return g*r<r-.5&&(g*=r),g<=f?c(h):""}},e.nice=()=>n(aM(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function lM(){const t=sx(mp()).domain([1,10]);return t.copy=()=>Ju(t,lM()).base(t.base()),Pr.apply(t,arguments),t}function P_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function k_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ax(t){var e=1,n=t(P_(e),k_(e));return n.constant=function(r){return arguments.length?t(P_(e=+r),k_(e)):e},Wo(n)}function uM(){var t=ax(mp());return t.copy=function(){return Ju(t,uM()).constant(t.constant())},Pr.apply(t,arguments)}function N_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mX(t){return t<0?-t*t:t*t}function lx(t){var e=t(Nn,Nn),n=1;function r(){return n===1?t(Nn,Nn):n===.5?t(hX,mX):t(N_(n),N_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function ux(){var t=lx(mp());return t.copy=function(){return Ju(t,ux()).exponent(t.exponent())},Pr.apply(t,arguments),t}function gX(){return ux.apply(null,arguments).exponent(.5)}function M_(t){return Math.sign(t)*t*t}function yX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cM(){var t=rx(),e=[0,1],n=!1,r;function i(o){var a=yX(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(M_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ef)).map(M_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pr.apply(i,arguments),Wo(i)}function dM(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=SJ(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ku(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Oo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return dM().domain(t).range(e).unknown(r)},Pr.apply(o,arguments)}function fM(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Ku(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return fM().domain([t,e]).range(i).unknown(o)},Pr.apply(Wo(a),arguments)}function pM(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ku(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return pM().domain(t).range(e).unknown(n)},Pr.apply(i,arguments)}const Jg=new Date,Xg=new Date;function Xt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<a);return c},i.filter=o=>Xt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Jg.setTime(+o),Xg.setTime(+a),t(Jg),t(Xg),Math.floor(n(Jg,Xg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _f=Xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_f.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_f);_f.range;const Ri=1e3,Tr=Ri*60,Di=Tr*60,qi=Di*24,cx=qi*7,R_=qi*30,Qg=qi*365,ys=Xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCSeconds());ys.range;const dx=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getMinutes());dx.range;const fx=Xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCMinutes());fx.range;const px=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri-t.getMinutes()*Tr)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getHours());px.range;const hx=Xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getUTCHours());hx.range;const Xu=Xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/qi,t=>t.getDate()-1);Xu.range;const gp=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qi,t=>t.getUTCDate()-1);gp.range;const hM=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qi,t=>Math.floor(t/qi));hM.range;function Ws(t){return Xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/cx)}const yp=Ws(0),If=Ws(1),vX=Ws(2),xX=Ws(3),Va=Ws(4),wX=Ws(5),SX=Ws(6);yp.range;If.range;vX.range;xX.range;Va.range;wX.range;SX.range;function qs(t){return Xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cx)}const vp=qs(0),Af=qs(1),CX=qs(2),TX=qs(3),Wa=qs(4),EX=qs(5),bX=qs(6);vp.range;Af.range;CX.range;TX.range;Wa.range;EX.range;bX.range;const mx=Xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mx.range;const gx=Xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gx.range;const Hi=Xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hi.range;const Gi=Xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gi.range;function mM(t,e,n,r,i,o){const a=[[ys,1,Ri],[ys,5,5*Ri],[ys,15,15*Ri],[ys,30,30*Ri],[o,1,Tr],[o,5,5*Tr],[o,15,15*Tr],[o,30,30*Tr],[i,1,Di],[i,3,3*Di],[i,6,6*Di],[i,12,12*Di],[r,1,qi],[r,2,2*qi],[n,1,cx],[e,1,R_],[e,3,3*R_],[t,1,Qg]];function u(f,h,g){const y=h<f;y&&([f,h]=[h,f]);const w=g&&typeof g.range=="function"?g:c(f,h,g),C=w?w.range(f,+h+1):[];return y?C.reverse():C}function c(f,h,g){const y=Math.abs(h-f)/g,w=X0(([,,_])=>_).right(a,y);if(w===a.length)return t.every(yv(f/Qg,h/Qg,g));if(w===0)return _f.every(Math.max(yv(f,h,g),1));const[C,T]=a[y/a[w-1][2]<a[w][2]/y?w-1:w];return C.every(T)}return[u,c]}const[_X,IX]=mM(Gi,gx,vp,hM,hx,fx),[AX,PX]=mM(Hi,mx,yp,Xu,px,dx);function Zg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ey(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=nu(i),h=ru(i),g=nu(o),y=ru(o),w=nu(a),C=ru(a),T=nu(u),_=ru(u),I=nu(c),A=ru(c),k={a:be,A:Q,b:se,B:le,c:null,d:j_,e:j_,f:ZX,g:uQ,G:dQ,H:JX,I:XX,j:QX,L:gM,m:eQ,M:tQ,p:U,q:B,Q:V_,s:W_,S:nQ,u:rQ,U:iQ,V:oQ,w:sQ,W:aQ,x:null,X:null,y:lQ,Y:cQ,Z:fQ,"%":B_},M={a:he,A:we,b:Ae,B:Te,c:null,d:$_,e:$_,f:gQ,g:_Q,G:AQ,H:pQ,I:hQ,j:mQ,L:vM,m:yQ,M:vQ,p:He,q:Ue,Q:V_,s:W_,S:xQ,u:wQ,U:SQ,V:CQ,w:TQ,W:EQ,x:null,X:null,y:bQ,Y:IQ,Z:PQ,"%":B_},N={a:K,A:G,b:Y,B:ie,c:ce,d:F_,e:F_,f:GX,g:L_,G:O_,H:U_,I:U_,j:VX,L:HX,m:BX,M:WX,p:W,q:$X,Q:KX,s:YX,S:qX,u:OX,U:LX,V:FX,w:DX,W:UX,x:de,X:pe,y:L_,Y:O_,Z:jX,"%":zX};k.x=R(n,k),k.X=R(r,k),k.c=R(e,k),M.x=R(n,M),M.X=R(r,M),M.c=R(e,M);function R(te,Pe){return function(Oe){var Z=[],ut=-1,Ge=0,Dt=te.length,pt,cn,Kr;for(Oe instanceof Date||(Oe=new Date(+Oe));++ut<Dt;)te.charCodeAt(ut)===37&&(Z.push(te.slice(Ge,ut)),(cn=D_[pt=te.charAt(++ut)])!=null?pt=te.charAt(++ut):cn=pt==="e"?" ":"0",(Kr=Pe[pt])&&(pt=Kr(Oe,cn)),Z.push(pt),Ge=ut+1);return Z.push(te.slice(Ge,ut)),Z.join("")}}function O(te,Pe){return function(Oe){var Z=tu(1900,void 0,1),ut=j(Z,te,Oe+="",0),Ge,Dt;if(ut!=Oe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Pe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ge=ey(tu(Z.y,0,1)),Dt=Ge.getUTCDay(),Ge=Dt>4||Dt===0?Af.ceil(Ge):Af(Ge),Ge=gp.offset(Ge,(Z.V-1)*7),Z.y=Ge.getUTCFullYear(),Z.m=Ge.getUTCMonth(),Z.d=Ge.getUTCDate()+(Z.w+6)%7):(Ge=Zg(tu(Z.y,0,1)),Dt=Ge.getDay(),Ge=Dt>4||Dt===0?If.ceil(Ge):If(Ge),Ge=Xu.offset(Ge,(Z.V-1)*7),Z.y=Ge.getFullYear(),Z.m=Ge.getMonth(),Z.d=Ge.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Dt="Z"in Z?ey(tu(Z.y,0,1)).getUTCDay():Zg(tu(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Dt+5)%7:Z.w+Z.U*7-(Dt+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,ey(Z)):Zg(Z)}}function j(te,Pe,Oe,Z){for(var ut=0,Ge=Pe.length,Dt=Oe.length,pt,cn;ut<Ge;){if(Z>=Dt)return-1;if(pt=Pe.charCodeAt(ut++),pt===37){if(pt=Pe.charAt(ut++),cn=N[pt in D_?Pe.charAt(ut++):pt],!cn||(Z=cn(te,Oe,Z))<0)return-1}else if(pt!=Oe.charCodeAt(Z++))return-1}return Z}function W(te,Pe,Oe){var Z=f.exec(Pe.slice(Oe));return Z?(te.p=h.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function K(te,Pe,Oe){var Z=w.exec(Pe.slice(Oe));return Z?(te.w=C.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function G(te,Pe,Oe){var Z=g.exec(Pe.slice(Oe));return Z?(te.w=y.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function Y(te,Pe,Oe){var Z=I.exec(Pe.slice(Oe));return Z?(te.m=A.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function ie(te,Pe,Oe){var Z=T.exec(Pe.slice(Oe));return Z?(te.m=_.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function ce(te,Pe,Oe){return j(te,e,Pe,Oe)}function de(te,Pe,Oe){return j(te,n,Pe,Oe)}function pe(te,Pe,Oe){return j(te,r,Pe,Oe)}function be(te){return a[te.getDay()]}function Q(te){return o[te.getDay()]}function se(te){return c[te.getMonth()]}function le(te){return u[te.getMonth()]}function U(te){return i[+(te.getHours()>=12)]}function B(te){return 1+~~(te.getMonth()/3)}function he(te){return a[te.getUTCDay()]}function we(te){return o[te.getUTCDay()]}function Ae(te){return c[te.getUTCMonth()]}function Te(te){return u[te.getUTCMonth()]}function He(te){return i[+(te.getUTCHours()>=12)]}function Ue(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Pe=R(te+="",k);return Pe.toString=function(){return te},Pe},parse:function(te){var Pe=O(te+="",!1);return Pe.toString=function(){return te},Pe},utcFormat:function(te){var Pe=R(te+="",M);return Pe.toString=function(){return te},Pe},utcParse:function(te){var Pe=O(te+="",!0);return Pe.toString=function(){return te},Pe}}}var D_={"-":"",_:" ",0:"0"},un=/^\s*\d+/,NX=/^%/,MX=/[\\^$*+?|[\]().{}]/g;function Qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function RX(t){return t.replace(MX,"\\$&")}function nu(t){return new RegExp("^(?:"+t.map(RX).join("|")+")","i")}function ru(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function DX(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OX(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function LX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function FX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function UX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jX(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $X(t,e,n){var r=un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function BX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function F_(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function VX(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function U_(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function WX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qX(t,e,n){var r=un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HX(t,e,n){var r=un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function GX(t,e,n){var r=un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zX(t,e,n){var r=NX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function KX(t,e,n){var r=un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function YX(t,e,n){var r=un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function j_(t,e){return Qe(t.getDate(),e,2)}function JX(t,e){return Qe(t.getHours(),e,2)}function XX(t,e){return Qe(t.getHours()%12||12,e,2)}function QX(t,e){return Qe(1+Xu.count(Hi(t),t),e,3)}function gM(t,e){return Qe(t.getMilliseconds(),e,3)}function ZX(t,e){return gM(t,e)+"000"}function eQ(t,e){return Qe(t.getMonth()+1,e,2)}function tQ(t,e){return Qe(t.getMinutes(),e,2)}function nQ(t,e){return Qe(t.getSeconds(),e,2)}function rQ(t){var e=t.getDay();return e===0?7:e}function iQ(t,e){return Qe(yp.count(Hi(t)-1,t),e,2)}function yM(t){var e=t.getDay();return e>=4||e===0?Va(t):Va.ceil(t)}function oQ(t,e){return t=yM(t),Qe(Va.count(Hi(t),t)+(Hi(t).getDay()===4),e,2)}function sQ(t){return t.getDay()}function aQ(t,e){return Qe(If.count(Hi(t)-1,t),e,2)}function lQ(t,e){return Qe(t.getFullYear()%100,e,2)}function uQ(t,e){return t=yM(t),Qe(t.getFullYear()%100,e,2)}function cQ(t,e){return Qe(t.getFullYear()%1e4,e,4)}function dQ(t,e){var n=t.getDay();return t=n>=4||n===0?Va(t):Va.ceil(t),Qe(t.getFullYear()%1e4,e,4)}function fQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qe(e/60|0,"0",2)+Qe(e%60,"0",2)}function $_(t,e){return Qe(t.getUTCDate(),e,2)}function pQ(t,e){return Qe(t.getUTCHours(),e,2)}function hQ(t,e){return Qe(t.getUTCHours()%12||12,e,2)}function mQ(t,e){return Qe(1+gp.count(Gi(t),t),e,3)}function vM(t,e){return Qe(t.getUTCMilliseconds(),e,3)}function gQ(t,e){return vM(t,e)+"000"}function yQ(t,e){return Qe(t.getUTCMonth()+1,e,2)}function vQ(t,e){return Qe(t.getUTCMinutes(),e,2)}function xQ(t,e){return Qe(t.getUTCSeconds(),e,2)}function wQ(t){var e=t.getUTCDay();return e===0?7:e}function SQ(t,e){return Qe(vp.count(Gi(t)-1,t),e,2)}function xM(t){var e=t.getUTCDay();return e>=4||e===0?Wa(t):Wa.ceil(t)}function CQ(t,e){return t=xM(t),Qe(Wa.count(Gi(t),t)+(Gi(t).getUTCDay()===4),e,2)}function TQ(t){return t.getUTCDay()}function EQ(t,e){return Qe(Af.count(Gi(t)-1,t),e,2)}function bQ(t,e){return Qe(t.getUTCFullYear()%100,e,2)}function _Q(t,e){return t=xM(t),Qe(t.getUTCFullYear()%100,e,2)}function IQ(t,e){return Qe(t.getUTCFullYear()%1e4,e,4)}function AQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wa(t):Wa.ceil(t),Qe(t.getUTCFullYear()%1e4,e,4)}function PQ(){return"+0000"}function B_(){return"%"}function V_(t){return+t}function W_(t){return Math.floor(+t/1e3)}var ga,wM,SM;kQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kQ(t){return ga=kX(t),wM=ga.format,ga.parse,SM=ga.utcFormat,ga.utcParse,ga}function NQ(t){return new Date(t)}function MQ(t){return t instanceof Date?+t:+new Date(+t)}function yx(t,e,n,r,i,o,a,u,c,f){var h=rx(),g=h.invert,y=h.domain,w=f(".%L"),C=f(":%S"),T=f("%I:%M"),_=f("%I %p"),I=f("%a %d"),A=f("%b %d"),k=f("%B"),M=f("%Y");function N(R){return(c(R)<R?w:u(R)<R?C:a(R)<R?T:o(R)<R?_:r(R)<R?i(R)<R?I:A:n(R)<R?k:M)(R)}return h.invert=function(R){return new Date(g(R))},h.domain=function(R){return arguments.length?y(Array.from(R,MQ)):y().map(NQ)},h.ticks=function(R){var O=y();return t(O[0],O[O.length-1],R??10)},h.tickFormat=function(R,O){return O==null?N:f(O)},h.nice=function(R){var O=y();return(!R||typeof R.range!="function")&&(R=e(O[0],O[O.length-1],R??10)),R?y(aM(O,R)):h},h.copy=function(){return Ju(h,yx(t,e,n,r,i,o,a,u,c,f))},h}function RQ(){return Pr.apply(yx(AX,PX,Hi,mx,yp,Xu,px,dx,ys,wM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DQ(){return Pr.apply(yx(_X,IX,Gi,gx,vp,gp,hx,fx,ys,SM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xp(){var t=0,e=1,n,r,i,o,a=Nn,u=!1,c;function f(g){return g==null||isNaN(g=+g)?c:a(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(a=g,f):a};function h(g){return function(y){var w,C;return arguments.length?([w,C]=y,a=g(w,C),f):[a(0),a(1)]}}return f.range=h(nl),f.rangeRound=h(nx),f.unknown=function(g){return arguments.length?(c=g,f):c},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),f}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CM(){var t=Wo(xp()(Nn));return t.copy=function(){return qo(t,CM())},Zi.apply(t,arguments)}function TM(){var t=sx(xp()).domain([1,10]);return t.copy=function(){return qo(t,TM()).base(t.base())},Zi.apply(t,arguments)}function EM(){var t=ax(xp());return t.copy=function(){return qo(t,EM()).constant(t.constant())},Zi.apply(t,arguments)}function vx(){var t=lx(xp());return t.copy=function(){return qo(t,vx()).exponent(t.exponent())},Zi.apply(t,arguments)}function OQ(){return vx.apply(null,arguments).exponent(.5)}function bM(){var t=[],e=Nn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ku(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Oo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>wJ(t,o/r))},n.copy=function(){return bM(e).domain(t)},Zi.apply(n,arguments)}function wp(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,f=Nn,h,g=!1,y;function w(T){return isNaN(T=+T)?y:(T=.5+((T=+h(T))-o)*(r*T<r*o?u:c),f(g?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(g=!!T,w):g},w.interpolator=function(T){return arguments.length?(f=T,w):f};function C(T){return function(_){var I,A,k;return arguments.length?([I,A,k]=_,f=zJ(T,[I,A,k]),w):[f(0),f(.5),f(1)]}}return w.range=C(nl),w.rangeRound=C(nx),w.unknown=function(T){return arguments.length?(y=T,w):y},function(T){return h=T,i=T(t),o=T(e),a=T(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,w}}function _M(){var t=Wo(wp()(Nn));return t.copy=function(){return qo(t,_M())},Zi.apply(t,arguments)}function IM(){var t=sx(wp()).domain([.1,1,10]);return t.copy=function(){return qo(t,IM()).base(t.base())},Zi.apply(t,arguments)}function AM(){var t=ax(wp());return t.copy=function(){return qo(t,AM()).constant(t.constant())},Zi.apply(t,arguments)}function xx(){var t=lx(wp());return t.copy=function(){return qo(t,xx()).exponent(t.exponent())},Zi.apply(t,arguments)}function LQ(){return xx.apply(null,arguments).exponent(.5)}const au=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Z0,scaleDiverging:_M,scaleDivergingLog:IM,scaleDivergingPow:xx,scaleDivergingSqrt:LQ,scaleDivergingSymlog:AM,scaleIdentity:sM,scaleImplicit:vv,scaleLinear:oM,scaleLog:lM,scaleOrdinal:Q0,scalePoint:TJ,scalePow:ux,scaleQuantile:dM,scaleQuantize:fM,scaleRadial:cM,scaleSequential:CM,scaleSequentialLog:TM,scaleSequentialPow:vx,scaleSequentialQuantile:bM,scaleSequentialSqrt:OQ,scaleSequentialSymlog:EM,scaleSqrt:gX,scaleSymlog:uM,scaleThreshold:pM,scaleTime:RQ,scaleUtc:DQ,tickFormat:iM},Symbol.toStringTag,{value:"Module"}));var Ho=t=>t.chartData,wx=H([Ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Sp=(t,e,n,r)=>r?wx(t):Ho(t);function qa(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mn(e)&&Mn(n))return!0}return!1}function q_(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function FQ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Mn(n))i=n;else if(typeof n=="function")return;if(Mn(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(qa(a))return a}}function UQ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(qa(r))return q_(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ge(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&Nb.test(i)){var c=Nb.exec(i);if(c==null||e==null)a=void 0;else{var f=+c[1];a=e[0]-f}}else a=e?.[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(ge(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e?.[1]))}catch{}else if(typeof o=="string"&&Mb.test(o)){var h=Mb.exec(o);if(h==null||e==null)u=void 0;else{var g=+h[1];u=e[1]+g}}else u=e?.[1];var y=[a,u];if(qa(y))return e==null?y:q_(y,e,n)}}}var rl=1e9,jQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cx,wt=!0,Ar="[DecimalError] ",_s=Ar+"Invalid argument: ",Sx=Ar+"Exponent out of range: ",il=Math.floor,fs=Math.pow,$Q=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,sn=1e7,yt=7,PM=9007199254740991,Pf=il(PM/yt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return ji(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return lt(ji(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return qt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(or))throw Error(Ar+"NaN");if(n.s<1)throw Error(Ar+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(wt=!1,e=ji(Du(n,o),Du(t,o),o),wt=!0,lt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MM(e,t):kM(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ar+"NaN");return n.s?(wt=!1,e=ji(n,t,0,1).times(t),wt=!0,n.minus(e)):lt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return NM(this)};xe.naturalLogarithm=xe.ln=function(){return Du(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kM(e,t):MM(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_s+t);if(e=qt(i)+1,r=i.d.length-1,n=r*yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ar+"NaN")}for(t=qt(u),wt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ai(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=il((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(ji(u,o,a+2)).times(.5),ai(o.d).slice(0,a)===(e=ai(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(lt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return wt=!0,lt(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,o,a,u,c,f,h=this,g=h.constructor,y=h.d,w=(t=new g(t)).d;if(!h.s||!t.s)return new g(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=w.length,c<f&&(o=y,y=w,w=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+w[r]*y[i-r-1]+e,o[i--]=u%sn|0,e=u/sn|0;o[i]=(o[i]+e)%sn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,wt?lt(t,g.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(di(t,0,rl),e===void 0?e=r.rounding:di(e,0,8),lt(n,t+qt(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ds(r,!0):(di(t,0,rl),e===void 0?e=i.rounding:di(e,0,8),r=lt(new i(r),t+1,e),n=Ds(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ds(i):(di(t,0,rl),e===void 0?e=o.rounding:di(e,0,8),r=lt(new o(i),t+qt(i)+1,e),n=Ds(r.abs(),!1,t+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return lt(new e(t),qt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(or);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ar+"Infinity");return u}if(u.eq(or))return u;if(r=c.precision,t.eq(or))return lt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=PM){for(i=new c(or),e=Math.ceil(r/yt+4),wt=!1;n%2&&(i=i.times(u),G_(i.d,e)),n=il(n/2),n!==0;)u=u.times(u),G_(u.d,e);return wt=!0,t.s<0?new c(or).div(i):lt(i,r)}}else if(o<0)throw Error(Ar+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,wt=!1,i=t.times(Du(u,r+f)),wt=!0,i=NM(i),i.s=o,i};xe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=qt(i),r=Ds(i,n<=o.toExpNeg||n>=o.toExpPos)):(di(t,1,rl),e===void 0?e=o.rounding:di(e,0,8),i=lt(new o(i),t,e),n=qt(i),r=Ds(i,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(di(t,1,rl),e===void 0?e=r.rounding:di(e,0,8)),lt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qt(t),n=t.constructor;return Ds(t,e<=n.toExpNeg||e>=n.toExpPos)};function kM(t,e){var n,r,i,o,a,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),wt?lt(e,g):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=a,u=c.length),a=Math.ceil(g/yt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/sn|0,c[o]%=sn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,wt?lt(e,g):e}function di(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_s+t)}function ai(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=yt-r.length,n&&(o+=Po(n)),o+=r;a=t[e],r=a+"",n=yt-r.length,n&&(o+=Po(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ji=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%sn|0,a=o/sn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*sn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,f,h,g,y,w,C,T,_,I,A,k,M,N,R,O,j,W=r.constructor,K=r.s==i.s?1:-1,G=r.d,Y=i.d;if(!r.s)return new W(r);if(!i.s)throw Error(Ar+"Division by zero");for(c=r.e-i.e,O=Y.length,N=G.length,w=new W(K),C=w.d=[],f=0;Y[f]==(G[f]||0);)++f;if(Y[f]>(G[f]||0)&&--c,o==null?A=o=W.precision:a?A=o+(qt(r)-qt(i))+1:A=o,A<0)return new W(0);if(A=A/yt+2|0,f=0,O==1)for(h=0,Y=Y[0],A++;(f<N||h)&&A--;f++)k=h*sn+(G[f]||0),C[f]=k/Y|0,h=k%Y|0;else{for(h=sn/(Y[0]+1)|0,h>1&&(Y=t(Y,h),G=t(G,h),O=Y.length,N=G.length),M=O,T=G.slice(0,O),_=T.length;_<O;)T[_++]=0;j=Y.slice(),j.unshift(0),R=Y[0],Y[1]>=sn/2&&++R;do h=0,u=e(Y,T,O,_),u<0?(I=T[0],O!=_&&(I=I*sn+(T[1]||0)),h=I/R|0,h>1?(h>=sn&&(h=sn-1),g=t(Y,h),y=g.length,_=T.length,u=e(g,T,y,_),u==1&&(h--,n(g,O<y?j:Y,y))):(h==0&&(u=h=1),g=Y.slice()),y=g.length,y<_&&g.unshift(0),n(T,g,_),u==-1&&(_=T.length,u=e(Y,T,O,_),u<1&&(h++,n(T,O<_?j:Y,_))),_=T.length):u===0&&(h++,T=[0]),C[f++]=h,u&&T[0]?T[_++]=G[M]||0:(T=[G[M]],_=1);while((M++<N||T[0]!==void 0)&&A--)}return C[0]||C.shift(),w.e=c,lt(w,a?o+qt(w)+1:o)}})();function NM(t,e){var n,r,i,o,a,u,c=0,f=0,h=t.constructor,g=h.precision;if(qt(t)>16)throw Error(Sx+qt(t));if(!t.s)return new h(or);for(wt=!1,u=g,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(fs(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(or),h.precision=u;;){if(i=lt(i.times(t),u),n=n.times(++c),a=o.plus(ji(i,n,u)),ai(a.d).slice(0,u)===ai(o.d).slice(0,u)){for(;f--;)o=lt(o.times(o),u);return h.precision=g,e==null?(wt=!0,lt(o,g)):o}o=a}}function qt(t){for(var e=t.e*yt,n=t.d[0];n>=10;n/=10)e++;return e}function ty(t,e,n){if(e>t.LN10.sd())throw wt=!0,n&&(t.precision=n),Error(Ar+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function Du(t,e){var n,r,i,o,a,u,c,f,h,g=1,y=10,w=t,C=w.d,T=w.constructor,_=T.precision;if(w.s<1)throw Error(Ar+(w.s?"NaN":"-Infinity"));if(w.eq(or))return new T(0);if(e==null?(wt=!1,f=_):f=e,w.eq(10))return e==null&&(wt=!0),ty(T,f);if(f+=y,T.precision=f,n=ai(C),r=n.charAt(0),o=qt(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=ai(w.d),r=n.charAt(0),g++;o=qt(w),r>1?(w=new T("0."+n),o++):w=new T(r+"."+n.slice(1))}else return c=ty(T,f+2,_).times(o+""),w=Du(new T(r+"."+n.slice(1)),f-y).plus(c),T.precision=_,e==null?(wt=!0,lt(w,_)):w;for(u=a=w=ji(w.minus(or),w.plus(or),f),h=lt(w.times(w),f),i=3;;){if(a=lt(a.times(h),f),c=u.plus(ji(a,new T(i),f)),ai(c.d).slice(0,f)===ai(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(ty(T,f+2,_).times(o+""))),u=ji(u,new T(g),f),T.precision=_,e==null?(wt=!0,lt(u,_)):u;u=c,i+=2}}function H_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=il(n/yt),t.d=[],r=(n+1)%yt,n<0&&(r+=yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yt;r<i;)t.d.push(+e.slice(r,r+=yt));e=e.slice(r),r=yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wt&&(t.e>Pf||t.e<-Pf))throw Error(Sx+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,o,a,u,c,f,h,g=t.d;for(a=1,o=g[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=yt,i=e,f=g[h=0];else{if(h=Math.ceil((r+1)/yt),o=g.length,h>=o)return t;for(f=o=g[h],a=1;o>=10;o/=10)a++;r%=yt,i=r-yt+a}if(n!==void 0&&(o=fs(10,a-i-1),u=f/o%10|0,c=e<0||g[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/fs(10,a-i):0:g[h-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return c?(o=qt(t),g.length=1,e=e-o-1,g[0]=fs(10,(yt-e%yt)%yt),t.e=il(-e/yt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=h,o=1,h--):(g.length=h+1,o=fs(10,yt-r),g[h]=i>0?(f/fs(10,a-i)%fs(10,i)|0)*o:0),c)for(;;)if(h==0){(g[0]+=o)==sn&&(g[0]=1,++t.e);break}else{if(g[h]+=o,g[h]!=sn)break;g[h--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(wt&&(t.e>Pf||t.e<-Pf))throw Error(Sx+qt(t));return t}function MM(t,e){var n,r,i,o,a,u,c,f,h,g,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),wt?lt(e,w):e;if(c=t.d,g=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,u=g.length):(n=g,r=f,u=c.length),i=Math.max(Math.ceil(w/yt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=g.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=g[i]){h=c[i]<g[i];break}a=0}for(h&&(n=c,c=g,g=n,e.s=-e.s),u=c.length,i=g.length-u;i>0;--i)c[u++]=0;for(i=g.length;i>a;){if(c[--i]<g[i]){for(o=i;o&&c[--o]===0;)c[o]=sn-1;--c[o],c[i]+=sn}c[i]-=g[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,wt?lt(e,w):e):new y(0)}function Ds(t,e,n){var r,i=qt(t),o=ai(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Po(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Po(-i-1)+o,n&&(r=n-a)>0&&(o+=Po(r))):i>=a?(o+=Po(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Po(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Po(r))),t.s<0?"-"+o:o}function G_(t,e){if(t.length>e)return t.length=e,!0}function RM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_s+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return H_(a,o.toString())}else if(typeof o!="string")throw Error(_s+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,$Q.test(o))H_(a,o);else throw Error(_s+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RM,i.config=i.set=BQ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function BQ(t){if(!t||typeof t!="object")throw Error(Ar+"Object expected");var e,n,r,i=["precision",1,rl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(il(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_s+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_s+n+": "+r);return this}var Cx=RM(jQ);or=new Cx(1);const it=Cx;var VQ=t=>t,DM={},OM=t=>t===DM,z_=t=>function e(){return arguments.length===0||arguments.length===1&&OM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},LM=(t,e)=>t===1?e:z_(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==DM).length;return o>=t?e(...r):LM(t-o,z_(function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var f=r.map(h=>OM(h)?u.shift():h);return e(...f,...u)}))}),Cp=t=>LM(t.length,t),Cv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},WQ=Cp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),qQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return VQ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,c)=>c(u),o(...arguments))}},Tv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),FM=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[u])})||(e=i,n=t(...i)),n}};function UM(t){var e;return t===0?e=1:e=Math.floor(new it(t).abs().log(10).toNumber())+1,e}function jM(t,e,n){for(var r=new it(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Cp((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Cp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Cp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var $M=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},BM=(t,e,n)=>{if(t.lte(0))return new it(0);var r=UM(t.toNumber()),i=new it(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new it(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new it(c.toNumber()):new it(Math.ceil(c.toNumber()))},HQ=(t,e,n)=>{var r=new it(1),i=new it(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new it(10).pow(UM(t)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new it(Math.floor(t)))}else t===0?i=new it(Math.floor((e-1)/2)):n||(i=new it(Math.floor(t)));var a=Math.floor((e-1)/2),u=qQ(WQ(c=>i.add(new it(c-a).mul(r)).toNumber()),Cv);return u(0,e)},VM=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var a=BM(new it(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new it(0):(u=new it(e).add(n).div(2),u=u.sub(new it(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),f=Math.ceil(new it(n).sub(u).div(a).toNumber()),h=c+f+1;return h>r?VM(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:a,tickMin:u.sub(new it(c).mul(a)),tickMax:u.add(new it(f).mul(a))})};function GQ(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=$M([e,n]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...Cv(0,r-1).map(()=>1/0)]:[...Cv(0,r-1).map(()=>-1/0),u];return e>n?Tv(c):c}if(a===u)return HQ(a,r,i);var{step:f,tickMin:h,tickMax:g}=VM(a,u,o,i,0),y=jM(h,g.add(new it(.1).mul(f)),f);return e>n?Tv(y):y}function zQ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=$M([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),c=BM(new it(a).sub(o).div(u-1),i,0),f=[...jM(new it(o),new it(a),c),a];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Tv(f):f}var KQ=FM(GQ),YQ=FM(zQ),JQ=t=>t.rootProps.barCategoryGap,Qu=t=>t.rootProps.stackOffset,Tx=t=>t.options.chartName,Ex=t=>t.rootProps.syncId,WM=t=>t.rootProps.syncMethod,bx=t=>t.options.eventEmitter,Pi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Tp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},XQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:Pi.reversed,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:Pi.type,unit:void 0},QQ={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:nr.type,unit:void 0},ZQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eZ={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:"category",unit:void 0},_x=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ZQ:XQ,Ix=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eZ:QQ,Ep=t=>t.polarOptions,Ax=H([Xi,Qi,ln],bN),qM=H([Ep,Ax],(t,e)=>{if(t!=null)return br(t.innerRadius,e,0)}),HM=H([Ep,Ax],(t,e)=>{if(t!=null)return br(t.outerRadius,e,e*.8)}),tZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},GM=H([Ep],tZ);H([_x,GM],Tp);var zM=H([Ax,qM,HM],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});H([Ix,zM],Tp);var KM=H([et,Ep,qM,HM,Xi,Qi],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:f}=e;return{cx:br(a,i,i/2),cy:br(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),St=(t,e)=>e,Zu=(t,e,n)=>n;function Px(t){return t?.id}var Qt=t=>{var e=et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ol=t=>t.tooltip.settings.axisId,Zt=t=>{var e=Qt(t),n=ol(t);return ec(t,e,n)};function YM(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,o=new Map;return t.forEach(a=>{var u,c=(u=a.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=Px(a);c.forEach((h,g)=>{var y=i==null?g:String(ft(h,i,null)),w=ft(h,a.dataKey,0),C;o.has(y)?C=o.get(y):C={},Object.assign(C,{[f]:w}),o.set(y,C)})}}),Array.from(o.values())}function kx(t){return t.stackId!=null&&t.dataKey!=null}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ev=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eo=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ev,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dp},Go=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??tr},oZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??oZ},jt=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return Go(t,n);case"zAxis":return Nx(t,n);case"angleAxis":return _x(t,n);case"radiusAxis":return Ix(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sZ=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return Go(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ec=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return Go(t,n);case"angleAxis":return _x(t,n);case"radiusAxis":return Ix(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},JM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Mx(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Rx=t=>t.graphicalItems.cartesianItems,aZ=H([St,Zu],Mx),Dx=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),tc=H([Rx,jt,aZ],Dx),XM=H([tc],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(kx)),QM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ZM=H([tc],QM),Ox=t=>t.map(e=>e.data).filter(Boolean).flat(1),lZ=H([tc],Ox),Lx=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Fx=H([lZ,Sp],Lx),Ux=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:ft(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ft(i,r)}))):t.map(r=>({value:r})),bp=H([Fx,jt,tc],Ux);function eR(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hs(t){return t.filter(e=>ci(e)||e instanceof Date).map(Number).filter(e=>ur(e)===!1)}function uZ(t,e,n){return!n||typeof e!="number"||ur(e)?[]:n.length?Hs(n.flatMap(r=>{var i=ft(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Mn(o)||!Mn(a)))return[e-o,e+a]})):[]}var cZ=H([XM,Sp,Zt],YM),tR=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,c=u.map(Px);return[a,{stackedData:hK(t,c,n),graphicalItems:u}]}))},bv=H([cZ,XM,Qu],tR),nR=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=vK(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},dZ=H([bv,Ho,St],nR),rR=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(a=>{var u,c,f=(u=r[a.id])===null||u===void 0?void 0:u.filter(g=>eR(i,g)),h=ft(o,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:h,errorDomain:uZ(o,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(o=>({value:ft(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),_p=t=>t.errorBars,iR=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>eR(n,r));H([ZM,_p,St],iR);var fZ=H([Fx,jt,ZM,_p,St],rR);function pZ(t){var{value:e}=t;if(ci(e)||e instanceof Date)return e}var Y_=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Hs(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hZ=(t,e,n)=>{var r=t.map(pZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wk(r))?KN(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},jx=t=>{var e;if(t==null||!("domain"in t))return Ev;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Hs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Ev},Nf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},oR=t=>t.referenceElements.dots,sl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),mZ=H([oR,St,Zu],sl),sR=t=>t.referenceElements.areas,gZ=H([sR,St,Zu],sl),aR=t=>t.referenceElements.lines,yZ=H([aR,St,Zu],sl),lR=(t,e)=>{var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vZ=H(mZ,St,lR),uR=(t,e)=>{var n=Hs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xZ=H([gZ,St],uR),cR=(t,e)=>{var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wZ=H(yZ,St,cR),SZ=H(vZ,wZ,xZ,(t,e,n)=>Nf(t,n,e)),dR=H([jt],jx),$x=(t,e,n,r,i,o,a)=>{var u=FQ(e,t.allowDataOverflow);if(u!=null)return u;var c=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",f=c?Nf(n,i,Y_(r)):Nf(i,Y_(r));return UQ(e,f,t.allowDataOverflow)},CZ=H([jt,dR,dZ,fZ,SZ,et,St],$x),TZ=[0,1],Bx=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,f=mi(e,o);return f&&u==null?KN(0,n.length):c==="category"?hZ(r,t,f):i==="expand"?TZ:a}},Vx=H([jt,et,Fx,bp,Qu,St,CZ],Bx),fR=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Hu(o));return u in au?u:"point"}}},al=H([jt,et,JM,Tx,St],fR);function EZ(t){if(t!=null){if(t in au)return au[t]();var e="scale".concat(Hu(t));if(e in au)return au[e]()}}function Wx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=EZ(e);if(i!=null){var o=i.domain(n).range(r);return cK(o),o}}}var qx=(t,e,n)=>{var r=jx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qa(t))return KQ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&qa(t))return YQ(t,e.tickCount,e.allowDecimals)}},Hx=H([Vx,ec,al],qx),Gx=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&qa(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},bZ=H([jt,Vx,Hx,St],Gx),_Z=H(bp,jt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Hs(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),pR=H(_Z,et,JQ,ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Mn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=br(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),IZ=(t,e)=>{var n=eo(t,e);return n==null||typeof n.padding!="string"?0:pR(t,"xAxis",e,n.padding)},AZ=(t,e)=>{var n=Go(t,e);return n==null||typeof n.padding!="string"?0:pR(t,"yAxis",e,n.padding)},PZ=H(eo,IZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kZ=H(Go,AZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),NZ=H([ln,PZ,pp,fp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),MZ=H([ln,et,kZ,pp,fp,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),nc=(t,e,n,r)=>{var i;switch(e){case"xAxis":return NZ(t,n,r);case"yAxis":return MZ(t,n,r);case"zAxis":return(i=Nx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return GM(t);case"radiusAxis":return zM(t,n);default:return}},hR=H([jt,nc],Tp),ll=H([jt,al,bZ,hR],Wx);H([tc,_p,St],iR);function mR(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ip=(t,e)=>e,Ap=(t,e,n)=>n,RZ=H(q0,Ip,Ap,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(mR)),DZ=H(H0,Ip,Ap,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(mR)),gR=(t,e)=>({width:t.width,height:e.height}),OZ=(t,e)=>{var n=typeof e.width=="number"?e.width:dp;return{width:n,height:t.height}},LZ=H(ln,eo,gR),FZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},UZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},jZ=H(Qi,ln,RZ,Ip,Ap,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=gR(e,u);a==null&&(a=FZ(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(f)*c.height,a+=(f?-1:1)*c.height}),o}),$Z=H(Xi,ln,DZ,Ip,Ap,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=OZ(e,u);a==null&&(a=UZ(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(f)*c.width,a+=(f?-1:1)*c.width}),o}),BZ=(t,e)=>{var n=ln(t),r=eo(t,e);if(r!=null){var i=jZ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},VZ=(t,e)=>{var n=ln(t),r=Go(t,e);if(r!=null){var i=$Z(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},WZ=H(ln,Go,(t,e)=>{var n=typeof e.width=="number"?e.width:dp;return{width:n,height:t.height}}),yR=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=mi(t,r),c=e.map(f=>f.value);if(a&&u&&o==="category"&&i&&wk(c))return c}},zx=H([et,bp,jt,St],yR),vR=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=mi(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},Kx=H([et,bp,ec,St],vR),J_=H([et,sZ,al,ll,zx,Kx,nc,Hx,St],(t,e,n,r,i,o,a,u,c)=>{if(e==null)return null;var f=mi(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:a,realScaleType:n,scale:r}}),qZ=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var f=mi(t,c),{type:h,ticks:g,tickCount:y}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=h==="category"&&r.bandwidth?r.bandwidth()/w:0;C=c==="angleAxis"&&o!=null&&o.length>=2?_n(o[0]-o[1])*2*C:C;var T=g||i;if(T){var _=T.map((I,A)=>{var k=a?a.indexOf(I):I;return{index:A,coordinate:r(k)+C,value:I,offset:C}});return _.filter(I=>!ur(I.coordinate))}return f&&u?u.map((I,A)=>({coordinate:r(I)+C,value:I,index:A,offset:C})):r.ticks?r.ticks(y).map(I=>({coordinate:r(I)+C,value:I,offset:C})):r.domain().map((I,A)=>({coordinate:r(I)+C,value:a?a[I]:I,index:A,offset:C}))}},xR=H([et,ec,al,ll,Hx,nc,zx,Kx,St],qZ),HZ=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=mi(t,a),{tickCount:c}=e,f=0;return f=a==="angleAxis"&&r?.length>=2?_n(r[0]-r[1])*2*f:f,u&&o?o.map((h,g)=>({coordinate:n(h)+f,value:h,index:g,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,g)=>({coordinate:n(h)+f,value:i?i[h]:h,index:g,offset:f}))}},Pp=H([et,ec,ll,nc,zx,Kx,St],HZ),kp=H(jt,ll,(t,e)=>{if(!(t==null||e==null))return kf(kf({},t),{},{scale:e})}),GZ=H([jt,al,Vx,hR],Wx);H((t,e,n)=>Nx(t,n),GZ,(t,e)=>{if(!(t==null||e==null))return kf(kf({},t),{},{scale:e})});var zZ=H([et,q0,H0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wR=t=>t.options.defaultTooltipEventType,SR=t=>t.options.validateTooltipEventTypes;function CR(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Yx(t,e){var n=wR(t),r=SR(t);return CR(e,n,r)}function KZ(t){return Ie(e=>Yx(e,t))}var TR=(t,e)=>{var n,r=Number(e);if(!(ur(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},YZ=t=>t.tooltip.settings,ko={active:!1,index:null,dataKey:void 0,coordinate:void 0},JZ={itemInteraction:{click:ko,hover:ko},axisInteraction:{click:ko,hover:ko},keyboardInteraction:ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ER=dr({name:"tooltip",initialState:JZ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ui(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:XZ,removeTooltipEntrySettings:QZ,setTooltipSettingsState:ZZ,setActiveMouseOverItemIndex:bR,mouseLeaveItem:eee,mouseLeaveChart:_R,setActiveClickItemIndex:tee,setMouseOverAxisIndex:IR,setMouseClickAxisIndex:nee,setSyncInteraction:_v,setKeyboardInteraction:Iv}=ER.actions,ree=ER.reducer;function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return(e=oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=see(t,"string");return typeof e=="symbol"?e:e+""}function see(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lee(t){return t.index!=null}var AR=(t,e,n,r)=>{if(e==null)return ko;var i=aee(t,e,n);if(i==null)return ko;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(lee(i)){if(o)return Pd(Pd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Pd(Pd({},ko),{},{coordinate:i.coordinate})},Jx=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Mn(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},PR=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var c=a[0],f=c==null?void 0:u(c.positions,o);if(f!=null)return f;var h=i?.[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},kR=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},rc=t=>t.options.tooltipPayloadSearcher,ul=t=>t.tooltip;function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e,n){return(e=cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t){var e=dee(t,"string");return typeof e=="symbol"?e:e+""}function dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fee(t,e){return t??e}var NR=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,g=[];return t.reduce((y,w)=>{var C,{dataDefinedOnItem:T,settings:_}=w,I=fee(T,u),A=Array.isArray(I)?_N(I,f,h):I,k=(C=_?.dataKey)!==null&&C!==void 0?C:r?.dataKey,M=_?.nameKey,N;if(r!=null&&r.dataKey&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?N=Sk(A,r.dataKey,i):N=o(A,e,c,M),Array.isArray(N))N.forEach(O=>{var j=Z_(Z_({},_),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(Rb({tooltipEntrySettings:j,dataKey:O.dataKey,payload:O.payload,value:ft(O.payload,O.dataKey),name:O.name}))});else{var R;y.push(Rb({tooltipEntrySettings:_,dataKey:k,payload:N,value:ft(N,k),name:(R=ft(N,M))!==null&&R!==void 0?R:_?.name}))}return y},g)}},Xx=H([Zt,et,JM,Tx,Qt],fR),pee=H([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),hee=H([Qt,ol],Mx),ic=H([pee,Zt,hee],Dx),mee=H([ic],t=>t.filter(kx)),gee=H([ic],Ox),cl=H([gee,Ho],Lx),yee=H([mee,Ho,Zt],YM),Qx=H([cl,Zt,ic],Ux),vee=H([Zt],jx),xee=H([ic],t=>t.filter(kx)),wee=H([yee,xee,Qu],tR),See=H([wee,Ho,Qt],nR),Cee=H([ic],QM),Tee=H([cl,Zt,Cee,_p,Qt],rR),Eee=H([oR,Qt,ol],sl),bee=H([Eee,Qt],lR),_ee=H([sR,Qt,ol],sl),Iee=H([_ee,Qt],uR),Aee=H([aR,Qt,ol],sl),Pee=H([Aee,Qt],cR),kee=H([bee,Pee,Iee],Nf),Nee=H([Zt,vee,See,Tee,kee,et,Qt],$x),MR=H([Zt,et,cl,Qx,Qu,Qt,Nee],Bx),Mee=H([MR,Zt,Xx],qx),Ree=H([Zt,MR,Mee,Qt],Gx),RR=t=>{var e=Qt(t),n=ol(t),r=!1;return nc(t,e,n,r)},DR=H([Zt,RR],Tp),OR=H([Zt,Xx,Ree,DR],Wx),Dee=H([et,Qx,Zt,Qt],yR),Oee=H([et,Qx,Zt,Qt],vR),Lee=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,f=mi(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?_n(i[0]-i[1])*2*g:g,f&&a?a.map((y,w)=>({coordinate:r(y)+g,value:y,index:w,offset:g})):r.domain().map((y,w)=>({coordinate:r(y)+g,value:o?o[y]:y,index:w,offset:g}))}}},to=H([et,Zt,Xx,OR,RR,Dee,Oee,Qt],Lee),Zx=H([wR,SR,YZ],(t,e,n)=>CR(n.shared,t,e)),LR=t=>t.tooltip.settings.trigger,ew=t=>t.tooltip.settings.defaultIndex,Np=H([ul,Zx,LR,ew],AR),Ha=H([Np,cl],Jx),FR=H([to,Ha],TR),Fee=H([Np],t=>{if(t)return t.dataKey}),UR=H([ul,Zx,LR,ew],kR),Uee=H([Xi,Qi,et,ln,to,ew,UR,rc],PR),jee=H([Np,Uee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),$ee=H([Np],t=>t.active),Bee=H([UR,Ha,Ho,Zt,FR,rc,Zx],NR),Vee=H([Bee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gee=()=>Ie(Zt),zee=()=>{var t=Gee(),e=Ie(to),n=Ie(OR);return Au(tI(tI({},t),{},{scale:n}),e)},jR=()=>Ie(Tx),tw=(t,e)=>e,$R=(t,e,n)=>n,nw=(t,e,n,r)=>r,Kee=H(to,t=>op(t,e=>e.coordinate)),rw=H([ul,tw,$R,nw],AR),BR=H([rw,cl],Jx),Yee=(t,e,n)=>{if(e!=null){var r=ul(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VR=H([ul,tw,$R,nw],kR),Mf=H([Xi,Qi,et,ln,to,nw,VR,rc],PR),Jee=H([rw,Mf],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),WR=H(to,BR,TR),Xee=H([VR,BR,Ho,Zt,WR,rc,tw],NR),Qee=H([rw],t=>({isActive:t.active,activeIndex:t.index})),Zee=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o)){var c=xK(t.chartX,t.chartY,e,n,u);if(c){var f=SK(c,e),h=lK(f,a,o,r,i),g=wK(e,o,h,c);return{activeIndex:String(h),activeCoordinate:g}}}};function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(null,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:c,chartName:f}=t,h=e,g=n,y=r;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var w,C;if(f==="ScatterChart")w=h,C=vY;else if(f==="BarChart")w=xY(a,h,i,o),C=qN;else if(a==="radial"){var{cx:T,cy:_,radius:I,startAngle:A,endAngle:k}=HN(h);w={cx:T,cy:_,startAngle:A,endAngle:k,innerRadius:I,outerRadius:I},C=zN}else w={points:rJ(a,h,i)},C=Na;var M=typeof u=="object"&&"className"in u?u.className:void 0,N=kd(kd(kd(kd({stroke:"#ccc",pointerEvents:"none"},i),w),vt(u,!1)),{},{payload:g,payloadIndex:y,className:Ye("recharts-tooltip-cursor",M)});return b.isValidElement(u)?b.cloneElement(u,N):b.createElement(C,N)}function ite(t){var e=zee(),n=RN(),r=hp(),i=jR();return b.createElement(rte,Av({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var qR=b.createContext(null),ote=()=>b.useContext(qR),ny={exports:{}},rI;function ste(){return rI||(rI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,g||c,y),C=n?n+f:f;return c._events[C]?c._events[C].fn?c._events[C]=[c._events[C],w]:c._events[C].push(w):(c._events[C]=w,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,C=new Array(w);y<w;y++)C[y]=g[y].fn;return C},u.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,y,w,C){var T=n?n+f:f;if(!this._events[T])return!1;var _=this._events[T],I=arguments.length,A,k;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),I){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,g),!0;case 4:return _.fn.call(_.context,h,g,y),!0;case 5:return _.fn.call(_.context,h,g,y,w),!0;case 6:return _.fn.call(_.context,h,g,y,w,C),!0}for(k=1,A=new Array(I-1);k<I;k++)A[k-1]=arguments[k];_.fn.apply(_.context,A)}else{var M=_.length,N;for(k=0;k<M;k++)switch(_[k].once&&this.removeListener(f,_[k].fn,void 0,!0),I){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,h);break;case 3:_[k].fn.call(_[k].context,h,g);break;case 4:_[k].fn.call(_[k].context,h,g,y);break;default:if(!A)for(N=1,A=new Array(I-1);N<I;N++)A[N-1]=arguments[N];_[k].fn.apply(_[k].context,A)}}return!0},u.prototype.on=function(f,h,g){return o(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return o(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,y){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return a(this,w),this;var C=this._events[w];if(C.fn)C.fn===h&&(!y||C.once)&&(!g||C.context===g)&&a(this,w);else{for(var T=0,_=[],I=C.length;T<I;T++)(C[T].fn!==h||y&&!C[T].once||g&&C[T].context!==g)&&_.push(C[T]);_.length?this._events[w]=_.length===1?_[0]:_:a(this,w)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(ny)),ny.exports}var ate=ste();const lte=Gr(ate);var Ou=new lte,Pv="recharts.syncEvent.tooltip",iI="recharts.syncEvent.brush";function iw(t,e){if(e){var n=Number.parseInt(e,10);if(!ur(n))return t?.[n]}}var ute={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},HR=dr({name:"options",initialState:ute,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cte=HR.reducer,{createEventEmitter:dte}=HR.actions;function fte(t){return t.tooltip.syncInteraction}var pte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},GR=dr({name:"chartData",initialState:pte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:oI,setDataStartEndIndexes:hte,setComputedData:Wle}=GR.actions,mte=GR.reducer,zR=()=>{};function gte(){var t=Ie(Ex),e=Ie(bx),n=At(),r=Ie(WM),i=Ie(to),o=hp(),a=G0(),u=Ie(c=>c.rootProps.className);b.useEffect(()=>{if(t==null)return zR;var c=(f,h,g)=>{if(e!==g&&t===f){if(r==="index"){n(h);return}if(i!=null){var y;if(typeof r=="function"){var w={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},C=r(i,w);y=i[C]}else r==="value"&&(y=i.find(R=>String(R.value)===h.payload.label));var{coordinate:T}=h.payload;if(y==null||h.payload.active===!1||T==null||a==null){n(_v({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:I}=T,A=Math.min(_,a.x+a.width),k=Math.min(I,a.y+a.height),M={x:o==="horizontal"?y.coordinate:A,y:o==="horizontal"?k:y.coordinate},N=_v({active:h.payload.active,coordinate:M,dataKey:h.payload.dataKey,index:String(y.index),label:h.payload.label});n(N)}}};return Ou.on(Pv,c),()=>{Ou.off(Pv,c)}},[u,n,e,t,r,i,o,a])}function yte(){var t=Ie(Ex),e=Ie(bx),n=At();b.useEffect(()=>{if(t==null)return zR;var r=(i,o,a)=>{e!==a&&t===i&&n(hte(o))};return Ou.on(iI,r),()=>{Ou.off(iI,r)}},[n,e,t])}function vte(){var t=At();b.useEffect(()=>{t(dte())},[t]),gte(),yte()}function xte(t,e,n,r,i,o){var a=Ie(y=>Yee(y,t,e)),u=Ie(bx),c=Ie(Ex),f=Ie(WM),h=Ie(fte),g=h?.active;b.useEffect(()=>{if(!g&&c!=null&&u!=null){var y=_v({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Ou.emit(Pv,c,y,u)}},[g,n,a,i,r,u,c,f,o])}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t){return t.dataKey}function Ete(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(JK,e)}var lI=[],bte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Mp(t){var e=Gn(t,bte),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:g,reverseDirection:y,useTranslate3d:w,wrapperStyle:C,cursor:T,shared:_,trigger:I,defaultIndex:A,portal:k,axisId:M}=e,N=At(),R=typeof A=="number"?String(A):A;b.useEffect(()=>{N(ZZ({shared:_,trigger:I,axisId:M,active:n,defaultIndex:R}))},[N,_,I,M,n,R]);var O=G0(),j=FN(),W=KZ(_),{activeIndex:K,isActive:G}=Ie(Ae=>Qee(Ae,W,I,R)),Y=Ie(Ae=>Xee(Ae,W,I,R)),ie=Ie(Ae=>WR(Ae,W,I,R)),ce=Ie(Ae=>Jee(Ae,W,I,R)),de=Y,pe=ote(),be=n??G,[Q,se]=eN([de,be]),le=W==="axis"?ie:void 0;xte(W,I,ce,le,K,be);var U=k??pe;if(U==null)return null;var B=de??lI;be||(B=lI),u&&B.length&&(B=Yk(de.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||e.includeHidden)),h,Tte));var he=B.length>0,we=b.createElement(rY,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:be,coordinate:ce,hasPayload:he,offset:f,position:g,reverseDirection:y,useTranslate3d:w,viewBox:O,wrapperStyle:C,lastBoundingBox:Q,innerRef:se,hasPortalFromProps:!!k},Ete(a,aI(aI({},e),{},{payload:B,label:le,active:be,coordinate:ce,accessibilityLayer:j})));return b.createElement(b.Fragment,null,Ek.createPortal(we,U),be&&b.createElement(ite,{cursor:T,tooltipEventType:W,coordinate:ce,payload:de,index:K}))}var ry={},iy={},oy={},uI;function _te(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},g=()=>{f&&h(),T()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},C=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{C(),a=void 0,u=null},_=()=>{h()},I=function(...A){if(i?.aborted)return;a=this,u=A;const k=y==null;w(),c&&k&&h()};return I.schedule=w,I.cancel=T,I.flush=_,i?.addEventListener("abort",T,{once:!0}),I}t.debounce=e})(oy)),oy}var cI;function Ite(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_te();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);a&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const y=e.debounce(function(...T){h=r.apply(this,T),g=null},i,{edges:f}),w=function(...T){return c!=null&&(g===null&&(g=Date.now()),Date.now()-g>=c)?(h=r.apply(this,T),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,T),h)},C=()=>(y.flush(),h);return w.cancel=y.cancel,w.flush=C,w}t.debounce=n})(iy)),iy}var dI;function Ate(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ite();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})(ry)),ry}var sy,fI;function Pte(){return fI||(fI=1,sy=Ate().throttle),sy}var kte=Pte();const Nte=Gr(kte);var gu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mte(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Dte(t,"string");return typeof e=="symbol"?e:e+""}function Dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rp=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:g,className:y,onResize:w,style:C={}}=t,T=b.useRef(null),_=b.useRef();_.current=w,b.useImperativeHandle(e,()=>T.current);var[I,A]=b.useState({containerWidth:r.width,containerHeight:r.height}),k=b.useCallback((N,R)=>{A(O=>{var j=Math.round(N),W=Math.round(R);return O.containerWidth===j&&O.containerHeight===W?O:{containerWidth:j,containerHeight:W}})},[]);b.useEffect(()=>{var N=W=>{var K,{width:G,height:Y}=W[0].contentRect;k(G,Y),(K=_.current)===null||K===void 0||K.call(_,G,Y)};h>0&&(N=Nte(N,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(N),{width:O,height:j}=T.current.getBoundingClientRect();return k(O,j),R.observe(T.current),()=>{R.disconnect()}},[k,h]);var M=b.useMemo(()=>{var{containerWidth:N,containerHeight:R}=I;if(N<0||R<0)return null;gu(hs(i)||hs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),gu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=hs(i)?N:i,j=hs(o)?R:o;return n&&n>0&&(O?j=O/n:j&&(O=j*n),c&&j>c&&(j=c)),gu(O>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,j,i,o,a,u,n),b.Children.map(f,W=>b.cloneElement(W,{width:O,height:j,style:ay({width:O,height:j},W.props.style)}))},[n,f,o,c,u,a,I,i]);return b.createElement("div",{id:g?"".concat(g):void 0,className:Ye("recharts-responsive-container",y),style:ay(ay({},C),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:T},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),Dp=t=>null;Dp.displayName="Cell";function Ote(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ute{constructor(e){Ote(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wte={cacheSize:2e3,enableCache:!0},KR=jte({},Wte),mI=new Ute(KR.cacheSize),qte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gI="recharts_measurement_span";function Hte(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var yI=(t,e)=>{try{var n=document.getElementById(gI);n||(n=document.createElement("span"),n.setAttribute("id",gI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,qte,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vs.isSsr)return{width:0,height:0};if(!KR.enableCache)return yI(e,n);var r=Hte(e,n),i=mI.get(r);if(i)return i;var o=yI(e,n);return mI.set(r,o),o},vI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kte=Object.keys(YR),Sa="NaN";function Yte(t,e){return t*YR[e]}class Bn{static parse(e){var n,[,r,i]=(n=zte.exec(e))!==null&&n!==void 0?n:[];return new Bn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ur(e)&&(this.unit=""),n!==""&&!Gte.test(n)&&(this.num=NaN,this.unit=""),Kte.includes(n)&&(this.num=Yte(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function JR(t){if(t.includes(Sa))return Sa;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=vI.exec(e))!==null&&n!==void 0?n:[],a=Bn.parse(r??""),u=Bn.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return Sa;e=e.replace(vI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,g,y]=(f=xI.exec(e))!==null&&f!==void 0?f:[],w=Bn.parse(h??""),C=Bn.parse(y??""),T=g==="+"?w.add(C):w.subtract(C);if(T.isNaN())return Sa;e=e.replace(xI,T.toString())}return e}var wI=/\(([^()]*)\)/;function Jte(t){for(var e=t,n;(n=wI.exec(e))!=null;){var[,r]=n;e=e.replace(wI,JR(r))}return e}function Xte(t){var e=t.replace(/\s+/g,"");return e=Jte(e),e=JR(e),e}function Qte(t){try{return Xte(t)}catch{return Sa}}function ly(t){var e=Qte(t.slice(5,-1));return e===Sa?"":e}var Zte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ene=["dx","dy","angle","className","breakAll"];function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(null,arguments)}function SI(t,e){if(t==null)return{};var n,r,i=tne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XR=/[ \f\n\r\t\v\u2028\u2029]+/,QR=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ut(e)||(n?i=e.toString().split(""):i=e.toString().split(XR));var o=i.map(u=>({word:u,width:yu(u,r).width})),a=n?0:yu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},nne=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,f=ge(o),h=a,g=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce((Y,ie)=>{var{word:ce,width:de}=ie,pe=Y[Y.length-1];if(pe&&(r==null||i||pe.width+de+n<Number(r)))pe.words.push(ce),pe.width+=de+n;else{var be={words:[ce],width:de};Y.push(be)}return Y},[])},y=g(e),w=K=>K.reduce((G,Y)=>G.width>Y.width?G:Y);if(!f||i)return y;var C=y.length>o||w(y).width>Number(r);if(!C)return y;for(var T="",_=K=>{var G=h.slice(0,K),Y=QR({breakAll:c,style:u,children:G+T}).wordsWithComputedWidth,ie=g(Y),ce=ie.length>o||w(ie).width>Number(r);return[ce,ie]},I=0,A=h.length-1,k=0,M;I<=A&&k<=h.length-1;){var N=Math.floor((I+A)/2),R=N-1,[O,j]=_(R),[W]=_(N);if(!O&&!W&&(I=N+1),O&&W&&(A=N-1),!O&&W){M=j;break}k++}return M||y},CI=t=>{var e=Ut(t)?[]:t.toString().split(XR);return[{words:e}]},rne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Vs.isSsr){var u,c,f=QR({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,c=g}else return CI(r);return nne({breakAll:o,children:r,maxLines:a,style:i},u,c,e,n)}return CI(r)},TI="#808080",Op=b.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:c="end",fill:f=TI}=t,h=SI(t,Zte),g=b.useMemo(()=>rne({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:y,dy:w,angle:C,className:T,breakAll:_}=h,I=SI(h,ene);if(!ci(n)||!ci(r))return null;var A=n+(ge(y)?y:0),k=r+(ge(w)?w:0),M;switch(c){case"start":M=ly("calc(".concat(o,")"));break;case"middle":M=ly("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:M=ly("calc(".concat(g.length-1," * -").concat(i,")"));break}var N=[];if(a){var R=g[0].width,{width:O}=h;N.push("scale(".concat(ge(O)?O/R:1,")"))}return C&&N.push("rotate(".concat(C,", ").concat(A,", ").concat(k,")")),N.length&&(I.transform=N.join(" ")),b.createElement("text",kv({},vt(I,!0),{ref:e,x:A,y:k,className:Ye("recharts-text",T),textAnchor:u,fill:f.includes("url")?TI:f}),g.map((j,W)=>{var K=j.words.join(_?"":" ");return b.createElement("tspan",{x:A,dy:W===0?M:i,key:"".concat(K,"-").concat(W)},K)}))});Op.displayName="Text";var ine=["offset"],one=["labelRef"];function EI(t,e){if(t==null)return{};var n,r,i=sne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ki.apply(null,arguments)}var cne=t=>{var{value:e,formatter:n}=t,r=Ut(t.children)?e:t.children;return typeof n=="function"?n(r):r},ow=t=>t!=null&&typeof t=="function",dne=(t,e)=>{var n=_n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fne=(t,e,n,r)=>{var{position:i,offset:o,className:a}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:g,endAngle:y,clockWise:w}=r,C=(f+h)/2,T=dne(g,y),_=T>=0?1:-1,I,A;i==="insideStart"?(I=g+_*o,A=w):i==="insideEnd"?(I=y-_*o,A=!w):i==="end"&&(I=y+_*o,A=w),A=T<=0?A:!A;var k=Wt(u,c,C,I),M=Wt(u,c,C,I+(A?1:-1)*359),N="M".concat(k.x,",").concat(k.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(A?0:1,`,
    `).concat(M.x,",").concat(M.y),R=Ut(t.id)?bu("recharts-radial-line-"):t.id;return b.createElement("text",ki({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:R,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(R)},e))},pne=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:g}=Wt(r,i,a+e,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+a)/2,{x:w,y:C}=Wt(r,i,y,f);return{x:w,y:C,textAnchor:"middle",verticalAnchor:"middle"}},hne=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:u,height:c}=e,f=c>=0?1:-1,h=f*r,g=f>0?"end":"start",y=f>0?"start":"end",w=u>=0?1:-1,C=w*r,T=w>0?"end":"start",_=w>0?"start":"end";if(i==="top"){var I={x:o+u/2,y:a-f*r,textAnchor:"middle",verticalAnchor:g};return kt(kt({},I),n?{height:Math.max(a-n.y,0),width:u}:{})}if(i==="bottom"){var A={x:o+u/2,y:a+c+h,textAnchor:"middle",verticalAnchor:y};return kt(kt({},A),n?{height:Math.max(n.y+n.height-(a+c),0),width:u}:{})}if(i==="left"){var k={x:o-C,y:a+c/2,textAnchor:T,verticalAnchor:"middle"};return kt(kt({},k),n?{width:Math.max(k.x-n.x,0),height:c}:{})}if(i==="right"){var M={x:o+u+C,y:a+c/2,textAnchor:_,verticalAnchor:"middle"};return kt(kt({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:c}:{})}var N=n?{width:u,height:c}:{};return i==="insideLeft"?kt({x:o+C,y:a+c/2,textAnchor:_,verticalAnchor:"middle"},N):i==="insideRight"?kt({x:o+u-C,y:a+c/2,textAnchor:T,verticalAnchor:"middle"},N):i==="insideTop"?kt({x:o+u/2,y:a+h,textAnchor:"middle",verticalAnchor:y},N):i==="insideBottom"?kt({x:o+u/2,y:a+c-h,textAnchor:"middle",verticalAnchor:g},N):i==="insideTopLeft"?kt({x:o+C,y:a+h,textAnchor:_,verticalAnchor:y},N):i==="insideTopRight"?kt({x:o+u-C,y:a+h,textAnchor:T,verticalAnchor:y},N):i==="insideBottomLeft"?kt({x:o+C,y:a+c-h,textAnchor:_,verticalAnchor:g},N):i==="insideBottomRight"?kt({x:o+u-C,y:a+c-h,textAnchor:T,verticalAnchor:g},N):i&&typeof i=="object"&&(ge(i.x)||hs(i.x))&&(ge(i.y)||hs(i.y))?kt({x:o+br(i.x,u),y:a+br(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):kt({x:o+u/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},mne=t=>"cx"in t&&ge(t.cx);function ir(t){var{offset:e=5}=t,n=EI(t,ine),r=kt({offset:e},n),{viewBox:i,position:o,value:a,children:u,content:c,className:f="",textBreakAll:h,labelRef:g}=r,y=Ie(KM),w=G0(),C=o==="center"?w:y??w,T=i||C;if(!T||Ut(a)&&Ut(u)&&!b.isValidElement(c)&&typeof c!="function")return null;var _=kt(kt({},r),{},{viewBox:T});if(b.isValidElement(c)){var{labelRef:I}=_,A=EI(_,one);return b.cloneElement(c,A)}var k;if(typeof c=="function"){if(k=b.createElement(c,_),b.isValidElement(k))return k}else k=cne(r);var M=mne(T),N=vt(r,!0);if(M&&(o==="insideStart"||o==="insideEnd"||o==="end"))return fne(r,k,N,T);var R=M?pne(T,r.offset,r.position):hne(r,T);return b.createElement(Op,ki({ref:g,className:Ye("recharts-label",f)},N,R,{breakAll:h}),k)}ir.displayName="Label";var ZR=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:u,innerRadius:c,outerRadius:f,x:h,y:g,top:y,left:w,width:C,height:T,clockWise:_,labelViewBox:I}=t;if(I)return I;if(ge(C)&&ge(T)){if(ge(h)&&ge(g))return{x:h,y:g,width:C,height:T};if(ge(y)&&ge(w))return{x:y,y:w,width:C,height:T}}if(ge(h)&&ge(g))return{x:h,y:g,width:0,height:0};if(ge(e)&&ge(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:f||u||a||0,clockWise:_};if(t.viewBox)return t.viewBox},gne=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(ir,ki({key:"label-implicit"},r)):ci(t)?b.createElement(ir,ki({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===ir?b.cloneElement(t,kt({key:"label-implicit"},r)):b.createElement(ir,ki({key:"label-implicit",content:t},r)):ow(t)?b.createElement(ir,ki({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(ir,ki({},t,{key:"label-implicit"},r)):null},yne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=ZR(e),u=ep(i,ir).map((f,h)=>b.cloneElement(f,{viewBox:n||a,key:"label-".concat(h)}));if(!r)return u;var c=gne(e.label,n||a,o);return[c,...u]};ir.parseViewBox=ZR;ir.renderCallByParent=yne;var uy={},cy={},_I;function vne(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(cy)),cy}var dy={},II;function xne(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(dy)),dy}var AI;function wne(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vne(),n=xne(),r=R0();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(uy)),uy}var fy,PI;function Sne(){return PI||(PI=1,fy=wne().last),fy}var Cne=Sne();const Tne=Gr(Cne);var Ene=["valueAccessor"],bne=["data","dataKey","clockWise","id","textBreakAll"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(null,arguments)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MI(t,e){if(t==null)return{};var n,r,i=Pne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kne=t=>Array.isArray(t.value)?Tne(t.value):t.value;function Lo(t){var{valueAccessor:e=kne}=t,n=MI(t,Ene),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:u}=n,c=MI(n,bne);return!r||!r.length?null:b.createElement(yn,{className:"recharts-label-list"},r.map((f,h)=>{var g=Ut(i)?e(f,h):ft(f&&f.payload,i),y=Ut(a)?{}:{id:"".concat(a,"-").concat(h)};return b.createElement(ir,Rf({},vt(f,!0),c,y,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:ir.parseViewBox(Ut(o)?f:NI(NI({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Lo.displayName="LabelList";function Nne(t,e){return t?t===!0?b.createElement(Lo,{key:"labelList-implicit",data:e}):b.isValidElement(t)||ow(t)?b.createElement(Lo,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?b.createElement(Lo,Rf({data:e},t,{key:"labelList-implicit"})):null:null}function Mne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=ep(r,Lo).map((a,u)=>b.cloneElement(a,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=Nne(t.label,e);return[o,...i]}Lo.renderCallByParent=Mne;function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}var sw=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ye("recharts-dot",i);return e===+e&&n===+n&&r===+r?b.createElement("circle",Nv({},hi(t),E0(t),{className:o,cx:e,cy:n,r})):null},eD=t=>t.graphicalItems.polarItems,Rne=H([St,Zu],Mx),aw=H([eD,jt,Rne],Dx),Dne=H([aw],Ox),lw=H([Dne,wx],Lx),One=H([lw,jt,aw],Ux),Lne=H([lw,jt,aw],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=ft(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:ft(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),RI=()=>{},Fne=H([jt,dR,RI,Lne,RI,et,St],$x),tD=H([jt,et,lw,One,Qu,St,Fne],Bx),Une=H([tD,jt,al],qx);H([jt,tD,Une,St],Gx);var jne={radiusAxis:{},angleAxis:{}},nD=dr({name:"polarAxis",initialState:jne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:qle,removeRadiusAxis:Hle,addAngleAxis:Gle,removeAngleAxis:zle}=nD.actions,$ne=nD.reducer;function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=Vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qne=(t,e)=>e,uw=H([eD,qne],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Hne=[],cw=(t,e,n)=>n?.length===0?Hne:n,rD=H([wx,uw,cw],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>OI(OI({},e.presentationProps),o.props))),i!=null)return i}}),Gne=H([rD,uw,cw],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,a=ft(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:tl(a,e.dataKey),color:u,payload:r,type:e.legendType}})}),zne=H([rD,uw,cw,ln],(t,e,n,r)=>{if(!(e==null||t==null))return qre({offset:r,pieSettings:e,displayedData:t,cells:n})}),py={},LI;function Kne(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(py)),py}var hy,FI;function Yne(){return FI||(FI=1,hy=Kne().isPlainObject),hy}var Jne=Yne();const Xne=Gr(Jne);function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(null,arguments)}var UI=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Qne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zne=t=>{var e=Gn(t,Qne),n=b.useRef(),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:o,y:a,upperWidth:u,lowerWidth:c,height:f,className:h}=e,{animationEasing:g,animationDuration:y,animationBegin:w,isUpdateAnimationActive:C}=e;if(o!==+o||a!==+a||u!==+u||c!==+c||f!==+f||u===0&&c===0||f===0)return null;var T=Ye("recharts-trapezoid",h);return C?b.createElement(vf,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:o,y:a},to:{upperWidth:u,lowerWidth:c,height:f,x:o,y:a},duration:y,animationEasing:g,isActive:C},_=>{var{upperWidth:I,lowerWidth:A,height:k,x:M,y:N}=_;return b.createElement(vf,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:g},b.createElement("path",Df({},vt(e,!0),{className:T,d:UI(M,N,I,A,k),ref:n})))}):b.createElement("g",null,b.createElement("path",Df({},vt(e,!0),{className:T,d:UI(o,a,u,c,f)})))},ere=["option","shapeType","propTransformer","activeClassName","isActive"];function tre(t,e){if(t==null)return{};var n,r,i=nre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return(e=ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=ore(t,"string");return typeof e=="symbol"?e:e+""}function ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sre(t,e){return Of(Of({},e),t)}function are(t,e){return t==="symbols"}function $I(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(qN,n);case"trapezoid":return b.createElement(Zne,n);case"sector":return b.createElement(zN,n);case"symbols":if(are(e))return b.createElement(k0,n);break;default:return null}}function lre(t){return b.isValidElement(t)?t.props:t}function ure(t){var{option:e,shapeType:n,propTransformer:r=sre,activeClassName:i="recharts-active-shape",isActive:o}=t,a=tre(t,ere),u;if(b.isValidElement(e))u=b.cloneElement(e,Of(Of({},a),lre(e)));else if(typeof e=="function")u=e(a);else if(Xne(e)&&typeof e!="boolean"){var c=r(e,a);u=b.createElement($I,{shapeType:n,elementProps:c})}else{var f=a;u=b.createElement($I,{shapeType:n,elementProps:f})}return o?b.createElement(yn,{className:i},u):u}var cre=(t,e)=>{var n=At();return(r,i)=>o=>{t?.(r,i,o),n(bR({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},dre=t=>{var e=At();return(n,r)=>i=>{t?.(n,r,i),e(eee())}},fre=(t,e)=>{var n=At();return(r,i)=>o=>{t?.(r,i,o),n(tee({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function dw(t){var{fn:e,args:n}=t,r=At(),i=Hn();return b.useEffect(()=>{if(!i){var o=e(n);return r(XZ(o)),()=>{r(QZ(o))}}},[e,n,r,i]),null}var iD=()=>{};function oD(t){var{legendPayload:e}=t,n=At(),r=Hn();return b.useEffect(()=>r?iD:(n(ON(e)),()=>{n(LN(e))}),[n,r,e]),null}function pre(t){var{legendPayload:e}=t,n=At(),r=Ie(et);return b.useEffect(()=>r!=="centric"&&r!=="radial"?iD:(n(ON(e)),()=>{n(LN(e))}),[n,r,e]),null}function fw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(bu(e)),r=b.useRef(t);return r.current!==t&&(n.current=bu(e),r.current=t),n.current}var my,hre=()=>{var[t]=b.useState(()=>bu("uid-"));return t},mre=(my=HO.useId)!==null&&my!==void 0?my:hre;function gre(t,e){var n=mre();return e||(t?"".concat(t,"-").concat(n):n)}var yre=b.createContext(void 0),pw=t=>{var{id:e,type:n,children:r}=t,i=gre("recharts-".concat(n),e);return b.createElement(yre.Provider,{value:i},r(i))},vre={cartesianItems:[],polarItems:[]},sD=dr({name:"graphicalItems",initialState:vre,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ui(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ui(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ui(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:xre,replaceCartesianGraphicalItem:wre,removeCartesianGraphicalItem:Sre,addPolarGraphicalItem:Cre,removePolarGraphicalItem:Tre}=sD.actions,Ere=sD.reducer;function aD(t){var e=At(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?e(xre(t)):n.current!==t&&e(wre({prev:n.current,next:t})),n.current=t},[e,t]),b.useEffect(()=>()=>{n.current&&(e(Sre(n.current)),n.current=null)},[e]),null}function bre(t){var e=At();return b.useEffect(()=>(e(Cre(t)),()=>{e(Tre(t))}),[e,t]),null}function _re(){}var Ire={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BI={t:0},gy={t:1};function hw(t){var e=Gn(t,Ire),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=WN("JavascriptAnimate",e.animationManager),[g,y]=b.useState(n?BI:gy),w=b.useRef(null);return b.useEffect(()=>{n||y(gy)},[n]),b.useEffect(()=>{if(!n||!r)return _re;var C=VN(BI,gy,$N(o),i,y,h.getTimeoutController()),T=()=>{w.current=C()};return h.start([c,a,T,i,u]),()=>{h.stop(),w.current&&w.current(),u()}},[n,r,i,o,a,c,u,h]),f(g.t)}var Are=["onMouseEnter","onClick","onMouseLeave"],Pre=["id"],kre=["id"];function mw(t,e){if(t==null)return{};var n,r,i=Nre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zi.apply(null,arguments)}function Ore(t){var e=b.useMemo(()=>ep(t.children,Dp),[t.children]),n=Ie(r=>Gne(r,t.id,e));return n==null?null:b.createElement(pre,{legendPayload:n})}function Lre(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:u,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:r?.map(h=>h.tooltipPayload),positions:r?.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:tl(u,e),hide:c,type:f,color:a,unit:""}}}var Fre=(t,e)=>t>e?"start":t<e?"end":"middle",Ure=(t,e,n)=>typeof e=="function"?e(t):br(e,n,n*.8),jre=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,u=bN(o,a),c=i+br(t.cx,o,o/2),f=r+br(t.cy,a,a/2),h=br(t.innerRadius,u,0),g=Ure(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:g,maxRadius:y}},$re=(t,e)=>{var n=_n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Bre=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ye("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(Na,zi({},e,{type:"linear",className:n}))},Vre=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var i=Ye("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return b.createElement(Op,zi({},e,{alignmentBaseline:"middle",className:i}),r)};function Wre(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var u=hi(n),c=vt(i,!1),f=vt(o,!1),h=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,g=e.map((y,w)=>{var C=(y.startAngle+y.endAngle)/2,T=Wt(y.cx,y.cy,y.outerRadius+h,C),_=Nt(Nt(Nt(Nt({},u),y),{},{stroke:"none"},c),{},{index:w,textAnchor:Fre(T.x,y.cx)},T),I=Nt(Nt(Nt(Nt({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:w,points:[Wt(y.cx,y.cy,y.outerRadius,C),T],key:"line"});return b.createElement(yn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},o&&Bre(o,I),Vre(i,_,ft(y,a)))});return b.createElement(yn,{className:"recharts-pie-labels"},g)}function lD(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,a=Ie(Ha),{onMouseEnter:u,onClick:c,onMouseLeave:f}=i,h=mw(i,Are),g=cre(u,i.dataKey),y=dre(f),w=fre(c,i.dataKey);return e==null?null:b.createElement(b.Fragment,null,e.map((C,T)=>{if(C?.startAngle===0&&C?.endAngle===0&&e.length!==1)return null;var _=n&&String(T)===a,I=a?r:null,A=_?n:I,k=Nt(Nt({},C),{},{stroke:C.stroke,tabIndex:-1,[kN]:T,[NN]:i.dataKey});return b.createElement(yn,zi({tabIndex:-1,className:"recharts-pie-sector"},b0(h,C,T),{onMouseEnter:g(C,T),onMouseLeave:y(C,T),onClick:w(C,T),key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(T)}),b.createElement(ure,zi({option:A,isActive:_,shapeType:"sector"},k)))}),b.createElement(Wre,{sectors:e,props:i,showLabels:o}))}function qre(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:g}=n,y=Math.abs(n.minAngle),w=$re(u,c),C=Math.abs(w),T=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,_=r.filter(R=>ft(R,f,0)!==0).length,I=(C>=360?_:_-1)*T,A=C-_*y-I,k=r.reduce((R,O)=>{var j=ft(O,f,0);return R+(ge(j)?j:0)},0),M;if(k>0){var N;M=r.map((R,O)=>{var j=ft(R,f,0),W=ft(R,h,O),K=jre(n,o,R),G=(ge(j)?j:0)/k,Y,ie=Nt(Nt({},R),i&&i[O]&&i[O].props);O?Y=N.endAngle+_n(w)*T*(j!==0?1:0):Y=u;var ce=Y+_n(w)*((j!==0?y:0)+G*A),de=(Y+ce)/2,pe=(K.innerRadius+K.outerRadius)/2,be=[{name:W,value:j,payload:ie,dataKey:f,type:g}],Q=Wt(K.cx,K.cy,pe,de);return N=Nt(Nt(Nt(Nt({},n.presentationProps),{},{percent:G,cornerRadius:a,name:W,tooltipPayload:be,midAngle:de,middleRadius:pe,tooltipPosition:Q},ie),K),{},{value:ft(R,f),startAngle:Y,endAngle:ce,payload:ie,paddingAngle:_n(w)*T}),N})}return M}function Hre(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:u,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=e,y=fw(e,"recharts-pie-"),w=n.current,[C,T]=b.useState(!0),_=b.useCallback(()=>{typeof g=="function"&&g(),T(!1)},[g]),I=b.useCallback(()=>{typeof h=="function"&&h(),T(!0)},[h]);return b.createElement(hw,{begin:o,duration:a,isActive:i,easing:u,onAnimationStart:I,onAnimationEnd:_,key:y},A=>{var k=[],M=r&&r[0],N=M.startAngle;return r.forEach((R,O)=>{var j=w&&w[O],W=O>0?Bo(R,"paddingAngle",0):0;if(j){var K=gE(j.endAngle-j.startAngle,R.endAngle-R.startAngle),G=Nt(Nt({},R),{},{startAngle:N+W,endAngle:N+K(A)+W});k.push(G),N=G.endAngle}else{var{endAngle:Y,startAngle:ie}=R,ce=gE(0,Y-ie),de=ce(A),pe=Nt(Nt({},R),{},{startAngle:N+W,endAngle:N+de+W});k.push(pe),N=pe.endAngle}}),n.current=k,b.createElement(yn,null,b.createElement(lD,{sectors:k,activeShape:c,inactiveShape:f,allOtherPieProps:e,showLabels:!C}))})}function Gre(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=b.useRef(null),a=o.current;return n&&e&&e.length&&(!a||a!==e)?b.createElement(Hre,{props:t,previousSectorsRef:o}):b.createElement(lD,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function zre(t){var{hide:e,className:n,rootTabIndex:r}=t,i=Ye("recharts-pie",n);return e?null:b.createElement(yn,{tabIndex:r,className:i},b.createElement(Gre,t))}var Kre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Yre(t){var{id:e}=t,n=mw(t,Pre),r=b.useMemo(()=>ep(t.children,Dp),[t.children]),i=Ie(o=>zne(o,e,r));return b.createElement(b.Fragment,null,b.createElement(dw,{fn:Lre,args:Nt(Nt({},t),{},{sectors:i})}),b.createElement(zre,zi({},n,{sectors:i})))}function uD(t){var e=Gn(t,Kre),{id:n}=e,r=mw(e,kre),i=hi(r);return b.createElement(pw,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(bre,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),b.createElement(Ore,zi({},r,{id:o})),b.createElement(Yre,zi({},r,{id:o})),r.children))}uD.displayName="Pie";var Jre=H([ln],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xre=H([Jre,Xi,Qi],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Lp=()=>Ie(Xre),Qre=()=>Ie(Vee);function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a=qI(qI({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},vt(i,!1)),E0(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,a):typeof i=="function"?u=i(a):u=b.createElement(sw,a),b.createElement(yn,{className:"recharts-active-dot"},u)};function Mv(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=Ie(Ha),a=Qre();if(e==null||a==null)return null;var u=e.find(c=>a.includes(c.payload));return Ut(u)?null:nie({point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var rie={},cD=dr({name:"errorBars",initialState:rie,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Kle,removeErrorBar:Yle}=cD.actions,iie=cD.reducer,oie=["children"];function sie(t,e){if(t==null)return{};var n,r,i=aie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uie=b.createContext(lie);function cie(t){var{children:e}=t,n=sie(t,oie);return b.createElement(uie.Provider,{value:n},e)}function gw(t,e){var n,r,i=Ie(f=>eo(f,t)),o=Ie(f=>Go(f,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:er.allowDataOverflow,u=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:tr.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function dD(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Lp(),{needClipX:o,needClipY:a,needClip:u}=gw(e,n);if(!u)return null;var{x:c,y:f,width:h,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?c:c-h/2,y:a?f:f-g/2,width:o?h:h*2,height:a?g:g*2}))}var fD=t=>{var{chartData:e}=t,n=At(),r=Hn();return b.useEffect(()=>r?()=>{}:(n(oI(e)),()=>{n(oI(void 0))}),[e,n,r]),null},HI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pD=dr({name:"brush",initialState:HI,reducers:{setBrushSettings(t,e){return e.payload==null?HI:e.payload}}}),{setBrushSettings:Jle}=pD.actions,die=pD.reducer;function fie(t,e,n){return(e=pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yw{static create(e){return new yw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}fie(yw,"EPS",1e-4);function mie(t){return(t%180+180)%180}var gie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=mie(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},yie={dots:[],areas:[],lines:[]},hD=dr({name:"referenceElements",initialState:yie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ui(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ui(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ui(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Xle,removeDot:Qle,addArea:Zle,removeArea:eue,addLine:tue,removeLine:nue}=hD.actions,vie=hD.reducer,xie=b.createContext(void 0),wie=t=>{var{children:e}=t,[n]=b.useState("".concat(bu("recharts"),"-clip")),r=Lp();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return b.createElement(xie.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function yy(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function mD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return gie(r,n)}function Cie(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Lf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Tie(t,e){return mD(t,e+1)}function Eie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,f=1,h=a,g=function(){var C=r?.[c];if(C===void 0)return{v:mD(r,f)};var T=c,_,I=()=>(_===void 0&&(_=n(C,T)),_),A=C.coordinate,k=c===0||Lf(t,A,I,h,u);k||(c=0,h=a,f+=1),k&&(h=A+t*(I()/2+i),c+=f)},y;f<=o.length;)if(y=g(),y)return y.v;return[]}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=Iie(t,"string");return typeof e=="symbol"?e:e+""}function Iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aie(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,f=function(y){var w=o[y],C,T=()=>(C===void 0&&(C=n(w,y)),C);if(y===a-1){var _=t*(w.coordinate+t*T()/2-c);o[y]=w=Tn(Tn({},w),{},{tickCoord:_>0?w.coordinate-_*t:w.coordinate})}else o[y]=w=Tn(Tn({},w),{},{tickCoord:w.coordinate});var I=Lf(t,w.tickCoord,T,u,c);I&&(c=w.tickCoord-t*(T()/2+i),o[y]=Tn(Tn({},w),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return o}function Pie(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:f}=e;if(o){var h=r[u-1],g=n(h,u-1),y=t*(h.coordinate+t*g/2-f);a[u-1]=h=Tn(Tn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var w=Lf(t,h.tickCoord,()=>g,c,f);w&&(f=h.tickCoord-t*(g/2+i),a[u-1]=Tn(Tn({},h),{},{isShow:!0}))}for(var C=o?u-1:u,T=function(A){var k=a[A],M,N=()=>(M===void 0&&(M=n(k,A)),M);if(A===0){var R=t*(k.coordinate-t*N()/2-c);a[A]=k=Tn(Tn({},k),{},{tickCoord:R<0?k.coordinate-R*t:k.coordinate})}else a[A]=k=Tn(Tn({},k),{},{tickCoord:k.coordinate});var O=Lf(t,k.tickCoord,N,c,f);O&&(c=k.tickCoord+t*(N()/2+i),a[A]=Tn(Tn({},k),{},{isShow:!0}))},_=0;_<C;_++)T(_);return a}function vw(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:f,unit:h,angle:g}=t;if(!i||!i.length||!r)return[];if(ge(c)||Vs.isSsr){var y;return(y=Tie(i,ge(c)?c:0))!==null&&y!==void 0?y:[]}var w=[],C=u==="top"||u==="bottom"?"width":"height",T=h&&C==="width"?yu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(k,M)=>{var N=typeof f=="function"?f(k.value,M):k.value;return C==="width"?Sie(yu(N,{fontSize:e,letterSpacing:n}),T,g):yu(N,{fontSize:e,letterSpacing:n})[C]},I=i.length>=2?_n(i[1].coordinate-i[0].coordinate):1,A=Cie(o,I,C);return c==="equidistantPreserveStart"?Eie(I,A,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?w=Pie(I,A,_,i,a,c==="preserveStartEnd"):w=Aie(I,A,_,i,a),w.filter(k=>k.isShow))}var kie=["viewBox"],Nie=["viewBox"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(null,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KI(t,e){if(t==null)return{};var n,r,i=Mie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xw(t,e,n){return(e=Rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rie(t){var e=Die(t,"string");return typeof e=="symbol"?e:e+""}function Die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zo extends b.Component{constructor(e){super(e),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=KI(e,kie),o=this.props,{viewBox:a}=o,u=KI(o,Nie);return!yy(r,a)||!yy(i,u)||!yy(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:u,mirror:c,tickMargin:f}=this.props,h,g,y,w,C,T,_=c?-1:1,I=e.tickSize||u,A=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":h=g=e.coordinate,w=r+ +!c*o,y=w-_*I,T=y-_*f,C=A;break;case"left":y=w=e.coordinate,g=n+ +!c*i,h=g-_*I,C=h-_*f,T=A;break;case"right":y=w=e.coordinate,g=n+ +c*i,h=g+_*I,C=h+_*f,T=A;break;default:h=g=e.coordinate,w=r+ +c*o,y=w+_*I,T=y+_*f,C=A;break}return{line:{x1:h,y1:y,x2:g,y2:w},tick:{x:C,y:T}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u}=this.props,c=Kt(Kt(Kt({},vt(this.props,!1)),vt(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!a||o==="bottom"&&a);c=Kt(Kt({},c),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(o==="left"&&!a||o==="right"&&a);c=Kt(Kt({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return b.createElement("line",Ca({},c,{className:Ye("recharts-cartesian-axis-line",Bo(u,"className"))}))}static renderTickItem(e,n,r){var i,o=Ye(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,Kt(Kt({},n),{},{className:o}));else if(typeof e=="function")i=e(Kt(Kt({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ye(a,e.className)),i=b.createElement(Op,Ca({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:u,unit:c,padding:f}=this.props,h=vw(Kt(Kt({},this.props),{},{ticks:r}),e,n),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=hi(this.props),C=vt(a,!1),T=Kt(Kt({},w),{},{fill:"none"},vt(i,!1)),_=h.map((I,A)=>{var{line:k,tick:M}=this.getTickLineCoord(I),N=Kt(Kt(Kt(Kt({textAnchor:g,verticalAnchor:y},w),{},{stroke:"none",fill:o},C),M),{},{index:A,payload:I,visibleTicksCount:h.length,tickFormatter:u,padding:f});return b.createElement(yn,Ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},b0(this.props,I,A)),i&&b.createElement("line",Ca({},T,k,{className:Ye("recharts-cartesian-axis-tick-line",Bo(i,"className"))})),a&&zo.renderTickItem(a,N,"".concat(typeof u=="function"?u(I.value,A):I.value).concat(c||"")))});return _.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:b.createElement(yn,{className:Ye("recharts-cartesian-axis",i),ref:u=>{if(u){var c=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var f=c[0];if(f){var h=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ir.renderCallByParent(this.props))}}xw(zo,"displayName","CartesianAxis");xw(zo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Oie=["x1","y1","x2","y2","key"],Lie=["offset"],Fie=["xAxisId","yAxisId"],Uie=["xAxisId","yAxisId"];function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Bie(t,"string");return typeof e=="symbol"?e:e+""}function Bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(null,arguments)}function Ff(t,e){if(t==null)return{};var n,r,i=Vie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:u}=t;return b.createElement("rect",{x:r,y:i,ry:u,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gD(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:u}=e,c=Ff(e,Oie),f=hi(c),{offset:h}=f,g=Ff(f,Lie);n=b.createElement("line",vs({},g,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:u}))}return n}function qie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=Ff(t,Fie),c=i.map((f,h)=>{var g=En(En({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return gD(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Hie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=Ff(t,Uie),c=i.map((f,h)=>{var g=En(En({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return gD(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Gie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:u,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var w=!f[y+1],C=w?i+a-g:f[y+1]-g;if(C<=0)return null;var T=y%e.length;return b.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:C,width:o,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function zie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:u,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var w=!f[y+1],C=w?i+a-g:f[y+1]-g;if(C<=0)return null;var T=y%n.length;return b.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:C,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Kie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return IN(vw(En(En(En({},zo.defaultProps),n),{},{ticks:AN(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Yie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return IN(vw(En(En(En({},zo.defaultProps),n),{},{ticks:AN(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Jie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Fp(t){var e=z0(),n=K0(),r=RN(),i=En(En({},Gn(t,Jie)),{},{x:ge(t.x)?t.x:r.left,y:ge(t.y)?t.y:r.top,width:ge(t.width)?t.width:r.width,height:ge(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:u,y:c,width:f,height:h,syncWithTicks:g,horizontalValues:y,verticalValues:w}=i,C=Hn(),T=Ie(W=>J_(W,"xAxis",o,C)),_=Ie(W=>J_(W,"yAxis",a,C));if(!ge(f)||f<=0||!ge(h)||h<=0||!ge(u)||u!==+u||!ge(c)||c!==+c)return null;var I=i.verticalCoordinatesGenerator||Kie,A=i.horizontalCoordinatesGenerator||Yie,{horizontalPoints:k,verticalPoints:M}=i;if((!k||!k.length)&&typeof A=="function"){var N=y&&y.length,R=A({yAxis:_?En(En({},_),{},{ticks:N?y:_.ticks}):void 0,width:e,height:n,offset:r},N?!0:g);gu(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(k=R)}if((!M||!M.length)&&typeof I=="function"){var O=w&&w.length,j=I({xAxis:T?En(En({},T),{},{ticks:O?w:T.ticks}):void 0,width:e,height:n,offset:r},O?!0:g);gu(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(M=j)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Wie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Gie,vs({},i,{horizontalPoints:k})),b.createElement(zie,vs({},i,{verticalPoints:M})),b.createElement(qie,vs({},i,{offset:r,horizontalPoints:k,xAxis:T,yAxis:_})),b.createElement(Hie,vs({},i,{offset:r,verticalPoints:M,xAxis:T,yAxis:_})))}Fp.displayName="CartesianGrid";var yD=(t,e,n,r)=>kp(t,"xAxis",e,r),vD=(t,e,n,r)=>Pp(t,"xAxis",e,r),xD=(t,e,n,r)=>kp(t,"yAxis",n,r),wD=(t,e,n,r)=>Pp(t,"yAxis",n,r),Xie=H([et,yD,xD,vD,wD],(t,e,n,r,i)=>mi(t,"xAxis")?Au(e,r,!1):Au(n,i,!1)),Qie=(t,e,n,r,i)=>i;function Zie(t){return t.type==="line"}var eoe=H([Rx,Qie],(t,e)=>t.filter(Zie).find(n=>n.id===e)),toe=H([et,yD,xD,vD,wD,eoe,Xie,Sp],(t,e,n,r,i,o,a,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=u;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:g,data:y}=o,w;if(y!=null&&y.length>0?w=y:w=c?.slice(f,h+1),w!=null)return Coe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:a,displayedData:w})}}),noe=["id"],roe=["type","layout","connectNulls","needClip"],ioe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=aoe(t,"string");return typeof e=="symbol"?e:e+""}function aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ww(t,e){if(t==null)return{};var n,r,i=loe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(null,arguments)}var uoe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:tl(n,e),payload:t}]};function coe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:u,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:tl(a,e),hide:u,type:t.tooltipType,color:t.stroke,unit:c}}}var SD=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function doe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var foe=(t,e,n)=>{var r=n.reduce((g,y)=>g+y);if(!r)return SD(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,u=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>o){u=[...n.slice(0,c),o-f];break}var h=u.length%2===0?[0,a]:[a];return[...doe(n,i),...u,...h].map(g=>"".concat(g,"px")).join(", ")};function poe(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ye("recharts-line-dot",typeof t!="boolean"?t.className:"");n=b.createElement(sw,Os({},e,{className:r}))}return n}function hoe(t,e){return t==null?!1:e?!0:t.length===1}function moe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r;if(!hoe(n,i))return null;var{id:u}=r,c=ww(r,noe),f=tp(i),h=hi(c),g=vt(i,!0),y=n.map((C,T)=>{var _=Br(Br(Br({key:"dot-".concat(T),r:3},h),g),{},{index:T,cx:C.x,cy:C.y,dataKey:o,value:C.value,payload:C.payload,points:n});return poe(i,_)}),w={clipPath:a?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return b.createElement(yn,Os({className:"recharts-line-dots",key:"dots"},w),y)}function Rv(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o,showLabels:a}=t,{type:u,layout:c,connectNulls:f,needClip:h}=o,g=ww(o,roe),y=Br(Br({},vt(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:c,connectNulls:f,strokeDasharray:i??o.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(Na,Os({},y,{pathRef:n})),b.createElement(moe,{points:r,clipPathId:e,props:o}),a&&Lo.renderCallByParent(o,r))}function goe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yoe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:y,width:w,height:C,onAnimationEnd:T,onAnimationStart:_}=n,I=i.current,A=fw(n,"recharts-line-"),[k,M]=b.useState(!1),N=b.useCallback(()=>{typeof T=="function"&&T(),M(!1)},[T]),R=b.useCallback(()=>{typeof _=="function"&&_(),M(!0)},[_]),O=goe(r.current),j=o.current;return b.createElement(hw,{begin:f,duration:h,isActive:c,easing:g,onAnimationEnd:N,onAnimationStart:R,key:A},W=>{var K=$r(j,O+j,W),G=Math.min(K,O),Y;if(u){var ie="".concat(u).split(/[,\s]+/gim).map(pe=>parseFloat(pe));Y=foe(G,O,ie)}else Y=SD(O,G);if(I){var ce=I.length/a.length,de=W===1?a:a.map((pe,be)=>{var Q=Math.floor(be*ce);if(I[Q]){var se=I[Q];return Br(Br({},pe),{},{x:$r(se.x,pe.x,W),y:$r(se.y,pe.y,W)})}return y?Br(Br({},pe),{},{x:$r(w*2,pe.x,W),y:$r(C/2,pe.y,W)}):Br(Br({},pe),{},{x:pe.x,y:pe.y})});return i.current=de,b.createElement(Rv,{props:n,points:de,clipPathId:e,pathRef:r,showLabels:!k,strokeDasharray:Y})}return W>0&&O>0&&(i.current=a,o.current=G),b.createElement(Rv,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!k,strokeDasharray:Y})})}function voe(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,o=b.useRef(null),a=b.useRef(0),u=b.useRef(null),c=o.current;return i&&r&&r.length&&c!==r?b.createElement(yoe,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:a,pathRef:u}):b.createElement(Rv,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var xoe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:ft(t.payload,e)});class woe extends b.Component{render(){var e,{hide:n,dot:r,points:i,className:o,xAxisId:a,yAxisId:u,top:c,left:f,width:h,height:g,id:y,needClip:w}=this.props;if(n)return null;var C=Ye("recharts-line",o),T=y,{r:_=3,strokeWidth:I=2}=(e=vt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},A=tp(r),k=_*2+I;return b.createElement(b.Fragment,null,b.createElement(yn,{className:C},w&&b.createElement("defs",null,b.createElement(dD,{clipPathId:T,xAxisId:a,yAxisId:u}),!A&&b.createElement("clipPath",{id:"clipPath-dots-".concat(T)},b.createElement("rect",{x:f-k/2,y:c-k/2,width:h+k,height:g+k}))),b.createElement(voe,{props:this.props,clipPathId:T}),b.createElement(cie,{xAxisId:a,yAxisId:u,data:i,dataPointFormatter:xoe,errorBarOffset:0},this.props.children)),b.createElement(Mv,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Vs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Soe(t){var e=Gn(t,CD),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:u,dot:c,hide:f,isAnimationActive:h,label:g,legendType:y,xAxisId:w,yAxisId:C,id:T}=e,_=ww(e,ioe),{needClip:I}=gw(w,C),A=Lp(),k=hp(),M=Hn(),N=Ie(K=>toe(K,w,C,M,T));if(k!=="horizontal"&&k!=="vertical"||N==null||A==null)return null;var{height:R,width:O,x:j,y:W}=A;return b.createElement(woe,Os({},_,{id:T,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:h,hide:f,label:g,legendType:y,xAxisId:w,yAxisId:C,points:N,layout:k,height:R,width:O,left:j,top:W,needClip:I}))}function Coe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:u,displayedData:c}=t;return c.map((f,h)=>{var g=ft(f,a);if(e==="horizontal"){var y=mf({axis:n,ticks:i,bandSize:u,entry:f,index:h}),w=Ut(g)?null:r.scale(g);return{x:y,y:w,value:g,payload:f}}var C=Ut(g)?null:n.scale(g),T=mf({axis:r,ticks:o,bandSize:u,entry:f,index:h});return C==null||T==null?null:{x:C,y:T,value:g,payload:f}}).filter(Boolean)}function Sw(t){var e=Gn(t,CD),n=Hn();return b.createElement(pw,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(oD,{legendPayload:uoe(e)}),b.createElement(dw,{fn:coe,args:e}),b.createElement(aD,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(Soe,Os({},e,{id:r}))))}Sw.displayName="Line";var TD=(t,e,n,r)=>kp(t,"xAxis",e,r),ED=(t,e,n,r)=>Pp(t,"xAxis",e,r),bD=(t,e,n,r)=>kp(t,"yAxis",n,r),_D=(t,e,n,r)=>Pp(t,"yAxis",n,r),Toe=H([et,TD,bD,ED,_D],(t,e,n,r,i)=>mi(t,"xAxis")?Au(e,r,!1):Au(n,i,!1)),Eoe=(t,e,n,r,i)=>i,ID=H([Rx,Eoe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),boe=(t,e,n,r,i)=>{var o,a=ID(t,e,n,r,i);if(a!=null){var u=et(t),c=mi(u,"xAxis"),f;if(c?f=bv(t,"yAxis",n,r):f=bv(t,"xAxis",e,r),f!=null){var{stackId:h}=a,g=Px(a);if(!(h==null||g==null)){var y=(o=f[h])===null||o===void 0?void 0:o.stackedData;return y?.find(w=>w.key===g)}}}},_oe=H([et,TD,bD,ED,_D,boe,Sp,Toe,ID],(t,e,n,r,i,o,a,u,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:y}=c,w;if(y&&y.length>0?w=y:w=f?.slice(h,g+1),w!=null){var C=void 0;return Goe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:o,displayedData:w,chartBaseValue:C,bandSize:u})}}}),Ioe=["id"],Aoe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function AD(t,e){if(t==null)return{};var n,r,i=Poe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$i.apply(null,arguments)}function Uf(t,e){return t&&t!=="none"?t:e}var Roe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:a}=t;return[{inactive:a,dataKey:e,type:o,color:Uf(r,i),value:tl(n,e),payload:t}]};function Doe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:u,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:tl(a,e),hide:u,type:t.tooltipType,color:Uf(r,o),unit:c}}}var Ooe=(t,e)=>{var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ye("recharts-area-dot",typeof t!="boolean"?t.className:"");n=b.createElement(sw,$i({},e,{className:r}))}return n};function Loe(t,e){return t==null?!1:e?!0:t.length===1}function Foe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:a}=r;if(!Loe(n,o))return null;var u=tp(o),c=hi(r),f=vt(o,!0),h=n.map((y,w)=>{var C=xs(xs(xs({key:"dot-".concat(w),r:3},c),f),{},{index:w,cx:y.x,cy:y.y,dataKey:a,value:y.value,payload:y.payload,points:n});return Ooe(o,C)}),g={clipPath:i?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return b.createElement(yn,$i({className:"recharts-area-dots"},g),h)}function Dv(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o,showLabels:a}=t,{layout:u,type:c,stroke:f,connectNulls:h,isRange:g}=o,{id:y}=o,w=AD(o,Ioe),C=hi(w);return b.createElement(b.Fragment,null,e?.length>1&&b.createElement(yn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(Na,$i({},C,{id:y,points:e,connectNulls:h,type:c,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(Na,$i({},C,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:e})),f!=="none"&&g&&b.createElement(Na,$i({},C,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:n}))),b.createElement(Foe,{points:e,props:w,clipPathId:i}),a&&Lo.renderCallByParent(w,e))}function Uoe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,a=r[r.length-1].y;if(!Mn(o)||!Mn(a))return null;var u=e*Math.abs(o-a),c=Math.max(...r.map(f=>f.x||0));return ge(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(f=>f.x||0),c)),ge(c)?b.createElement("rect",{x:0,y:o<a?o:o-u,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function joe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,a=r[r.length-1].x;if(!Mn(o)||!Mn(a))return null;var u=e*Math.abs(o-a),c=Math.max(...r.map(f=>f.y||0));return ge(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(f=>f.y||0),c)),ge(c)?b.createElement("rect",{x:o<a?o:o-u,y:0,width:u,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function $oe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?b.createElement(Uoe,{alpha:e,points:r,baseLine:i,strokeWidth:o}):b.createElement(joe,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Boe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:a,baseLine:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:y,onAnimationEnd:w}=r,C=fw(r,"recharts-area-"),[T,_]=b.useState(!0),I=b.useCallback(()=>{typeof w=="function"&&w(),_(!1)},[w]),A=b.useCallback(()=>{typeof y=="function"&&y(),_(!0)},[y]),k=i.current,M=o.current;return b.createElement(hw,{begin:f,duration:h,isActive:c,easing:g,onAnimationEnd:I,onAnimationStart:A,key:C},N=>{if(k){var R=k.length/a.length,O=N===1?a:a.map((W,K)=>{var G=Math.floor(K*R);if(k[G]){var Y=k[G];return xs(xs({},W),{},{x:$r(Y.x,W.x,N),y:$r(Y.y,W.y,N)})}return W}),j;return ge(u)?j=$r(M,u,N):Ut(u)||ur(u)?j=$r(M,0,N):j=u.map((W,K)=>{var G=Math.floor(K*R);if(Array.isArray(M)&&M[G]){var Y=M[G];return xs(xs({},W),{},{x:$r(Y.x,W.x,N),y:$r(Y.y,W.y,N)})}return W}),N>0&&(i.current=O,o.current=j),b.createElement(Dv,{points:O,baseLine:j,needClip:e,clipPathId:n,props:r,showLabels:!T})}return N>0&&(i.current=a,o.current=u),b.createElement(yn,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement($oe,{alpha:N,points:a,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),b.createElement(yn,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(Dv,{points:a,baseLine:u,needClip:e,clipPathId:n,props:r,showLabels:!0})))})}function Voe(t){var{needClip:e,clipPathId:n,props:r}=t,{points:i,baseLine:o,isAnimationActive:a}=r,u=b.useRef(null),c=b.useRef(),f=u.current,h=c.current;return a&&i&&i.length&&(f!==i||h!==o)?b.createElement(Boe,{needClip:e,clipPathId:n,props:r,previousPointsRef:u,previousBaselineRef:c}):b.createElement(Dv,{points:i,baseLine:o,needClip:e,clipPathId:n,props:r,showLabels:!0})}class Woe extends b.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:o,top:a,left:u,needClip:c,xAxisId:f,yAxisId:h,width:g,height:y,id:w,baseLine:C}=this.props;if(n)return null;var T=Ye("recharts-area",o),_=w,{r:I=3,strokeWidth:A=2}=(e=vt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},k=tp(r),M=I*2+A;return b.createElement(b.Fragment,null,b.createElement(yn,{className:T},c&&b.createElement("defs",null,b.createElement(dD,{clipPathId:_,xAxisId:f,yAxisId:h}),!k&&b.createElement("clipPath",{id:"clipPath-dots-".concat(_)},b.createElement("rect",{x:u-M/2,y:a-M/2,width:g+M,height:y+M}))),b.createElement(Voe,{needClip:c,clipPathId:_,props:this.props})),b.createElement(Mv,{points:i,mainColor:Uf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(C)&&b.createElement(Mv,{points:C,mainColor:Uf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var PD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Vs.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function qoe(t){var e,n=Gn(t,PD),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:u,dot:c,fill:f,fillOpacity:h,hide:g,isAnimationActive:y,legendType:w,stroke:C,xAxisId:T,yAxisId:_}=n,I=AD(n,Aoe),A=hp(),k=jR(),{needClip:M}=gw(T,_),N=Hn(),{points:R,isRange:O,baseLine:j}=(e=Ie(ce=>_oe(ce,T,_,N,t.id)))!==null&&e!==void 0?e:{},W=Lp();if(A!=="horizontal"&&A!=="vertical"||W==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:K,width:G,x:Y,y:ie}=W;return!R||!R.length?null:b.createElement(Woe,$i({},I,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,baseLine:j,connectNulls:u,dot:c,fill:f,fillOpacity:h,height:K,hide:g,layout:A,isAnimationActive:y,isRange:O,legendType:w,needClip:M,points:R,stroke:C,width:G,left:Y,top:ie,xAxisId:T,yAxisId:_}))}var Hoe=(t,e,n,r,i)=>{var o=n??e;if(ge(o))return o;var a=t==="horizontal"?i:r,u=a.scale.domain();if(a.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function Goe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:a,xAxis:u,yAxis:c,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:y,bandSize:w}=t,C=i&&i.length,T=Hoe(o,a,n,u,c),_=o==="horizontal",I=!1,A=f.map((M,N)=>{var R;C?R=i[h+N]:(R=ft(M,r),Array.isArray(R)?I=!0:R=[T,R]);var O=R[1]==null||C&&!e&&ft(M,r)==null;return _?{x:mf({axis:u,ticks:g,bandSize:w,entry:M,index:N}),y:O?null:c.scale(R[1]),value:R,payload:M}:{x:O?null:u.scale(R[1]),y:mf({axis:c,ticks:y,bandSize:w,entry:M,index:N}),value:R,payload:M}}),k;return C||I?k=A.map(M=>{var N=Array.isArray(M.value)?M.value[0]:null;return _?{x:M.x,y:N!=null&&M.y!=null?c.scale(N):null,payload:M.payload}:{x:N!=null?u.scale(N):null,y:M.y,payload:M.payload}}):k=_?c.scale(T):u.scale(T),{points:A,baseLine:k,isRange:I}}function Ov(t){var e=Gn(t,PD),n=Hn();return b.createElement(pw,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(oD,{legendPayload:Roe(e)}),b.createElement(dw,{fn:Doe,args:e}),b.createElement(aD,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:mK(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(qoe,$i({},e,{id:r}))))}Ov.displayName="Area";function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Joe={xAxis:{},yAxis:{},zAxis:{}},kD=dr({name:"cartesianAxis",initialState:Joe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=ZI(ZI({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Xoe,removeXAxis:Qoe,addYAxis:Zoe,removeYAxis:ese,addZAxis:rue,removeZAxis:iue,updateYAxisWidth:tse}=kD.actions,nse=kD.reducer,rse=["children"],ise=["dangerouslySetInnerHTML","ticks"];function ND(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=sse(t,"string");return typeof e=="symbol"?e:e+""}function sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(null,arguments)}function MD(t,e){if(t==null)return{};var n,r,i=ase(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lse(t){var e=At(),n=b.useMemo(()=>{var{children:o}=t,a=MD(t,rse);return a},[t]),r=Ie(o=>eo(o,n.id)),i=n===r;return b.useEffect(()=>(e(Xoe(n)),()=>{e(Qoe(n))}),[n,e]),i?t.children:null}var use=t=>{var{xAxisId:e,className:n}=t,r=Ie(MN),i=Hn(),o="xAxis",a=Ie(w=>ll(w,o,e,i)),u=Ie(w=>xR(w,o,e,i)),c=Ie(w=>LZ(w,e)),f=Ie(w=>BZ(w,e));if(c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=t,y=MD(t,ise);return b.createElement(zo,Lv({},y,{scale:a,x:f.x,y:f.y,width:c.width,height:c.height,className:Ye("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},cse=t=>{var e,n,r,i,o;return b.createElement(lse,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},b.createElement(use,t))};class oc extends b.Component{render(){return b.createElement(cse,this.props)}}ND(oc,"displayName","XAxis");ND(oc,"defaultProps",{allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,height:er.height,hide:!1,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tickCount:er.tickCount,type:er.type,xAxisId:0});var dse=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>a&&(a=g.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=a+c+u+(n?r:0);return Math.round(f)}return 0},fse=["dangerouslySetInnerHTML","ticks"];function RD(t,e,n){return(e=pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pse(t){var e=hse(t,"string");return typeof e=="symbol"?e:e+""}function hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function mse(t,e){if(t==null)return{};var n,r,i=gse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yse(t){var e=At();return b.useEffect(()=>(e(Zoe(t)),()=>{e(ese(t))}),[t,e]),null}var vse=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=b.useRef(null),u=b.useRef(null),c=Ie(MN),f=Hn(),h=At(),g="yAxis",y=Ie(k=>ll(k,g,n,f)),w=Ie(k=>WZ(k,n)),C=Ie(k=>VZ(k,n)),T=Ie(k=>xR(k,g,n,f));if(b.useLayoutEffect(()=>{var k;if(!(i!=="auto"||!w||ow(o)||b.isValidElement(o))){var M=a.current,N=M==null||(k=M.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:R,tickMargin:O}=M.props,j=dse({ticks:N,label:u.current,labelGapWithTick:5,tickSize:R,tickMargin:O});Math.round(w.width)!==Math.round(j)&&h(tse({id:n,width:j}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,w?.width,w,h,o,n,i]),w==null||C==null)return null;var{dangerouslySetInnerHTML:_,ticks:I}=t,A=mse(t,fse);return b.createElement(zo,Fv({},A,{ref:a,labelRef:u,scale:y,x:C.x,y:C.y,width:w.width,height:w.height,className:Ye("recharts-".concat(g," ").concat(g),r),viewBox:c,ticks:T}))},xse=t=>{var e,n,r,i,o;return b.createElement(b.Fragment,null,b.createElement(yse,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),b.createElement(vse,t))},wse={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,hide:!1,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tickCount:tr.tickCount,type:tr.type,width:tr.width,yAxisId:0};class sc extends b.Component{render(){return b.createElement(xse,this.props)}}RD(sc,"displayName","YAxis");RD(sc,"defaultProps",wse);var vy={exports:{}},xy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function Sse(){if(eA)return xy;eA=1;var t=Ga();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return xy.useSyncExternalStoreWithSelector=function(c,f,h,g,y){var w=i(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=a(function(){function _(N){if(!I){if(I=!0,A=N,N=g(N),y!==void 0&&C.hasValue){var R=C.value;if(y(R,N))return k=R}return k=N}if(R=k,n(A,N))return R;var O=g(N);return y!==void 0&&y(R,O)?(A=N,R):(A=N,k=O)}var I=!1,A,k,M=h===void 0?null:h;return[function(){return _(f())},M===null?void 0:function(){return _(M())}]},[f,h,g,y]);var T=r(c,w[0],w[1]);return o(function(){C.hasValue=!0,C.value=T},[T]),u(T),T},xy}var tA;function Cse(){return tA||(tA=1,vy.exports=Sse()),vy.exports}Cse();function Tse(t){t()}function Ese(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var nA={notify(){},get:()=>[]};function bse(t,e){let n,r=nA,i=0,o=!1;function a(T){h();const _=r.subscribe(T);let I=!1;return()=>{I||(I=!0,_(),g())}}function u(){r.notify()}function c(){C.onStateChange&&C.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=Ese())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=nA)}function y(){o||(o=!0,h())}function w(){o&&(o=!1,g())}const C={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return C}var _se=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ise=_se(),Ase=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pse=Ase(),kse=()=>Ise||Pse?b.useLayoutEffect:b.useEffect,Nse=kse(),Mse=Symbol.for("react-redux-context"),Rse=typeof globalThis<"u"?globalThis:{};function Dse(){if(!b.createContext)return{};const t=Rse[Mse]??=new Map;let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Ose=Dse();function Lse(t){const{children:e,context:n,serverState:r,store:i}=t,o=b.useMemo(()=>{const c=bse(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=b.useMemo(()=>i.getState(),[i]);Nse(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||Ose;return b.createElement(u.Provider,{value:o},e)}var Fse=Lse,Use=(t,e)=>e,Cw=H([Use,et,KM,Qt,DR,to,Kee,ln],Zee),Tw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},DD=Ir("mouseClick"),OD=zu();OD.startListening({actionCreator:DD,effect:(t,e)=>{var n=t.payload,r=Cw(e.getState(),Tw(n));r?.activeIndex!=null&&e.dispatch(nee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Uv=Ir("mouseMove"),LD=zu();LD.startListening({actionCreator:Uv,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Yx(r,r.tooltip.settings.shared),o=Cw(r,Tw(n));i==="axis"&&(o?.activeIndex!=null?e.dispatch(IR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(_R()))}});function jse(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var rA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},FD=dr({name:"rootProps",initialState:rA,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:rA.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),$se=FD.reducer,{updateOptions:Bse}=FD.actions,UD=dr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Vse}=UD.actions,Wse=UD.reducer,jD=Ir("keyDown"),$D=Ir("focus"),Ew=zu();Ew.startListening({actionCreator:jD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(Jx(i,cl(n))),u=to(n);if(o==="Enter"){var c=Mf(n,"axis","hover",String(i.index));e.dispatch(Iv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=zZ(n),h=f==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,y=a+g*h;if(!(u==null||y>=u.length||y<0)){var w=Mf(n,"axis","hover",String(y));e.dispatch(Iv({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Ew.startListening({actionCreator:$D,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Mf(n,"axis","hover",String(o));e.dispatch(Iv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Sr=Ir("externalEvent"),BD=zu();BD.startListening({actionCreator:Sr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:jee(n),activeDataKey:Fee(n),activeIndex:Ha(n),activeLabel:FR(n),activeTooltipIndex:Ha(n),isTooltipActive:$ee(n)};t.payload.handler(r,t.payload.reactEvent)}}});var qse=H([ul],t=>t.tooltipItemPayloads),Hse=H([qse,rc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),VD=Ir("touchMove"),WD=zu();WD.startListening({actionCreator:VD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Yx(r,r.tooltip.settings.shared);if(i==="axis"){var o=Cw(r,Tw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(IR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(kN),h=(a=c.getAttribute(NN))!==null&&a!==void 0?a:void 0,g=Hse(e.getState(),f,h);e.dispatch(bR({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}});var Gse=nN({brush:die,cartesianAxis:nse,chartData:mte,errorBars:iie,graphicalItems:Ere,layout:Y9,legend:DK,options:cte,polarAxis:$ne,polarOptions:Wse,referenceElements:vie,rootProps:$se,tooltip:ree}),zse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return w9({reducer:Gse,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([OD.middleware,LD.middleware,Ew.middleware,BD.middleware,WD.middleware]),devTools:{serialize:{replacer:jse},name:"recharts-".concat(n)}})};function qD(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Hn(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=zse(e,r));var a=U0;return b.createElement(Fse,{context:a,store:o.current},n)}function HD(t){var{layout:e,width:n,height:r,margin:i}=t,o=At(),a=Hn();return b.useEffect(()=>{a||(o(G9(e)),o(z9({width:n,height:r})),o(H9(i)))},[o,a,e,n,r,i]),null}function GD(t){var e=At();return b.useEffect(()=>{e(Bse(t))},[e,t]),null}var Kse=["children"];function Yse(t,e){if(t==null)return{};var n,r,i=Jse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(null,arguments)}var Xse={width:"100%",height:"100%"},Qse=b.forwardRef((t,e)=>{var n=z0(),r=K0(),i=FN();if(!$a(n)||!$a(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,f,h;return typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0,b.createElement(_0,jf({},a,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Xse,ref:e}),o)}),Zse=t=>{var{children:e}=t,n=Ie(pp);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return b.createElement(_0,{width:r,height:i,x:a,y:o},e)},iA=b.forwardRef((t,e)=>{var{children:n}=t,r=Yse(t,Kse),i=Hn();return i?b.createElement(Zse,null,n):b.createElement(Qse,jf({ref:e},r),n)});function eae(){var t=At(),[e,n]=b.useState(null),r=Ie(CK);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Mn(o)&&o!==r&&t(K9(o))}},[e,t,r]),n}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oae=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:w,onTouchMove:C,onTouchStart:T,style:_,width:I}=t,A=At(),[k,M]=b.useState(null),[N,R]=b.useState(null);vte();var O=eae(),j=b.useCallback(B=>{O(B),typeof e=="function"&&e(B),M(B),R(B)},[O,e,M,R]),W=b.useCallback(B=>{A(DD(B)),A(Sr({handler:o,reactEvent:B}))},[A,o]),K=b.useCallback(B=>{A(Uv(B)),A(Sr({handler:f,reactEvent:B}))},[A,f]),G=b.useCallback(B=>{A(_R()),A(Sr({handler:h,reactEvent:B}))},[A,h]),Y=b.useCallback(B=>{A(Uv(B)),A(Sr({handler:g,reactEvent:B}))},[A,g]),ie=b.useCallback(()=>{A($D())},[A]),ce=b.useCallback(B=>{A(jD(B.key))},[A]),de=b.useCallback(B=>{A(Sr({handler:a,reactEvent:B}))},[A,a]),pe=b.useCallback(B=>{A(Sr({handler:u,reactEvent:B}))},[A,u]),be=b.useCallback(B=>{A(Sr({handler:c,reactEvent:B}))},[A,c]),Q=b.useCallback(B=>{A(Sr({handler:y,reactEvent:B}))},[A,y]),se=b.useCallback(B=>{A(Sr({handler:T,reactEvent:B}))},[A,T]),le=b.useCallback(B=>{A(VD(B)),A(Sr({handler:C,reactEvent:B}))},[A,C]),U=b.useCallback(B=>{A(Sr({handler:w,reactEvent:B}))},[A,w]);return b.createElement(qR.Provider,{value:k},b.createElement(bk.Provider,{value:N},b.createElement("div",{className:Ye("recharts-wrapper",r),style:tae({position:"relative",cursor:"default",width:I,height:i},_),onClick:W,onContextMenu:de,onDoubleClick:pe,onFocus:ie,onKeyDown:ce,onMouseDown:be,onMouseEnter:K,onMouseLeave:G,onMouseMove:Y,onMouseUp:Q,onTouchEnd:U,onTouchMove:le,onTouchStart:se,ref:j},n)))}),sae=["children","className","width","height","style","compact","title","desc"];function aae(t,e){if(t==null)return{};var n,r,i=lae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zD=b.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:u,title:c,desc:f}=t,h=aae(t,sae),g=hi(h);return u?b.createElement(iA,{otherAttributes:g,title:c,desc:f},n):b.createElement(oae,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(iA,{otherAttributes:g,title:c,desc:f,ref:e},b.createElement(wie,null,n)))}),uae=["width","height"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function cae(t,e){if(t==null)return{};var n,r,i=dae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fae={top:5,right:5,bottom:5,left:5},pae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fae,reverseStackOrder:!1,syncMethod:"index"},KD=b.forwardRef(function(e,n){var r,i=Gn(e.categoricalChartProps,pae),{width:o,height:a}=i,u=cae(i,uae);if(!$a(o)||!$a(a))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:y}=e,w={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement(qD,{preloadedState:{options:w},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:c},b.createElement(fD,{chartData:y.data}),b.createElement(HD,{width:o,height:a,layout:i.layout,margin:i.margin}),b.createElement(GD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(zD,jv({},u,{width:o,height:a,ref:n})))}),hae=["axis"],YD=b.forwardRef((t,e)=>b.createElement(KD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hae,tooltipPayloadSearcher:iw,categoricalChartProps:t,ref:e}));function mae(t){var e=At();return b.useEffect(()=>{e(Vse(t))},[e,t]),null}var gae=["width","height","layout"];function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function yae(t,e){if(t==null)return{};var n,r,i=vae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xae={top:5,right:5,bottom:5,left:5},wae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Sae=b.forwardRef(function(e,n){var r,i=Gn(e.categoricalChartProps,wae),{width:o,height:a,layout:u}=i,c=yae(i,gae);if(!$a(o)||!$a(a))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=e,w={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return b.createElement(qD,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},b.createElement(fD,{chartData:i.data}),b.createElement(HD,{width:o,height:a,layout:u,margin:i.margin}),b.createElement(GD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(mae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(zD,$v({width:o,height:a},c,{ref:n})))}),Cae=["item"],Tae={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Eae=b.forwardRef((t,e)=>{var n=Gn(t,Tae);return b.createElement(Sae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Cae,tooltipPayloadSearcher:iw,categoricalChartProps:n,ref:e})}),bae=["axis"],_ae=b.forwardRef((t,e)=>b.createElement(KD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bae,tooltipPayloadSearcher:iw,categoricalChartProps:t,ref:e}));const Iae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Aae=({active:t,payload:e,label:n,currencySymbol:r})=>{if(t&&e&&e.length){const i=e.find(u=>u.dataKey==="essential")?.value||0,o=e.find(u=>u.dataKey==="indulgence")?.value||0,a=i+o;return x.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-gray-200",children:[x.jsx("p",{className:"font-bold text-primary mb-2",children:n}),x.jsxs("p",{className:"text-sm",style:{color:"#2C3E50"},children:[" Essential: ",r,i.toFixed(2)]}),x.jsxs("p",{className:"text-sm",style:{color:"#FF8A65"},children:[" Indulgence: ",r,o.toFixed(2)]}),x.jsxs("p",{className:"text-sm font-semibold text-primary mt-1",children:["Total Spending: ",r,a.toFixed(2)]})]})}return null},Pae=({expenses:t,userProfile:e})=>{const n=e?Iae[e.currency]:"$",r=new Map;t.forEach(o=>{const a=o.date.toDateString();r.has(a)||r.set(a,{date:o.date,essential:0,indulgence:0});const u=r.get(a);o.isUseful?u.essential+=o.amount:u.indulgence+=o.amount});const i=Array.from(r.values()).sort((o,a)=>o.date.getTime()-a.date.getTime()).map(o=>({date:o.date.toLocaleDateString("en-US",{month:"short",day:"numeric"}),essential:o.essential,indulgence:o.indulgence}));return x.jsx("div",{className:"w-full h-64",children:x.jsx(Rp,{width:"100%",height:"100%",children:x.jsxs(_ae,{data:i,margin:{top:20,right:10,left:-10,bottom:5},children:[x.jsx(Fp,{strokeDasharray:"3 3",vertical:!1,strokeOpacity:.3}),x.jsx(oc,{dataKey:"date",tick:{fontSize:12,fill:"#8A9BA8"},axisLine:!1,tickLine:!1}),x.jsx(sc,{stroke:"#2C3E50",tick:{fontSize:12,fill:"#8A9BA8"},tickFormatter:o=>`${n}${o}`,axisLine:!1,tickLine:!1}),x.jsx(Mp,{content:x.jsx(Aae,{currencySymbol:n}),cursor:{fill:"rgba(200, 200, 200, 0.1)"}}),x.jsx(Bs,{wrapperStyle:{fontSize:"14px"}}),x.jsx(Ov,{type:"monotone",dataKey:"essential",name:"Essential",stackId:"spending",stroke:"#2C3E50",fill:"#2C3E50",fillOpacity:.8}),x.jsx(Ov,{type:"monotone",dataKey:"indulgence",name:"Indulgence",stackId:"spending",stroke:"#FF8A65",fill:"#FF8A65",fillOpacity:.8})]})})})},kae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Nd=["#2C3E50","#1DE9B6","#8A9BA8","#FF8A65","#4FC3F7","#FFD54F"],Nae=({expenses:t,userProfile:e})=>{const n=e?kae[e.currency]:"$",r=t.reduce((o,a)=>(o[a.category]||(o[a.category]=0),o[a.category]+=a.amount,o),{}),i=Object.entries(r).map(([o,a])=>({name:o,value:parseFloat(a.toFixed(2))}));return x.jsx("div",{className:"w-full h-72",children:x.jsx(Rp,{width:"100%",height:"100%",children:x.jsxs(Eae,{children:[x.jsx(uD,{data:i,cx:"50%",cy:"50%",labelLine:!1,innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",paddingAngle:5,children:i.map((o,a)=>x.jsx(Dp,{fill:Nd[a%Nd.length],stroke:Nd[a%Nd.length]},`cell-${a}`))}),x.jsx(Mp,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(5px)",border:"none",borderRadius:"1rem",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:o=>[`${n}${Number(o).toFixed(2)}`]}),x.jsx(Bs,{iconSize:12,wrapperStyle:{fontSize:"14px",paddingTop:"10px"}})]})})})},Mae=t=>({[je.Sad]:1,[je.Anxious]:2,[je.Tired]:2,[je.Stressed]:3,[je.Bored]:3,[je.Neutral]:4,[je.Happy]:5,[je.Content]:5,[je.Grateful]:5,[je.Proud]:5,[je.Excited]:6,[je.Playful]:6})[t]||3,Rae=({moods:t})=>{const e=t.map(r=>({date:r.date.toLocaleDateString("en-US",{month:"short",day:"numeric"}),moodScore:Mae(r.mood),moodLabel:r.mood})).sort((r,i)=>new Date(r.date).getTime()-new Date(i.date).getTime()),n={1:"Sad",2:"Anxious",3:"Stressed",4:"Neutral",5:"Happy",6:"Excited"};return x.jsx("div",{className:"w-full h-64",children:x.jsx(Rp,{width:"100%",height:"100%",children:x.jsxs(YD,{data:e,margin:{top:5,right:20,left:-10,bottom:5},children:[x.jsx(Fp,{strokeDasharray:"3 3",vertical:!1,strokeOpacity:.3}),x.jsx(oc,{dataKey:"date",tick:{fontSize:12,fill:"#8A9BA8"},axisLine:!1,tickLine:!1}),x.jsx(sc,{domain:[0,7],tickCount:7,tickFormatter:r=>n[r]||"",tick:{fontSize:10,fill:"#8A9BA8"},axisLine:!1,tickLine:!1}),x.jsx(Mp,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(5px)",border:"none",borderRadius:"1rem",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:(r,i,o)=>[o.payload.moodLabel,"Mood"],labelStyle:{color:"#2C3E50",fontWeight:"bold"}}),x.jsx(Bs,{wrapperStyle:{fontSize:"14px"}}),x.jsx(Sw,{type:"monotone",dataKey:"moodScore",name:"Mood Trend",stroke:"#1DE9B6",strokeWidth:3,activeDot:{r:8},dot:{r:4}})]})})})},Dae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},sA=["#2C3E50","#1DE9B6","#FF8A65","#4FC3F7","#FFD54F","#F06292","#BA68C8","#8A9BA8"],Oae=({active:t,payload:e,label:n,currencySymbol:r})=>t&&e&&e.length?x.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-gray-200",children:[x.jsx("p",{className:"font-bold text-primary mb-2",children:n}),e.map((i,o)=>x.jsxs("div",{style:{color:i.stroke},children:[" ",i.name,": ",r,(i.value||0).toFixed(2)]},o))]}):null,Lae=({expenses:t,userProfile:e})=>{const n=e?Dae[e.currency]:"$",{chartData:r,categories:i}=b.useMemo(()=>{const o={},a=new Set;t.forEach(f=>{const h=f.date.toLocaleDateString("en-US",{month:"short",day:"numeric"});o[h]||(o[h]={}),o[h][f.category]||(o[h][f.category]=0),o[h][f.category]+=f.amount,a.add(f.category)});const u=Array.from(a).sort();return{chartData:Object.entries(o).map(([f,h])=>{const g={date:f};return u.forEach(y=>{g[y]=h[y]||0}),g}).sort((f,h)=>new Date(f.date).getTime()-new Date(h.date).getTime()),categories:u}},[t]);return t.length===0?x.jsx("div",{className:"w-full h-72 flex items-center justify-center text-secondary",children:x.jsx("p",{children:"No spending data for this period."})}):x.jsx("div",{className:"w-full h-72",children:x.jsx(Rp,{width:"100%",height:"100%",children:x.jsxs(YD,{data:r,margin:{top:5,right:10,left:-10,bottom:5},children:[x.jsx(Fp,{strokeDasharray:"3 3",vertical:!1,strokeOpacity:.3}),x.jsx(oc,{dataKey:"date",tick:{fontSize:12,fill:"#8A9BA8"},axisLine:!1,tickLine:!1}),x.jsx(sc,{tick:{fontSize:12,fill:"#8A9BA8"},tickFormatter:o=>`${n}${o}`,axisLine:!1,tickLine:!1}),x.jsx(Mp,{content:x.jsx(Oae,{currencySymbol:n}),cursor:{stroke:"rgba(200, 200, 200, 0.5)",strokeWidth:1}}),x.jsx(Bs,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconSize:10}),i.map((o,a)=>x.jsx(Sw,{type:"monotone",dataKey:o,stroke:sA[a%sA.length],name:o,strokeWidth:2.5,dot:{r:3,strokeWidth:1,fill:"white"},activeDot:{r:6,strokeWidth:2}},o))]})})})},JD={[je.Happy]:"",[je.Sad]:"",[je.Stressed]:"",[je.Excited]:"",[je.Neutral]:"",[je.Anxious]:"",[je.Proud]:"",[je.Grateful]:"",[je.Tired]:"",[je.Bored]:"",[je.Playful]:"",[je.Content]:""},Fae=({mood:t,onSelect:e,isSelected:n})=>x.jsxs("button",{onClick:()=>e(t),className:`flex flex-col items-center justify-center p-3 bg-card rounded-2xl shadow-card transition-all transform hover:-translate-y-1 ${n?"ring-2 ring-accent":""}`,children:[x.jsx("span",{className:"text-4xl",children:JD[t]}),x.jsx("span",{className:"mt-2 text-xs font-semibold text-primary",children:t})]}),aA=({label:t,value:e,current:n,onClick:r})=>x.jsx("button",{onClick:()=>r(e),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors duration-200 ${n===e?"bg-primary text-white":"bg-transparent text-secondary hover:text-primary"}`,children:t}),Uae=({expenses:t,moods:e,userProfile:n,onSaveMood:r})=>{const[i,o]=b.useState(null),[a,u]=b.useState(""),[c,f]=b.useState(""),[h,g]=b.useState(!1),[y,w]=b.useState(!1),[C,T]=b.useState(""),[_,I]=b.useState(!0),[A,k]=b.useState("week"),[M,N]=b.useState([]),R=b.useMemo(()=>Array.from(new Set(t.map(ie=>ie.category))),[t]),O=b.useRef(null);b.useEffect(()=>{N(R)},[R]);const j=b.useMemo(()=>{const ie=new Date,ce=A==="week"?7:30,de=new Date(new Date().setDate(ie.getDate()-ce));return t.filter(pe=>{const Q=new Date(pe.date)>=de,se=M.length===0||M.includes(pe.category);return Q&&se})},[t,A,M]),W=b.useMemo(()=>{const ie=new Date,ce=A==="week"?7:30,de=new Date(new Date().setDate(ie.getDate()-ce));return e.filter(pe=>new Date(pe.date)>=de)},[e,A]);b.useEffect(()=>(O.current&&clearTimeout(O.current),I(!0),O.current=setTimeout(async()=>{if(j.length>0){const ie=await MG(j);T(ie)}else T("Not enough data for this period/filter. Keep tracking!");I(!1)},500),()=>{O.current&&clearTimeout(O.current)}),[j]);const K=async ie=>{o(ie),g(!0),f("");const ce=await NG(ie);f(ce),g(!1)},G=()=>{i&&(r({mood:i,reason:a}),w(!0),setTimeout(()=>{w(!1),o(null),u(""),f("")},2e3))},Y=ie=>{N(ce=>ce.includes(ie)?ce.filter(de=>de!==ie):[...ce,ie])};return x.jsxs("div",{id:"tutorial-compass-content",className:"p-4 pt-8 space-y-8",children:[x.jsxs("div",{id:"tutorial-compass-header",className:"text-center",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Inner Compass"}),x.jsx("p",{className:"text-secondary mt-1",children:"Reflect on your mood and uncover your patterns."})]}),x.jsxs("div",{id:"tutorial-mood-tracker",className:"bg-card p-5 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-4 text-center",children:"How are you feeling right now?"}),y&&i?x.jsxs("div",{className:"text-center py-4",children:[x.jsx("p",{className:"text-5xl mb-2 animate-bounce",children:JD[i]}),x.jsx("h4",{className:"font-bold text-accent-dark",children:"Mood Logged!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:Object.values(je).map(ie=>x.jsx(Fae,{mood:ie,onSelect:K,isSelected:i===ie},ie))}),i&&x.jsxs("div",{className:"mt-6 border-t pt-4",children:[x.jsxs("div",{className:"w-full my-4 min-h-[4rem]",children:[h&&x.jsx("p",{className:"text-secondary animate-pulse",children:"Generating a power-up for you..."}),c&&x.jsxs("div",{className:"bg-background p-3 rounded-xl",children:[x.jsx("p",{className:"text-secondary text-sm mb-1",children:"Power-Up:"}),x.jsxs("p",{className:"font-semibold text-primary text-lg italic",children:['"',c,'"']})]})]}),x.jsx("textarea",{value:a,onChange:ie=>u(ie.target.value),className:"w-full h-20 p-3 bg-background border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none",placeholder:"What's on your mind? (Optional)"}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsx("button",{onClick:G,className:"bg-accent text-white font-bold py-2 px-6 rounded-lg shadow-lg hover:bg-accent-dark transform hover:-translate-y-0.5 transition-all",children:"Save Mood"})})]})]})]}),x.jsxs("div",{id:"tutorial-charts-container",className:"space-y-6",children:[x.jsx("h2",{className:"text-xl font-bold text-primary text-center pt-4",children:"Your Data Story"}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card space-y-3",children:[x.jsxs("div",{className:"flex justify-center bg-background p-1 rounded-full w-max mx-auto",children:[x.jsx(aA,{label:"Last 7 Days",value:"week",current:A,onClick:k}),x.jsx(aA,{label:"Last 30 Days",value:"month",current:A,onClick:k})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-bold text-primary text-center mb-2",children:"Filter by Category"}),x.jsx("div",{className:"flex flex-wrap justify-center gap-2 px-2",children:R.map(ie=>x.jsx("button",{onClick:()=>Y(ie),className:`px-3 py-1.5 text-xs font-semibold rounded-full border-2 transition-colors ${M.includes(ie)?"bg-accent border-accent text-white":"bg-transparent border-gray-200 text-secondary hover:border-secondary"}`,children:ie},ie))})]})]}),x.jsxs("div",{id:"tutorial-secret-pattern",className:"bg-card p-5 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"Secret Pattern Unlocked!"}),x.jsx("div",{className:"min-h-[4rem] flex items-center",children:_?x.jsx("p",{className:"text-secondary animate-pulse",children:"Analyzing your data..."}):x.jsxs("p",{className:"text-primary font-semibold text-lg italic",children:['"',C,'"']})})]}),j.length>0||W.length>0?x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"text-lg font-bold text-primary mb-4 text-center",children:"Spending Breakdown"}),x.jsx(Pae,{expenses:j,userProfile:n})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"text-lg font-bold text-primary mb-4 text-center",children:"Mood Trend"}),x.jsx(Rae,{moods:W})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"text-lg font-bold text-primary mb-4 text-center",children:"Category Breakdown"}),x.jsx(Nae,{expenses:j,userProfile:n})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"text-lg font-bold text-primary mb-4 text-center",children:"Category Spending Over Time"}),x.jsx(Lae,{expenses:j,userProfile:n})]})]}):x.jsxs("div",{className:"bg-card p-8 rounded-2xl shadow-card text-center",children:[x.jsx("h3",{className:"text-xl font-semibold text-primary",children:"No Data for This Period"}),x.jsx("p",{className:"text-secondary mt-2",children:"Try logging more activities or selecting a different time frame to see your insights."})]})]})]})},jae=({onSave:t,onCancel:e})=>{const[n,r]=b.useState(""),i=()=>{n.trim()&&t(n)};return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-2",children:"Add a Note"}),x.jsx("p",{className:"text-secondary text-center mb-8",children:"A space for your thoughts, reflections, and ideas."}),x.jsx("textarea",{value:n,onChange:o=>r(o.target.value),className:"w-full h-64 p-4 bg-card border-none rounded-2xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",placeholder:"What's on your mind?"}),x.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-6",children:[x.jsx("button",{onClick:e,className:"text-secondary font-bold py-3 px-6 rounded-xl hover:bg-gray-100",children:"Cancel"}),x.jsx("button",{onClick:i,className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:"Save Note"})]})]})},$ae=async()=>"Notification"in window?await Notification.requestPermission():(console.warn("This browser does not support desktop notification"),"denied"),lA=(t,e)=>{"Notification"in window&&Notification.permission==="granted"?new Notification(t,{body:e,icon:"/vite.svg",badge:"/vite.svg"}):console.log("Notification permission not granted.")},Bae=()=>"Notification"in window?Notification.permission:"denied",Vae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Wae=({userProfile:t,settings:e,onSettingsChange:n,onProfileChange:r,onNavigate:i,onLogout:o})=>{const[a,u]=b.useState("default"),[c,f]=b.useState(e.savingsTarget.amount.toString()),h=t?Vae[t.currency]:"$";b.useEffect(()=>{u(Bae())},[]);const g=async()=>{const C=await $ae();u(C)},y=()=>{const C=parseInt(c,10);!isNaN(C)&&C>0?n({savingsTarget:{...e.savingsTarget,amount:C}}):f(e.savingsTarget.amount.toString())},w=()=>{switch(a){case"granted":return x.jsx("span",{className:"text-xs font-semibold text-green-800 bg-green-200 px-2 py-1 rounded-full",children:"Granted"});case"denied":return x.jsx("span",{className:"text-xs font-semibold text-red-800 bg-red-200 px-2 py-1 rounded-full",children:"Denied"});default:return x.jsx("span",{className:"text-xs font-semibold text-gray-800 bg-gray-200 px-2 py-1 rounded-full",children:"Default"})}};return x.jsxs("div",{className:"p-4 pt-8 space-y-8",children:[x.jsx("style",{children:`
        .toggle-checkbox:checked { right: 0; border-color: #1DE9B6; }
        .toggle-checkbox:checked + .toggle-label { background-color: #1DE9B6; }
      `}),x.jsxs("div",{id:"tutorial-profile-header",className:"flex flex-col items-center text-center",children:[x.jsx("img",{src:"https://i.pravatar.cc/150?u=a042581f4e29026704d",alt:"Profile",className:"w-24 h-24 rounded-full shadow-lg border-4 border-white"}),x.jsxs("div",{className:"mt-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-primary",children:t?.name||"User"}),x.jsxs("p",{className:"text-secondary",children:[t?.name?.toLowerCase().replace(" ","."),"@lifelens.app"]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-lg font-bold text-primary px-2",children:"Account"}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card flex justify-between items-center cursor-pointer transition-transform transform hover:-translate-y-0.5",children:[x.jsx("span",{className:"font-semibold",children:"Edit Profile"}),x.jsx("span",{className:"text-secondary text-lg font-bold",children:">"})]}),x.jsxs("div",{id:"tutorial-achievements-button",onClick:()=>i(ee.Achievements),className:"bg-card p-4 rounded-2xl shadow-card flex justify-between items-center cursor-pointer transition-transform transform hover:-translate-y-0.5",children:[x.jsx("span",{className:"font-semibold",children:" Achievements"}),x.jsx("span",{className:"text-secondary text-lg font-bold",children:">"})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card flex justify-between items-center cursor-pointer transition-transform transform hover:-translate-y-0.5",onClick:()=>i(ee.FinancialGoals),children:[x.jsx("span",{className:"font-semibold",children:"Set Financial Goals"}),x.jsx("span",{className:"text-secondary text-lg font-bold",children:">"})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card flex justify-between items-center cursor-pointer transition-transform transform hover:-translate-y-0.5",onClick:()=>i(ee.PrivacyPolicy),children:[x.jsx("span",{className:"font-semibold",children:"Privacy Policy"}),x.jsx("span",{className:"text-secondary text-lg font-bold",children:">"})]}),x.jsx("h2",{className:"text-lg font-bold text-primary px-2 pt-4",children:"Settings"}),x.jsx("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"Weekly Insight Roundup"}),x.jsx("p",{className:"text-sm text-secondary",children:"Get an AI-powered weekly summary in the app."})]}),x.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[x.jsx("input",{type:"checkbox",name:"smsToggle",id:"smsToggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer",checked:t?.smsEnabled||!1,onChange:()=>r({smsEnabled:!t?.smsEnabled})}),x.jsx("label",{htmlFor:"smsToggle",className:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"})]})]})}),x.jsx("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"Monthly Savings Target"}),x.jsx("p",{className:"text-sm text-secondary",children:"Set a goal to unlock rewards."})]}),x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-secondary",children:h}),x.jsx("input",{type:"number",value:c,onChange:C=>f(C.target.value),onBlur:y,className:"w-28 pl-6 pr-2 py-1 text-right bg-background rounded-lg shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none"})]})]})}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"Push Notifications"}),x.jsx("p",{className:"text-sm text-secondary",children:"Get daily reminders."})]}),w()]}),a!=="granted"&&x.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[x.jsx("button",{onClick:g,className:"w-full bg-accent text-white font-bold py-3 px-4 rounded-xl shadow-lg hover:bg-accent-dark transform hover:-translate-y-0.5 transition-all",children:a==="denied"?"Enable in Browser Settings":"Enable Notifications"}),a==="denied"&&x.jsx("p",{className:"text-xs text-secondary mt-2 text-center",children:"You've previously blocked notifications. Please enable them in your browser settings to use this feature."})]})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Mindful Spending Alerts"}),x.jsx("p",{className:"text-sm text-secondary mb-3",children:"We'll automatically provide an AI nudge in the 'Mindful Spend Check' screen for these conditions:"}),x.jsxs("ul",{className:"list-disc list-inside text-sm text-primary space-y-1",children:[x.jsx("li",{children:"Any spending in 'Hotel' or 'Subway' categories."}),x.jsxs("li",{children:["'General Store' purchases over ",h,"100."]})]})]}),x.jsx("div",{onClick:o,className:"bg-card p-4 rounded-2xl shadow-card flex justify-center items-center cursor-pointer mt-6 transition-transform transform hover:-translate-y-0.5",children:x.jsx("span",{className:"font-semibold text-red-500",children:"Log Out"})})]})]})},qae=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),Hae=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Gae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},zae=({goals:t,onNavigate:e,userProfile:n})=>{const r=n?Gae[n.currency]:"$",i=(o,a)=>a<=0?0:Math.min(o/a*100,100);return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Financial Goals"}),x.jsx("p",{className:"text-secondary mt-1",children:"Plan and track your journey to your dreams."})]}),x.jsx("div",{className:"space-y-4",children:t.length===0?x.jsxs("div",{className:"text-center bg-card p-8 rounded-2xl shadow-card",children:[x.jsx(qae,{className:"w-12 h-12 text-accent mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold text-primary",children:"The Aevum Vault Awaits"}),x.jsx("p",{className:"text-secondary mt-2 mb-6",children:'Your first goal is your "North Star." Seal it in the vault with a message for your future self. When you achieve it, the vault will open, revealing your words of encouragement.'}),x.jsx("button",{id:"tutorial-forge-north-star",onClick:()=>e(ee.AddFinancialGoal),className:"bg-accent text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-accent-dark transform hover:-translate-y-0.5 transition-all",children:"Forge Your North Star"})]}):t.map(o=>x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[x.jsx("span",{className:"text-4xl",children:o.icon}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-bold text-lg text-primary",children:o.name}),x.jsxs("p",{className:"text-sm text-secondary font-semibold",children:[r,o.savedAmount.toLocaleString()," / ",x.jsxs("span",{className:"text-accent-dark",children:[r,o.targetAmount.toLocaleString()]})]})]})]}),x.jsx("div",{className:"w-full bg-background rounded-full h-4",children:x.jsx("div",{className:"bg-accent h-4 rounded-full transition-all duration-500",style:{width:`${i(o.savedAmount,o.targetAmount)}%`}})}),x.jsxs("p",{className:"text-xs text-right mt-1 text-secondary",children:["Target: ",new Date(o.targetDate).toLocaleDateString()]})]},o.id))}),t.length>0&&x.jsx("div",{className:"mt-8",children:x.jsxs("button",{onClick:()=>e(ee.AddFinancialGoal),className:"w-full flex items-center justify-center gap-2 bg-primary text-white font-bold py-4 px-4 rounded-2xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:[x.jsx(Hae,{className:"w-5 h-5"}),x.jsx("span",{children:"Add New Goal"})]})})]})},Kae={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Yae=[{name:"Vacation",icon:""},{name:"New Car",icon:""},{name:"Dream Home",icon:""},{name:"Tech Upgrade",icon:""},{name:"Gift Fund",icon:""}],Jae=({onSave:t,onCancel:e,userProfile:n,addNotification:r})=>{const[i,o]=b.useState(""),[a,u]=b.useState(""),[c,f]=b.useState(""),[h,g]=b.useState("0"),[y,w]=b.useState(""),C=n?Kae[n.currency]:"$",T="w-full px-4 py-3 bg-card border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",_=A=>{o(A.name),u(A.icon)},I=()=>{if(!i||!c||!y){r("Please fill out all fields.","warning");return}t({name:i,icon:a,targetAmount:parseFloat(c),savedAmount:parseFloat(h),targetDate:y})};return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-8",children:"Set a New Goal"}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-3 text-center",children:"Start with an idea"}),x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[Yae.map(A=>x.jsxs("button",{onClick:()=>_(A),className:"flex flex-col items-center p-3 bg-card rounded-2xl shadow-card hover:shadow-lg transform hover:-translate-y-1 transition-all",children:[x.jsx("span",{className:"text-3xl",children:A.icon}),x.jsx("span",{className:"text-xs font-semibold mt-1",children:A.name})]},A.name)),x.jsxs("button",{onClick:()=>{o(""),u("")},className:"flex flex-col items-center p-3 bg-card rounded-2xl shadow-card hover:shadow-lg transform hover:-translate-y-1 transition-all",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("span",{className:"text-xs font-semibold mt-1",children:"Custom"})]})]})]}),x.jsxs("form",{onSubmit:A=>{A.preventDefault(),I()},className:"space-y-5",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("div",{className:"w-1/4",children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Icon"}),x.jsx("input",{type:"text",value:a,onChange:A=>u(A.target.value),className:T,maxLength:2})]}),x.jsxs("div",{className:"w-3/4",children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Goal Name"}),x.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),className:T,placeholder:"e.g., Summer Vacation",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Target Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:x.jsx("span",{className:"text-gray-500 sm:text-lg",children:C})}),x.jsx("input",{type:"number",value:c,onChange:A=>f(A.target.value),className:`${T} pl-8`,placeholder:"5,000",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Already Saved (Optional)"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:x.jsx("span",{className:"text-gray-500 sm:text-lg",children:C})}),x.jsx("input",{type:"number",value:h,onChange:A=>g(A.target.value),className:`${T} pl-8`,placeholder:"0"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Target Date"}),x.jsx("input",{type:"date",value:y,onChange:A=>w(A.target.value),className:T,required:!0})]}),x.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-6",children:[x.jsx("button",{type:"button",onClick:e,className:"text-secondary font-bold py-3 px-6 rounded-xl hover:bg-gray-100",children:"Cancel"}),x.jsx("button",{type:"submit",className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:"Save Goal"})]})]})]})},Xae=({badges:t,onBack:e})=>x.jsxs("div",{className:"p-4 pt-8",children:[x.jsxs("div",{className:"flex items-center mb-8 relative justify-center",children:[x.jsx("button",{onClick:e,className:"absolute left-0 text-primary bg-card p-2 rounded-full shadow-card","aria-label":"Go back",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Achievements"})]}),x.jsx("div",{className:"space-y-4",children:t.map(n=>x.jsxs("div",{className:`p-4 rounded-2xl border flex items-center space-x-4 transition-all duration-300 ${n.unlocked?"bg-card shadow-card border-white":"bg-white-soft"}`,children:[x.jsx("div",{className:`text-5xl transition-all duration-500 ${n.unlocked?"":"grayscale filter opacity-40"}`,children:""}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("h2",{className:`font-bold ${n.unlocked?"text-primary":"text-gray-500"}`,children:n.name}),x.jsx("p",{className:`text-sm ${n.unlocked?"text-secondary":"text-gray-400"}`,children:n.description}),n.unlocked&&n.date&&x.jsxs("p",{className:"text-xs text-accent-dark font-semibold mt-1",children:["Unlocked on ",n.date]})]}),!n.unlocked&&x.jsx("div",{className:"text-4xl text-gray-300",children:""})]},n.id))})]}),Qae=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),Zae=({className:t})=>x.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polygon",{points:"12,2 15,9 22,12 15,15 12,22 9,15 2,12 9,9"}),x.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"currentColor"})]}),ele=({className:t})=>x.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V6.375c0-.621.504-1.125 1.125-1.125h.375m16.5 0h.375a1.125 1.125 0 0 1 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-.375m0 0V6.375m0 12.375-1.5-1.5m1.5 1.5-1.5-1.5m0 0H3.75m16.5 0-1.5 1.5m-15-1.5L5.25 18l-1.5-1.5m15 0-1.5 1.5m1.5-1.5L18.75 18l1.5-1.5"})]}),tle=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),nle=({className:t})=>x.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 0 1-1.161.886l-.143.048a1.107 1.107 0 0 0-.57 1.664l.143.258a1.107 1.107 0 0 0 1.545.57l.114-.065a2.25 2.25 0 0 1 1.161.886l.51.766c.319.48.125 1.121-.317 1.49l-1.068.89a1.125 1.125 0 0 0-.405.864v.568m-6 0v-.568c0-.334-.148-.65-.405-.864l-1.068-.89c-.442-.369-.535-1.01-.216-1.49l.51-.766a2.25 2.25 0 0 1 1.161-.886l.143-.048a1.107 1.107 0 0 0 .57-1.664l-.143-.258a1.107 1.107 0 0 0-1.545-.57l-.114.065a2.25 2.25 0 0 1-1.161-.886l-.51-.766c-.319.48-.125-1.121.317-1.49l1.068-.89a1.125 1.125 0 0 0 .405-.864v-.568m0 0a1.5 1.5 0 1 0 3 0m-3 0a1.5 1.5 0 1 1-3 0m0 0a1.5 1.5 0 1 0 3 0m-3 0a1.5 1.5 0 1 1-3 0"})}),rle=({screen:t,label:e,icon:n,activeScreen:r,onNavigate:i,tutorialId:o})=>{const a=r===t;return x.jsxs("button",{id:o,onClick:()=>i(t),className:`flex flex-col items-center justify-center w-16 h-16 transition-all duration-300 rounded-2xl ${a?"text-accent":"text-secondary hover:text-primary"}`,children:[x.jsx("div",{className:`transition-transform duration-300 ${a?"scale-110":"scale-100"}`,children:n}),x.jsx("span",{className:"text-xs font-semibold mt-1 transition-opacity duration-300 opacity-100",children:e})]})},ile=[{screen:ee.Home,label:"Home",icon:x.jsx(Qae,{className:"w-6 h-6"}),tutorialId:"tutorial-nav-home"},{screen:ee.InnerCompass,label:"Compass",icon:x.jsx(Zae,{className:"w-6 h-6"}),tutorialId:"tutorial-nav-compass"},{screen:ee.Game,label:"Island",icon:x.jsx(nle,{className:"w-6 h-6"}),tutorialId:"tutorial-nav-island"},{screen:ee.FinancialGoals,label:"Goals",icon:x.jsx(ele,{className:"w-6 h-6"}),tutorialId:"tutorial-nav-goals"},{screen:ee.Profile,label:"Profile",icon:x.jsx(tle,{className:"w-6 h-6"}),tutorialId:"tutorial-nav-profile"}],ole=({activeScreen:t,onNavigate:e})=>x.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-sm border-t border-light-shadow z-50",children:x.jsx("div",{className:"max-w-2xl mx-auto flex justify-around p-1",children:ile.map(n=>x.jsx(rle,{...n,activeScreen:t,onNavigate:e},n.screen))})}),sle=({onSave:t,onCancel:e})=>{const[n,r]=b.useState(""),[i,o]=b.useState(!1),a=()=>{n.trim()&&t(n)},u=async()=>{o(!0);const c=await LG();r(f=>f?`${f}

${c}`:c),o(!1)};return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-2",children:"Message for the Aevum Vault"}),x.jsx("p",{className:"text-secondary text-center mb-8",children:"What hopes, dreams, or advice do you want to seal away?"}),x.jsx("textarea",{value:n,onChange:c=>r(c.target.value),className:"w-full h-64 p-4 bg-card border-none rounded-2xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",placeholder:"Dear Future Me..."}),x.jsx("div",{className:"mt-6",children:x.jsx("button",{onClick:u,disabled:i,className:"w-full bg-card text-accent-dark font-bold py-4 px-4 rounded-2xl shadow-card hover:shadow-lg disabled:bg-gray-100 disabled:text-secondary transform hover:-translate-y-0.5 transition-all",children:i?"Generating...":" Suggest a Positive Mantra"})}),x.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-4",children:[x.jsx("button",{onClick:e,className:"text-secondary font-bold py-3 px-6 rounded-xl hover:bg-gray-100",children:"Cancel"}),x.jsx("button",{onClick:a,className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:"Save Note"})]})]})},ale=({pendingGoalName:t,onSaveWish:e,onCancel:n,addNotification:r})=>{const[i,o]=b.useState(""),a=()=>{i.trim()?e(i):r("Please write a message to your future self!","warning")};return x.jsxs("div",{className:"p-4 pt-8 h-full flex flex-col",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-2",children:"Seal the Vault"}),x.jsxs("p",{className:"text-secondary text-center mb-8",children:["You've set a goal for ",x.jsx("span",{className:"font-bold text-primary",children:t}),". What message will you read when you achieve it?"]}),x.jsx("textarea",{value:i,onChange:u=>o(u.target.value),className:"w-full flex-grow p-4 bg-card border-none rounded-2xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",placeholder:"Dear Future Me, I'm so proud of us for achieving this..."}),x.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-6",children:[x.jsx("button",{onClick:n,className:"text-secondary font-bold py-3 px-6 rounded-xl hover:bg-gray-100",children:"Cancel"}),x.jsx("button",{onClick:a,className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90 transform hover:-translate-y-0.5 transition-all",children:"Seal the Vault"})]})]})},lle=({goal:t,message:e,onDone:n})=>x.jsxs("div",{className:"p-4 pt-8 h-full flex flex-col justify-center items-center text-center bg-gradient-to-b from-primary to-slate-800",children:[x.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),x.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"The Aevum Vault is Open!"}),x.jsxs("p",{className:"text-accent text-xl font-semibold mb-8",children:['You achieved your goal: "',t.name,'"!']}),x.jsxs("div",{className:"bg-card/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl w-full max-w-sm animate-fade-in",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"A Message From Your Past Self..."}),x.jsxs("p",{className:"text-secondary text-lg italic my-4",children:['"',e,'"']})]}),x.jsx("button",{onClick:n,className:"mt-12 bg-accent text-white font-bold py-4 px-10 rounded-xl shadow-lg hover:bg-accent-dark transform hover:-translate-y-1 transition-all",children:"Continue Your Journey"}),x.jsx("style",{children:`
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
            animation-delay: 0.5s;
            opacity: 0;
        }
      `})]});class ule{constructor(){this.voice=null,this.synth=window.speechSynthesis,this.voicesLoaded=new Promise(e=>{const n=()=>{const r=this.synth.getVoices();r.length>0&&(this.voice=r.find(i=>i.name.includes("Google US English")&&i.lang.startsWith("en"))||r.find(i=>i.name.includes("David")&&i.lang.startsWith("en"))||r.find(i=>i.lang.startsWith("en-US")&&i.name.includes("Male"))||r.find(i=>i.lang.startsWith("en"))||r[0],e())};this.synth.getVoices().length>0?n():this.synth.onvoiceschanged!==void 0?this.synth.onvoiceschanged=n:setTimeout(()=>n(),100)})}async speak(e,n){if(await this.voicesLoaded,!e)return;this.cancel();const r=new SpeechSynthesisUtterance(e);this.voice&&(r.voice=this.voice);let i=.9,o=.8;n&&(n<18?(i=1.1,o=1):n<28&&(i=1,o=.9)),r.rate=i,r.pitch=o,this.synth.speak(r)}cancel(){this.synth.speaking&&this.synth.cancel()}}const Oi=new ule,cle=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"seaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",style:{stopColor:"#81D4FA",stopOpacity:1}}),x.jsx("stop",{offset:"100%",style:{stopColor:"#29B6F6",stopOpacity:1}})]})}),x.jsx("rect",{width:"10",height:"10",fill:"url(#seaGradient)"}),x.jsx("path",{d:"M -1 3 C 2 1, 3 5, 5 3 S 7 1, 8 5, 11 3",stroke:"white",fill:"none",strokeWidth:"0.3",opacity:"0.3"}),x.jsx("path",{d:"M -1 6 C 1 4, 4 8, 5 6 S 7 4, 9 8, 11 6",stroke:"white",fill:"none",strokeWidth:"0.3",opacity:"0.3"}),x.jsx("path",{d:"M -1 9 C 2 7, 3 11, 5 9 S 7 7, 8 11, 11 9",stroke:"white",fill:"none",strokeWidth:"0.3",opacity:"0.3"})]}),dle=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"deadlySeaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",style:{stopColor:"#006064",stopOpacity:1}}),x.jsx("stop",{offset:"100%",style:{stopColor:"#004D40",stopOpacity:1}})]})}),x.jsx("rect",{width:"10",height:"10",fill:"url(#deadlySeaGradient)"}),x.jsx("path",{d:"M 0 3 C 2 5, 3 1, 5 3 S 7 5, 8 1, 10 3",stroke:"#4DB6AC",fill:"none",strokeWidth:"0.4",opacity:"0.5"}),x.jsx("path",{d:"M 0 6 C 1 4, 3 8, 5 6 S 7 4, 8 8, 10 6",stroke:"#4DB6AC",fill:"none",strokeWidth:"0.4",opacity:"0.5"}),x.jsx("path",{d:"M 2 2 L 3 1 L 4 2 M 7 5 L 8 4 L 9 5",stroke:"#E0F2F1",fill:"none",strokeWidth:"0.3",strokeLinecap:"round",opacity:"0.6"})]}),uA=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"grassGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[x.jsx("stop",{offset:"0%",style:{stopColor:"#A5D6A7",stopOpacity:1}}),x.jsx("stop",{offset:"100%",style:{stopColor:"#66BB6A",stopOpacity:1}})]})}),x.jsx("rect",{width:"10",height:"10",fill:"url(#grassGradient)"}),x.jsx("circle",{cx:"2",cy:"3",r:"0.2",fill:"#E8F5E9",opacity:"0.7"}),x.jsx("circle",{cx:"8",cy:"5",r:"0.2",fill:"#E8F5E9",opacity:"0.7"}),x.jsx("circle",{cx:"5",cy:"8",r:"0.2",fill:"#E8F5E9",opacity:"0.7"})]}),wy=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"10",height:"10",fill:"#4CAF50"}),x.jsx("path",{d:"M 2 9 L 2 7 L 1 7 L 3 4 L 5 7 L 4 7 L 4 9 Z",fill:"#388E3C"}),x.jsx("path",{d:"M 7 8 L 7 6 L 6 6 L 8 3 L 10 6 L 9 6 L 9 8 Z",fill:"#2E7D32"})]}),cA=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"10",height:"10",fill:"#8D6E63"}),x.jsx("path",{d:"M -1 5 C 2 3, 4 7, 5 5 S 7 3, 9 7, 11 5",stroke:"#6D4C41",fill:"none",strokeWidth:"0.8",opacity:"0.5"}),x.jsx("path",{d:"M 2 9 L 2 6 M 8 9 L 8 6",stroke:"#558B2F",fill:"none",strokeWidth:"0.5"}),x.jsx("circle",{cx:"2",cy:"6",r:"0.4",fill:"#A1887F"}),x.jsx("circle",{cx:"8",cy:"6",r:"0.4",fill:"#A1887F"})]}),Sy=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"10",height:"10",fill:"#90A4AE"}),x.jsx("polygon",{points:"1,9 5,2 9,9",fill:"#607D8B"}),x.jsx("polygon",{points:"3.5,5 5,2 6.5,5",fill:"#CFD8DC"}),x.jsx("polygon",{points:"0,9 3,6 7,9",fill:"#78909C"})]}),fle=()=>x.jsx("div",{className:"w-full h-full bg-yellow-200 flex items-center justify-center text-4xl",children:x.jsx("span",{className:"text-red-600 font-black",style:{textShadow:"2px 2px 2px rgba(0,0,0,0.3)"},children:"X"})}),ple=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"10",height:"10",fill:"#A5D6A7"}),x.jsx("path",{d:"M 0 10 L 0 8 C 2 7, 8 7, 10 8 L 10 10 Z",fill:"#66BB6A"}),x.jsx("polygon",{points:"4,8 6,8 6.5,2 3.5,2",fill:"#F44336"}),x.jsx("rect",{x:"3.5",y:"2.5",width:"3",height:"1.2",fill:"white"}),x.jsx("rect",{x:"3.5",y:"5",width:"3",height:"1.2",fill:"white"}),x.jsx("rect",{x:"3",y:"1",width:"4",height:"1",fill:"#616161"}),x.jsx("path",{d:"M 5 1.5 L 8 0 L 8 3 Z",fill:"#FFEB3B",opacity:"0.7"})]}),hle=()=>x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"10",height:"10",fill:"#4FC3F7"}),x.jsx("path",{d:"M -1 8 C 2 6, 3 10, 5 8 S 7 6, 9 10, 11 8",stroke:"white",fill:"none",strokeWidth:"0.3",opacity:"0.3"}),x.jsx("path",{d:"M 2 8 C 3 6, 5 6, 6 8 L 8 7 L 7 5 L 4 5 L 3 7 Z",fill:"#8D6E63",transform:"rotate(-15 5 5)"}),x.jsx("path",{d:"M 5 5 L 5 2 L 6 3 Z",fill:"#6D4C41",transform:"rotate(-15 5 5)"}),x.jsx("line",{x1:"3",y1:"7",x2:"4",y2:"6",stroke:"#5D4037",strokeWidth:"0.3",transform:"rotate(-15 5 5)"}),x.jsx("line",{x1:"4.5",y1:"6.5",x2:"5.5",y2:"6",stroke:"#5D4037",strokeWidth:"0.3",transform:"rotate(-15 5 5)"})]}),mle=()=>x.jsx("div",{className:"absolute inset-0 bg-gray-600/70 backdrop-blur-sm flex items-center justify-center text-white/50 text-xl font-serif pointer-events-none",children:"?"}),gle=t=>{if(t===null)return null;try{return JSON.parse(t,(e,n)=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/.test(n)?new Date(n):n)}catch{return t}};function on(t,e){const[n,r]=b.useState(()=>{try{const o=window.localStorage.getItem(t);if(o)return gle(o)}catch(o){console.error(`Error reading localStorage key ${t}:`,o)}return e}),i=b.useCallback(o=>{r(a=>{const u=o instanceof Function?o(a):o;try{window.localStorage.setItem(t,JSON.stringify(u))}catch(c){console.error(`Error setting localStorage key ${t}:`,c)}return u})},[t]);return[n,i]}const XD=({targetId:t,title:e,text:n,step:r,totalSteps:i,onNext:o,onSkip:a,isVoiceOverEnabled:u,advancesBy:c="next",userAge:f})=>{const[h,g]=b.useState(null),[y,w]=b.useState({opacity:0}),[C,T]=b.useState(!1),_=b.useRef(null),I=b.useRef(null);b.useEffect(()=>{if(u&&C){const R=setTimeout(()=>{Oi.speak(`${e}. ${n}`,f)},400);return()=>{clearTimeout(R),Oi.cancel()}}else Oi.cancel()},[e,n,u,C,f]),b.useLayoutEffect(()=>{let R,O,j;const W=ce=>{const de=ce.getBoundingClientRect();if(de.width===0&&de.height===0){T(!1);return}if(g(de),_.current){const pe=_.current.offsetHeight,be=_.current.offsetWidth,Q=15;let se=de.bottom+Q;se+pe>window.innerHeight&&(se=de.top-pe-Q);let le=de.left+de.width/2;const U=be/2+8,B=window.innerWidth-be/2-8;le=Math.max(U,Math.min(le,B)),w({top:`${se}px`,left:`${le}px`,transform:"translateX(-50%)"})}T(!0)},K=()=>{const ce=document.getElementById(t);if(ce){const de=ce.getBoundingClientRect();de.top>=0&&de.bottom<=window.innerHeight?W(ce):(T(!1),ce.scrollIntoView({behavior:"auto",block:"center"}),j=setTimeout(()=>W(ce),100))}else T(!1)};t!==I.current&&(T(!1),g(null),w({opacity:0}),I.current=t);const Y=setTimeout(()=>{O=new MutationObserver(()=>{R=requestAnimationFrame(K)}),K(),O.observe(document.body,{childList:!0,subtree:!0,attributes:!0})},50),ie=()=>K();return window.addEventListener("resize",ie),window.addEventListener("scroll",ie,!0),()=>{clearTimeout(Y),clearTimeout(j),O&&O.disconnect(),window.removeEventListener("resize",ie),window.removeEventListener("scroll",ie,!0),R&&cancelAnimationFrame(R)}},[t]);const A={...y,opacity:C?1:0,transform:C?`${y.transform} scale(1)`:`${y.transform} scale(0.95)`},k=c==="next",M={position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.6)",transition:"opacity 300ms ease-in-out",opacity:C&&h?1:0,pointerEvents:C?"auto":"none"};if(C&&h){const O=h.top-4,j=h.left-4,W=h.bottom+4,K=h.right+4;M.clipPath=`polygon(
        0% 0%, 0% 100%, 100% 100%, 100% 0%, 0% 0%,
        ${j}px ${O}px,
        ${K}px ${O}px,
        ${K}px ${W}px,
        ${j}px ${W}px,
        ${j}px ${O}px
    )`}const N={position:"fixed",transition:"opacity 300ms ease-in-out, top 300ms ease-in-out, left 300ms ease-in-out, width 300ms ease-in-out, height 300ms ease-in-out",pointerEvents:"none",border:"2px solid white",borderRadius:"0.75rem",opacity:C&&h?1:0};return C&&h&&(N.top=`${h.top-4}px`,N.left=`${h.left-4}px`,N.width=`${h.width+8}px`,N.height=`${h.height+8}px`),x.jsxs("div",{className:"fixed inset-0 z-[9998] pointer-events-none",children:[x.jsx("div",{style:M,className:"pointer-events-auto"}),x.jsx("div",{style:N}),x.jsxs("div",{ref:_,className:"fixed bg-[#FBF6E9] rounded-2xl p-4 shadow-xl max-w-sm w-[calc(100%-2rem)] border-4 border-double border-amber-800/70 pointer-events-auto transition-all duration-300 ease-in-out",style:A,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"text-4xl flex-shrink-0",children:""}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold text-amber-900",style:{fontFamily:"'IM Fell English SC', serif"},children:e}),x.jsx("p",{className:"text-secondary mt-1",children:n})]})]}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[x.jsx("button",{onClick:a,className:"text-xs text-secondary hover:underline",children:"Skip Tutorial"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs font-semibold text-amber-800",children:[r+1," / ",i]}),k&&x.jsx("button",{onClick:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-amber-600",children:r===i-1?"Finish":"Next"})]})]})]})]})},Cy=[{title:"The Storm Chest",question:`Im the chest you fill before the storm,
When waves get wild I keep you warm.
Not for gold you plan to spend today 
A rainy shield for a rainy day.`,answer:"Emergency fund",options:["Emergency fund","A Wool Coat","Buried Treasure"]},{title:"The Captain's Ledger",question:`Divide the booty at dawns first light,
A steady share makes future bright.
Spend, save, share  make the split,
Keep your ship and crew well-fit.`,answer:"Budgeting",options:["Budgeting","A Fair Wind","A Feast"]},{title:"The Leaky Barrel",question:`Every fortnight a coin slips by,
If you dont check, it makes you cry.
Tiny leaks that drip and flow 
Track them all so treasure grows.`,answer:"Track expenses",options:["Track expenses","Ignoring the Drip","Patching the Hull"]},{title:"Siren's Isle",question:`A tempting island, glitter and song,
Buy today and you might be wrong.
Wait a tide, count your dubloons 
Patient captains avoid quick ruins.`,answer:"Delay gratification",options:["Delay gratification","Instant Riches","Following the Song"]},{title:"The Golden Acorn",question:`Plant a seed in well-dug ground,
Watch the sprout turn coins around.
Risk and time make wealth expand 
Let your doubloons work for the land.`,answer:"Investing",options:["Investing","Farming","Burying Coins"]},{title:"The Treasure Map",question:`A map with routes and named desires,
Mark the peaks you want to hire.
Save in steps, a plan in sight 
Reach the isle by guided light.`,answer:"Goal setting",options:["Goal setting","Daydreaming","Sailing Blind"]},{title:"The Phantom Toll",question:`One-time loot or repeating toll?
Hidden charges take their stroll.
Cancel ghostly monthly claims 
Keep your coffers free of chains.`,answer:"Recurring charges",options:["Recurring charges","A Single Fee","Barnacles"]},{title:"Many Small Chests",question:`If storms come twice, a wiser plan:
Split the spoils across the span.
Some for now, some for years to be 
Safety and freedom both agree.`,answer:"Diversify savings",options:["Diversify savings","One Giant Hoard","An Empty Hold"]},{title:"The Crew's Pact",question:`When pirates meet, they pool their share,
A common chest for cross-sea fare.
Friends unite to reach one quest 
Shared goals put plans to test.`,answer:"Group goals",options:["Group goals","A Captain's Secret","A Mutiny"]},{title:"The Parrot's Whisper",question:`A tiny hint before you pay,
A whisper says pause, think, and weigh.
If impulses loud and reasons thin,
Answer truth  do you really win?`,answer:"Mindful spending",options:["Mindful spending","Careless Buying","A Loud Squawk"]}],dA=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-amber-500",children:x.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.39-3.453 3.35a.75.75 0 0 0 .256 1.178l4.285 2.082a.75.75 0 0 1 .387.65l-.945 4.55a.75.75 0 0 0 1.085.832l4.23-2.502a.75.75 0 0 1 .732 0l4.23 2.502a.75.75 0 0 0 1.085-.832l-.945-4.55a.75.75 0 0 1 .387-.65l4.285-2.082a.75.75 0 0 0 .256-1.178l-3.453-3.35-4.753-.39-1.83-4.401Z",clipRule:"evenodd"})}),yle=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:x.jsx("path",{d:"M3 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3Zm2 2a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6Z"})}),vle=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:x.jsx("path",{d:"M1 1.75A.75.75 0 0 1 1.75 1h1.628a1.75 1.75 0 0 1 1.734 1.51L5.18 3a6.5 6.5 0 0 1 12.45 2.459V6.25a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5h2.383a5.002 5.002 0 0 0-9.66-1.21L4.63 3.75h1.5a.75.75 0 0 1 0 1.5h-1.5a3.25 3.25 0 0 0-3.234-2.85L1.75 2.5a.75.75 0 0 1-.75-.75ZM3.25 9A.75.75 0 0 1 4 8.25h12a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 9Zm0 3.5A.75.75 0 0 1 4 11.75h12a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Zm0 3.5A.75.75 0 0 1 4 15.25h12a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Z"})}),xle=({className:t,style:e})=>x.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polygon",{points:"12,2 15,9 22,12 15,15 12,22 9,15 2,12 9,9",fill:"currentColor"}),x.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"var(--bg-color, #FFF)",stroke:"currentColor",strokeWidth:"2"})]}),wle=({className:t})=>x.jsxs("svg",{className:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M6.23,57.18c-3.52-1-5.4-4.59-4.39-8.11,1.1-3.83,5.13-5.91,8.65-4.91l16.29,4.68s10.6,3.05,15.93-3.92c5.33-6.97,3.93-15.93,3.93-15.93l-4.68-16.29c-1-3.52-4.59-5.4-8.11-4.39-3.83,1.1-5.91,5.13-4.91,8.65l4.68,16.29s3.05,10.6-3.92,15.93c-6.97,5.33-15.93,3.93-15.93,3.93l-16.29-4.68Z",className:"text-yellow-100 fill-current stroke-yellow-800/50",strokeWidth:"2"}),x.jsx("path",{d:"M21.5 40.5s3.5-6.5 11-6.5 10,5 10,5",stroke:"currentColor",className:"text-red-500",strokeWidth:"2",strokeDasharray:"4 4",strokeLinecap:"round"}),x.jsx("path",{d:"M42.5 39l-4 4m0-4l4 4",stroke:"currentColor",className:"text-red-700",strokeWidth:"3",strokeLinecap:"round"})]}),Sle=({enabled:t})=>t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[x.jsx("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.348 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.945.945 2.56.276 2.56-1.06V4.06zM18.584 5.106a.75.75 0 0 1 1.06 0c3.092 3.092 3.092 8.19 0 11.284a.75.75 0 0 1-1.06-1.06 6.75 6.75 0 0 0 0-9.164.75.75 0 0 1 0-1.06z"}),x.jsx("path",{d:"M16.03 7.66a.75.75 0 0 1 1.06 0c1.562 1.562 1.562 4.094 0 5.656a.75.75 0 1 1-1.06-1.06 2.75 2.75 0 0 0 0-3.536.75.75 0 0 1 0-1.06z"})]}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:x.jsx("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.348 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.945.945 2.56.276 2.56-1.06V4.06zM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L19.5 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L19.5 10.94l-1.72-1.72z"})}),Md=[{id:"shelter_1",name:"Driftwood Hut",cost:200,asset:"",size:{width:1,height:1},financialTip:"A simple shelter is like an emergency fundit protects ye from unexpected storms!"},{id:"shelter_2",name:"Reinforced Shelter",cost:800,asset:"",size:{width:1,height:1},financialTip:"Reinforcing yer shelter is like diversifying yer investments. A stronger foundation weathers any market!"},{id:"food_1",name:"Forager's Post",cost:300,asset:"",size:{width:1,height:1},financialTip:"Foraging for food is like finding small ways to save. Every little bit adds up to a feast!"},{id:"food_2",name:"Fishing Weir",cost:500,asset:"",size:{width:1,height:1},financialTip:"A fishing weir requires patience, just like long-term savings. The reward is a steady supply of sustenance."},{id:"water_1",name:"Freshwater Still",cost:400,asset:"",size:{width:1,height:1},financialTip:"A clean water source is non-negotiable, just like paying off high-interest debt. Secure yer essentials first!"},{id:"utility_1",name:"Signal Tower",cost:1500,asset:"",size:{width:1,height:1},financialTip:"A signal tower helps ye see far, like a good credit score. It opens up new opportunities on the horizon!"},{id:"campfire_1",name:"Signal Fire",cost:250,asset:"",size:{width:1,height:1},financialTip:"A good budget is a signal fire, guiding yer spending and keeping ye from gettin' lost in the dark."},{id:"treasure_chest",name:"Lost Treasure",cost:99999,asset:"",size:{width:1,height:1},financialTip:"Ye found the treasure! True wealth ain't just gold, but the wisdom ye gained on the journey."}],Ao=20,fA=20,ya=["WWWWWWWWWWWWWWWWWWWW","WWWWWWWWWWWWWWWWWWWW","WWWWWWWWLLLLWWWWWWWW","WWWWWWLLLFFLLLWWWWWW","WWWWWLLFFFFFLLWWWWWW","WWWWLLFFMFFFFFFLLWWW","WWWWLFFFFFFFFFFFLWWW","WWWLFFFFFFFFFFFFFLWW","WWWLFFFFFFFFFFFFFLWW","WWWLFFFFSFFFFFFFLWWW","WWWWLFFFFFFFFFFFLWWW","WWWWLLFFFFFFFFFLLWWW","WWWWWLLFFFFFLLWWWWWW","WWWWWWLLLLDLWWWWWWWW","WWWWWWWWLLLLWWWWWWWW","WWWWWWWWWLLWWWWWWWWW","WWWWWWWWWLWWWWWWWWWW","WWWWWWWWWLWWWWWWWWWW","WWWWWWWWWHWWWWWWWWWW","WWWWWWWWWWWWWWWWWWWW"].join("").split(""),Cle=t=>{switch(t){case"B":return{id:"landmark_cursed_canopy",type:"hangman",title:"Cursed Canopy",description:"The ancient trees whisper words of power. Guess them to pass and claim a bounty!",reward:{doubloons:0,mapPieces:[{x:6,y:3},{x:7,y:3},{x:8,y:3},{x:9,y:3},{x:6,y:2},{x:7,y:2}]},data:{words:["BUDGET","SAVINGS","ASSETS"],rewardCoins:500},isCompleted:!1};case"D":return{id:"landmark_bog_o_bones",type:"riddle_challenge",title:"Bog o Bones",description:"Skeleton tax collectors demand their due! Answer their riddles to pass.",reward:{doubloons:150,mapPieces:[{x:12,y:13},{x:11,y:12}],items:["Debt Slayer Talisman"]},data:{riddles:[{question:"I'm a hole in yer pocket, a weight on yer ship. The longer ye carry me, the further ye slip. What am I?",answer:"Debt",options:["Anchor","Debt","Doubt"]},{question:"I have a mouth but never speak, I have a due date but I'm not a week. Pay me on time, and yer good name ye keep. What am I?",answer:"Bill",options:["Bill","Promise","Tide"]},{question:"The more of me you pay down, the more of your own treasure is found. What am I?",answer:"Principal",options:["Principal","Interest","Crew"]}]},isCompleted:!1};case"I":return{id:"landmark_investing",type:"decision",title:"Valley of Myths",description:"Choose yer venture, captain.",reward:{doubloons:150,mapPieces:[{x:2,y:15},{x:3,y:15}]},data:{scenario:"A merchant offers two ventures: invest in his risky spice trade to an unknown land, or his reliable salt trade.",choices:[{text:"The risky spice trade!",isCorrect:!1,feedback:"Yer ship was lost at sea! High risk can mean high loss. Diversify yer treasure!"},{text:"The reliable salt trade.",isCorrect:!0,feedback:"A steady return! Reliable ventures build wealth over time."}]},isCompleted:!1};case"P":return{id:"landmark_patience",type:"riddle",title:"Lake o Lost Souls",description:"A ghostly figure offers a choice...",reward:{doubloons:100,mapPieces:[{x:6,y:15},{x:7,y:15}]},data:{question:"I am a pirate's greatest virtue, more valuable than gold. With me, small seeds of coin grow into treasures untold. What am I?",answer:"Patience",options:["Strength","Patience","A Map"]},isCompleted:!1};default:return null}},va=({isOpen:t,onClose:e,children:n,title:r})=>t?x.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e,children:[x.jsxs("div",{className:"bg-card rounded-2xl p-4 shadow-xl max-w-md w-full animate-fade-in border-2 border-primary/10 relative",onClick:i=>i.stopPropagation(),children:[r==="Treasure Map"&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none",children:x.jsx(xle,{className:"w-48 h-48 text-primary",style:{"--bg-color":"transparent"}})}),x.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[x.jsx("h2",{className:"text-2xl font-bold text-primary",children:r}),x.jsx("button",{onClick:e,className:"font-bold text-2xl text-secondary",children:""})]}),x.jsx("div",{className:"relative z-10",children:n})]}),x.jsx("style",{children:`
            @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
            .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
            `})]}):null,Tle=({wrongGuesses:t})=>x.jsxs("svg",{viewBox:"0 0 100 120",className:"w-32 h-40 mx-auto stroke-primary",strokeWidth:"4",fill:"none",children:[x.jsx("line",{x1:"10",y1:"110",x2:"90",y2:"110"}),x.jsx("line",{x1:"30",y1:"110",x2:"30",y2:"10"}),x.jsx("line",{x1:"28",y1:"10",x2:"70",y2:"10"}),x.jsx("line",{x1:"70",y1:"10",x2:"70",y2:"25"}),t>0&&x.jsx("circle",{cx:"70",cy:"35",r:"10",strokeWidth:"3"}),t>1&&x.jsx("line",{x1:"70",y1:"45",x2:"70",y2:"75",strokeWidth:"3"}),t>2&&x.jsx("line",{x1:"70",y1:"55",x2:"55",y2:"65",strokeWidth:"3"}),t>3&&x.jsx("line",{x1:"70",y1:"55",x2:"85",y2:"65",strokeWidth:"3"}),t>4&&x.jsx("line",{x1:"70",y1:"75",x2:"55",y2:"90",strokeWidth:"3"}),t>5&&x.jsx("line",{x1:"70",y1:"75",x2:"85",y2:"90",strokeWidth:"3"})]}),Ele=t=>{switch(t){case"W":return x.jsx(cle,{});case"L":return x.jsx(uA,{});case"F":return x.jsx(wy,{});case"X":return x.jsx(fle,{});case"H":return x.jsx(hle,{});case"D":return x.jsx(dle,{});case"M":return x.jsx(Sy,{});case"S":return x.jsx(cA,{});case"B":return x.jsx(wy,{});case"E":return x.jsx(wy,{});case"I":return x.jsx(Sy,{});case"P":return x.jsx(cA,{});case"G":return x.jsx(ple,{});case"N":return x.jsx(Sy,{});default:return x.jsx(uA,{})}},ble=t=>{switch(t){case"W":return"Sea";case"L":return"Grassland";case"F":return"Forest";case"X":return"Treasure Marker";case"H":return"Shipwreck";case"D":return"Deadly Sea";case"M":return"Impassable Mountains";case"S":return"Murky Swamp";case"B":return"Cursed Canopy";case"E":return"Emergency Grove";case"I":return"Valley of Myths";case"P":return"Lake of Lost Souls";case"G":return"Lighthouse Point";case"N":return"Inflationary Peaks";default:return"Land"}},ls=[{targetId:"tutorial-doubloons",title:"Yer Doubloons",text:"Ahoy! This here is yer treasure chest. The more ye save in the real world, the more Doubloons ye'll have to spend on this island.",advancesBy:"next"},{targetId:"tutorial-shop-button",title:"The Shop",text:"Let's get ye started. Head to the shop to see what ye can build. Go on, give it a click!",advancesBy:"action"},{targetId:"tutorial-shop-item",title:"Buy Yer First Piece",text:"Every settlement needs a start. I'll front ye the coin for a Driftwood Hut. Click it to 'buy' it for free!",advancesBy:"action"},{targetId:"tutorial-cargo-button",title:"Check Yer Cargo",text:"Excellent! Anything ye buy is stored in yer cargo hold. Open it up to see what ye've got.",advancesBy:"action"},{targetId:"tutorial-cargo-item",title:"Select to Place",text:"There's yer new hut! Select it now to get ready to place it on the island.",advancesBy:"action"},{targetId:"tutorial-place-cell",title:"Place Yer First Hut",text:"Find a nice clear spot like this one and click to place yer new hut. This is the first step to building yer legacy!",advancesBy:"action"},{targetId:"tutorial-quest-button",title:"Seek Adventure!",text:"A fine start! To reveal more of the island and earn more Doubloons, ye'll need to complete quests. Find new ones right here!",advancesBy:"next"}],_le=({brixCoins:t,gameState:e,onUpdateGameState:n,onPurchaseBrix:r,onPlaceBrix:i,onNavigateToChat:o,userName:a,addNotification:u,isAppTutorialRunning:c,appTutorialStepId:f,onGameTutorialComplete:h})=>{const[g,y]=b.useState(!1),[w,C]=b.useState(!1),[T,_]=b.useState(!1),[I,A]=b.useState(!1),[k,M]=b.useState(!1),[N,R]=b.useState(null),[O,j]=b.useState(null),[W,K]=b.useState(!1),[G,Y]=b.useState([]),[ie,ce]=b.useState([]),[de,pe]=b.useState(""),[be,Q]=b.useState(null),[se,le]=b.useState(null),[U,B]=b.useState(null),[he,we]=b.useState(null),Ae=b.useRef(null),[Te,He]=on("gameTutorialState.v1",{isActive:!1,step:0,hasCompleted:!1}),Ue=b.useRef(null),[te,Pe]=on("dailyQuestData",null),Oe=8,[Z,ut]=b.useState(null),[Ge,Dt]=b.useState(!1),pt=25,[cn,Kr]=b.useState({x:5,y:11}),[gi,Ct]=b.useState(!1),In=9,ye=b.useMemo(()=>e.quests.find(z=>!z.isCompleted),[e.quests]);b.useEffect(()=>{Ct(c&&f==="full-map-view-step")},[c,f]),b.useEffect(()=>{if(!c&&!Te.hasCompleted){const z=setTimeout(()=>{He(ue=>({...ue,isActive:!0}))},500);return()=>clearTimeout(z)}},[c,Te.hasCompleted,He]),b.useEffect(()=>{if(!(!Te.isActive||ls[Te.step||0].advancesBy!=="action"))switch(Te.step||0){case 1:g&&Ht();break;case 2:e.inventory.some(ue=>ue.brixId==="shelter_1"&&ue.quantity>0);break;case 3:w&&Ht();break;case 4:N&&Ht();break;case 5:e.placedBrix.some(ue=>ue.brixId==="shelter_1")&&Ht();break}},[g,w,N,e.inventory,e.placedBrix,Te.isActive,Te.step]);const Ht=()=>{const z=Te.step+1;z>=ls.length?zn():He(ue=>({...ue,step:z,isActive:!0}))},zn=()=>{He({isActive:!1,step:0,hasCompleted:!0}),h()};b.useEffect(()=>{if(e.isVoiceOverEnabled)if(T&&ye&&!O&&he==="reading"){let z=`${ye.title}. ${ye.description}`;if(ye.type==="riddle"&&ye.data.question)z+=` The riddle is: ${ye.data.question}`;else if(ye.type==="decision"&&ye.data.scenario)z+=` ${ye.data.scenario}`;else if(ye.type==="riddle_challenge"&&e.activeMinigameState&&ye.data.riddles){const ue=ye.data.riddles[e.activeMinigameState.progress];ue&&ue.question&&(z+=` Riddle ${e.activeMinigameState.progress+1}. ${ue.question}`)}Oi.speak(z)}else O&&Oi.speak(O);return()=>Oi.cancel()},[T,ye,O,e.isVoiceOverEnabled,he,e.activeMinigameState]),b.useEffect(()=>()=>Oi.cancel(),[]);const vn=b.useCallback(()=>{Ae.current&&(clearInterval(Ae.current),Ae.current=null),B(null),we(null)},[]);b.useEffect(()=>{T&&ye?(we("reading"),B(15)):vn()},[T,ye,vn]),b.useEffect(()=>{if(!(U===null||he===null))return U>0?Ae.current=setInterval(()=>B(z=>z!==null?z-1:null),1e3):he==="reading"?(we("answering"),B(15)):(vn(),j("Time's up, matey! Try again later."),setTimeout(()=>{_(!1),j(null)},2e3)),()=>{Ae.current&&clearInterval(Ae.current)}},[U,he,vn]),b.useEffect(()=>{Ue.current&&clearInterval(Ue.current);const z=()=>{const De=Date.now(),$e=e.questCooldownUntil||0,Be=Math.max(0,$e-De);if(Be===0)pe(""),Ue.current&&clearInterval(Ue.current),n(Ve=>({...Ve}));else{const Ve=Math.floor(Be/6e4),ke=Math.floor(Be%6e4/1e3);pe(`${Ve.toString().padStart(2,"0")}:${ke.toString().padStart(2,"0")}`)}},ue=Date.now();return e.questCooldownUntil&&e.questCooldownUntil>ue?(z(),Ue.current=setInterval(z,1e3)):pe(""),()=>{Ue.current&&clearInterval(Ue.current)}},[e.questCooldownUntil,n]);const Rn=z=>{z&&(j(null),ut(null),_(!0),z.type==="hangman"&&(!e.activeMinigameState||e.activeMinigameState.type!=="hangman")?n(ue=>({...ue,activeMinigameState:{type:"hangman",progress:0,hangman:{guessedLetters:[],wrongGuesses:0,hintUsed:!1}}})):z.type==="riddle_challenge"&&(!e.activeMinigameState||e.activeMinigameState.type!=="riddle_challenge")&&n(ue=>({...ue,activeMinigameState:{type:"riddle_challenge",progress:0}})))},Ko=b.useCallback(async()=>{Te.isActive&&Te.step===6&&zn();const z=new Date().toDateString();if(te&&te.date===z&&te.count>=Oe){u("Ye've had yer fill of adventure for one day, Captain! Come back tomorrow.","info");return}const ue=e.quests.filter(ke=>!ke.id.startsWith("landmark_")).length;if(ue<Cy.length){const ke=Cy[ue],Re={id:`q_predefined_${ue}`,isCompleted:!1,type:"riddle",title:ke.title,description:"A rolled-up parchment washes ashore with a mysterious question...",reward:{doubloons:100,mapPieces:[]},data:{question:ke.question,options:ke.options,answer:ke.answer}};n(tt=>({...tt,quests:[...tt.quests,Re]})),Pe(tt=>tt&&tt.date===z?{...tt,count:tt.count+1}:{date:z,count:1});return}K(!0);const $e=(ue-Cy.length)%2===0;let Ve={id:`q_ai_${e.quests.length+1}`,isCompleted:!1};try{if($e){const ke=await jG(G);Y(Re=>[...Re,ke.question]),Ve={...Ve,type:"riddle",title:ke.title,description:"A rolled-up parchment washes ashore with a mysterious question...",reward:{doubloons:100,mapPieces:[]},data:{question:ke.question,options:ke.options,answer:ke.answer}}}else{const ke=await $G(ie);ce(Re=>[...Re,ke.scenario||""]),Ve={...Ve,type:"decision",title:ke.title,description:"A situation arises that tests your financial wisdom, captain.",reward:{doubloons:150,mapPieces:[]},data:{scenario:ke.scenario,choices:ke.choices}}}n(ke=>({...ke,quests:[...ke.quests,Ve]})),Pe(ke=>ke&&ke.date===z?{...ke,count:ke.count+1}:{date:z,count:1})}catch(ke){console.error("Failed to generate quest:",ke),u("Couldn't find a new quest... the winds must be against us. Try again in a moment!","error")}finally{K(!1)}},[e.quests,n,G,ie,te,u,Te.isActive,Te.step,zn]);b.useEffect(()=>{const z=new Set(e.quests.map(De=>De.id));let ue=[];e.revealedCells.forEach(De=>{const $e=De.y*Ao+De.x,Be=ya[$e],Ve=Cle(Be);Ve&&!z.has(Ve.id)&&(ue.push(Ve),z.add(Ve.id))}),ue.length>0&&n(De=>({...De,quests:[...De.quests,...ue]}))},[e.revealedCells,e.quests,n]);const no=z=>{Te.isActive&&Te.step===2&&z.id==="shelter_1"?(n(ue=>{const De=[...ue.inventory],$e=De.find(Be=>Be.brixId==="shelter_1");return $e?$e.quantity+=1:De.push({brixId:"shelter_1",quantity:1}),{...ue,inventory:De}}),u("I've added a Driftwood Hut to yer cargo!","info"),y(!1),Ht()):r(z)},kr=()=>{if(!se)return;const{x:z,y:ue,cost:De}=se;t>=De?(n($e=>({...$e,spentBrixCoins:$e.spentBrixCoins+De,clearedCells:[...$e.clearedCells||[],{x:z,y:ue}]})),u(`Cleared the ${se.type} for ${De} Doubloons!`,"success")):u(`Not enough Doubloons to clear the ${se.type}!`,"error"),le(null)},yi=(z,ue)=>{const De=ue*Ao+z,$e=ya[De],Be=(e.clearedCells||[]).some(Ve=>Ve.x===z&&Ve.y===ue);if(N){const Ve=$e==="L",ke=e.placedBrix.some(Re=>Re.x===z&&Re.y===ue);(Ve||Be)&&!ke&&(i(N,z,ue),R(null),C(!1),Te.isActive&&Te.step===5&&Ht())}else{if(Be)return;$e==="F"?le({x:z,y:ue,cost:150,type:"Forest"}):$e==="S"?le({x:z,y:ue,cost:250,type:"Swamp"}):($e==="M"||$e==="D")&&u("This terrain is impassable, Captain!","warning")}},Yr=b.useMemo(()=>e.inventory.map(z=>({...z,...Md.find(ue=>ue.id===z.brixId)})).filter(z=>z.name),[e.inventory]),ro=b.useCallback(z=>{vn();const ue=180*1e3,De=5,$e=(z.reward.doubloons||0)+(z.data.rewardCoins||0);n(Be=>{const Ve=Be.quests.map(ze=>ze.id===z.id?{...ze,isCompleted:!0}:ze),ke=new Set(Be.revealedCells.map(ze=>`${ze.x},${ze.y}`));(z.reward.mapPieces||[]).forEach(ze=>ke.add(`${ze.x},${ze.y}`));const Re=Array.from(ke).map(ze=>{const[Dn,$t]=ze.split(",").map(Number);return{x:Dn,y:$t}}),tt=new Set;Re.forEach(ze=>{[{x:ze.x-1,y:ze.y},{x:ze.x+1,y:ze.y},{x:ze.x,y:ze.y-1},{x:ze.x,y:ze.y+1}].forEach($t=>{if($t.x>=0&&$t.x<Ao&&$t.y>=0&&$t.y<fA){const Jr=`${$t.x},${$t.y}`;if(!ke.has(Jr)){const en=$t.y*Ao+$t.x,oe=ya[en];"LFMSEXHBDIPGN".includes(oe)&&tt.add(Jr)}}})});const Ot=Array.from(tt).sort(()=>.5-Math.random()).slice(0,2);Ot.forEach(ze=>ke.add(ze));const An=Array.from(ke).map(ze=>{const[Dn,$t]=ze.split(",").map(Number);return{x:Dn,y:$t}}),Mr=(z.reward.mapPieces?.length||0)+Ot.length;j(`Quest complete! +${$e} Doubloons. ${Mr>0?`${Mr} new areas revealed!`:""}`),setTimeout(()=>{_(!1),j(null)},3e3);const dn=(Be.questsCompletedSinceCooldown||0)+1;let Kn=Be.questCooldownUntil;return dn>=De&&(Kn=Date.now()+ue),{...Be,quests:Ve,revealedCells:An,spentBrixCoins:Be.spentBrixCoins-$e,specialItems:[...Be.specialItems||[],...z.reward.items||[]],activeMinigameState:null,questCooldownUntil:Kn,questsCompletedSinceCooldown:dn>=De?0:dn}})},[n,vn]),Gs=async()=>{if(!ye||!e.activeMinigameState||e.activeMinigameState.type!=="hangman"||t<pt)return;const{progress:z,hangman:ue}=e.activeMinigameState;if(ue?.hintUsed)return;Dt(!0);const De=ye.data.words[z],$e=await BG(De);ut($e),Dt(!1),n(Be=>Be.activeMinigameState?.type!=="hangman"?Be:{...Be,spentBrixCoins:Be.spentBrixCoins+pt,activeMinigameState:{...Be.activeMinigameState,hangman:{...Be.activeMinigameState.hangman,hintUsed:!0}}})},io=z=>{if(ye){if(vn(),ye.type==="riddle")z===ye.data.answer?ro(ye):j("That ain't right, matey. Try again!");else if(ye.type==="decision"){const ue=z;j(ue.feedback),ue.isCorrect?ro(ye):setTimeout(()=>{_(!1),j(null)},3e3)}else if(ye.type==="riddle_challenge"){const ue=e.activeMinigameState;if(!ue)return;const De=ye.data.riddles[ue.progress];z===De.answer?ue.progress+1>=ye.data.riddles.length?ro(ye):(j("Correct! Here's the next one..."),n($e=>({...$e,activeMinigameState:{...$e.activeMinigameState,progress:$e.activeMinigameState.progress+1}}))):j("Wrong! The skeletons glare at ye menacingly.")}}},dl=z=>{if(!ye||!e.activeMinigameState||e.activeMinigameState.type!=="hangman")return;const{progress:ue,hangman:De}=e.activeMinigameState,$e=ye.data.words[ue];if(De.guessedLetters.includes(z))return;const Be=[...De.guessedLetters,z];let Ve=De.wrongGuesses;$e.includes(z)||Ve++,$e.split("").every(Re=>Be.includes(Re))?(vn(),j(`Correct! The word was ${$e}!`),setTimeout(()=>{const Re=ue+1;Re>=ye.data.words.length?ro(ye):(j("On to the next word!"),ut(null),n(tt=>({...tt,activeMinigameState:{type:"hangman",progress:Re,hangman:{guessedLetters:[],wrongGuesses:0,hintUsed:!1}}})),we("reading"),B(15))},1500)):Ve>=6?(vn(),j(`Ye failed! The word was ${$e}. That'll cost ye 50 Doubloons!`),n(Re=>({...Re,spentBrixCoins:Re.spentBrixCoins+50})),setTimeout(()=>{_(!1)},2500)):n(Re=>Re.activeMinigameState?.type!=="hangman"?Re:{...Re,activeMinigameState:{...Re.activeMinigameState,hangman:{...Re.activeMinigameState.hangman,guessedLetters:Be,wrongGuesses:Ve}}})},vi=(z,ue,De)=>{const $e=De*Ao+ue,Be=ya[$e],Ve=e.revealedCells.some(Ot=>Ot.x===ue&&Ot.y===De),ke=e.placedBrix.find(Ot=>Ot.x===ue&&Ot.y===De),Re=ke?Md.find(Ot=>Ot.id===ke.brixId):null,tt=ble(Be),Nr=x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-primary",children:tt}),x.jsx("p",{className:"text-sm text-secondary",children:Ve?"Revealed":"Foggy"}),Re&&x.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[x.jsxs("p",{className:"font-semibold text-accent-dark",children:[Re.name," ",Re.asset]}),x.jsxs("p",{className:"text-xs text-secondary italic",children:['"',Re.financialTip,'"']})]})]});Q({visible:!0,content:Nr,x:z.clientX,y:z.clientY})},Yo=()=>{Q(null)},xi=z=>{const ue=z?Ao:In,De=z?0:cn.x,$e=z?0:cn.y,Be=[];for(let Ve=0;Ve<ue;Ve++)for(let ke=0;ke<ue;ke++){const Re=De+ke,tt=$e+Ve;if(Re<0||Re>=Ao||tt<0||tt>=fA){Be.push(x.jsx("div",{className:"bg-gray-800"},`${ke}-${Ve}`));continue}const Nr=tt*Ao+Re;let Ot=ya[Nr];const An=(e.clearedCells||[]).some(en=>en.x===Re&&en.y===tt);An&&(Ot="L");const Mr=e.revealedCells.some(en=>en.x===Re&&en.y===tt),dn=e.placedBrix.find(en=>en.x===Re&&en.y===tt),Kn=dn?Md.find(en=>en.id===dn.brixId):null;"LFMSEXHBDIPGN".includes(ya[Nr]);const ze=Ot==="W"||Ot==="D",Dn=Mr&&(Ot==="L"||An)&&!dn&&N,Jr=Re===9&&tt===17&&!z?"tutorial-place-cell":void 0;Be.push(x.jsxs("div",{id:Jr,onClick:()=>yi(Re,tt),onMouseEnter:en=>vi(en,Re,tt),onMouseLeave:Yo,className:`w-full h-full relative transition-all aspect-square ${Dn?"cursor-pointer ring-2 ring-accent ring-inset z-10":""}`,children:[Ele(Ot),Kn&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-2xl md:text-4xl pointer-events-none drop-shadow-lg",children:Kn.asset}),!Mr&&!ze&&x.jsx(mle,{}),Dn&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-accent/20",children:x.jsx("div",{className:"w-4 h-4 bg-accent/50 rounded-full animate-pulse"})})]},`${ke}-${Ve}`))}return x.jsx("div",{id:z&&gi?"full-map-view-step":void 0,role:"grid","aria-label":"Captain's Island Map",className:"grid gap-0 bg-background rounded-lg shadow-inner w-full border-4 border-primary/20 overflow-hidden aspect-square",style:{gridTemplateColumns:`repeat(${ue}, minmax(0, 1fr))`},children:Be})};return x.jsxs("div",{className:"p-4 flex flex-col h-full bg-background",children:[Te.isActive&&x.jsx(XD,{targetId:ls[Te.step||0].targetId,title:ls[Te.step||0].title,text:ls[Te.step||0].text,step:Te.step||0,totalSteps:ls.length,onNext:Ht,onSkip:zn,isVoiceOverEnabled:e.isVoiceOverEnabled??!0,advancesBy:ls[Te.step||0].advancesBy}),se&&x.jsx(va,{isOpen:!!se,onClose:()=>le(null),title:`Clear the ${se.type}`,children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-secondary mb-4",children:["It'll cost ye ",x.jsx("span",{className:"font-bold text-primary",children:se.cost})," Doubloons to clear this tile. Proceed?"]}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsx("button",{onClick:()=>le(null),className:"font-bold py-2 px-6 rounded-lg hover:bg-gray-100 text-secondary",children:"Nay"}),x.jsx("button",{onClick:kr,className:"bg-accent text-white font-bold py-2 px-8 rounded-lg shadow-lg hover:bg-accent-dark",children:"Aye!"})]})]})}),be&&be.visible&&x.jsx("div",{className:"fixed bg-card/90 backdrop-blur-sm p-3 rounded-lg shadow-lg z-[60] pointer-events-none transition-opacity duration-200",style:{top:be.y+10,left:be.x+10,maxWidth:"200px"},children:be.content}),x.jsx(va,{isOpen:g,onClose:()=>y(!1),title:"Brix & Pieces Shop",children:x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-[60vh] overflow-y-auto p-1",children:Md.map(z=>x.jsxs("div",{id:z.id==="shelter_1"?"tutorial-shop-item":void 0,onClick:()=>no(z),className:"bg-background p-3 rounded-xl text-center cursor-pointer shadow-soft-inset hover:ring-2 ring-accent",children:[x.jsx("p",{className:"text-4xl",children:z.asset}),x.jsx("p",{className:"font-semibold text-sm mt-1",children:z.name}),x.jsxs("p",{className:"text-xs text-secondary flex items-center justify-center gap-1",children:[z.cost.toLocaleString()," ",x.jsx(dA,{})]})]},z.id))})}),x.jsx(va,{isOpen:w,onClose:()=>C(!1),title:"Captain's Cargo",children:Yr.length===0&&(e.specialItems||[]).length===0?x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-secondary mb-4",children:"Yer cargo hold is empty, Captain!"}),x.jsx("p",{className:"text-sm text-secondary",children:"Visit the shop to buy components for yer island!"})]}):x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-secondary mb-4 text-center",children:N?"Click on cleared land to place yer component!":"Select a component to place on yer island:"}),x.jsx("div",{className:"grid grid-cols-3 gap-3",children:Yr.map(z=>x.jsxs("div",{id:z.id==="shelter_1"?"tutorial-cargo-item":void 0,onClick:()=>{R(z.id),C(!1)},className:"bg-background p-3 rounded-xl text-center cursor-pointer shadow-soft-inset hover:ring-2 ring-accent transition-all",children:[x.jsx("p",{className:"text-4xl",children:z.asset}),x.jsx("p",{className:"font-semibold text-sm mt-1",children:z.name}),x.jsxs("p",{className:"text-xs text-secondary",children:["Qty: ",z.quantity]}),x.jsxs("p",{className:"text-xs text-secondary mt-1 italic",children:['"',z.financialTip,'"']})]},z.id))}),e.specialItems&&e.specialItems.length>0&&x.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-background",children:[x.jsx("h3",{className:"font-bold text-center text-primary",children:"Special Items"}),x.jsx("div",{className:"flex justify-center gap-4 mt-2",children:e.specialItems.map((z,ue)=>x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("span",{className:"text-3xl",children:"T"}),x.jsx("p",{className:"text-xs font-semibold",children:z})]},ue))})]})]})}),x.jsx(va,{isOpen:T,onClose:()=>_(!1),title:ye?.title||"Quest",children:ye&&x.jsxs("div",{children:[U!==null&&he&&x.jsxs("div",{className:"text-center my-2 p-2 bg-accent/10 rounded-lg border border-accent/20",children:[x.jsx("p",{className:"font-bold text-xs uppercase text-accent-dark",children:he==="reading"?"Time to Ponder":"Time to Answer!"}),x.jsx("p",{className:"text-3xl font-bold text-primary",children:U})]}),x.jsxs("p",{className:"text-secondary mb-4 italic text-center",children:['"',ye.description,'"']}),O&&x.jsx("p",{className:"my-4 text-center font-semibold text-accent-dark animate-fade-in",children:O}),x.jsxs("div",{className:`${he==="reading"?"opacity-50 pointer-events-none":""}`,children:[ye.type==="riddle"&&ye.data.question&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-center my-4 whitespace-pre-line",children:['"',ye.data.question,'"']}),(ye.data.options||[]).map((z,ue)=>x.jsx("button",{onClick:()=>io(z),className:"w-full bg-background text-primary font-semibold p-3 rounded-lg text-center hover:bg-background/80",children:z},ue))]}),ye.type==="decision"&&ye.data.scenario&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-lg font-semibold text-center my-4",children:['"',ye.data.scenario,'"']}),(ye.data.choices||[]).map((z,ue)=>x.jsx("button",{onClick:()=>io(z),className:"w-full bg-background text-primary font-semibold p-3 rounded-lg text-left hover:bg-background/80",children:z.text},ue))]}),ye.type==="riddle_challenge"&&e.activeMinigameState&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-sm text-center font-bold",children:["Riddle ",e.activeMinigameState.progress+1," of ",ye.data.riddles.length]}),x.jsxs("p",{className:"text-lg font-semibold text-center my-4",children:['"',ye.data.riddles[e.activeMinigameState.progress].question,'"']}),(ye.data.riddles[e.activeMinigameState.progress].options||[]).map((z,ue)=>x.jsx("button",{onClick:()=>io(z),className:"w-full bg-background text-primary font-semibold p-3 rounded-lg text-center hover:bg-background/80",children:z},ue))]}),ye.type==="hangman"&&e.activeMinigameState?.type==="hangman"&&(()=>{const z=e.activeMinigameState;return x.jsxs("div",{className:"text-center",children:[x.jsx(Tle,{wrongGuesses:z.hangman.wrongGuesses}),x.jsxs("p",{className:"text-sm text-center font-bold text-primary my-2",children:["Word ",z.progress+1," of ",ye.data.words.length]}),x.jsx("div",{className:"my-4 tracking-[0.5em] text-3xl font-bold text-center text-primary",children:ye.data.words[z.progress].split("").map((ue,De)=>x.jsx("span",{className:"inline-block w-8 border-b-4 border-primary/50",children:z.hangman.guessedLetters.includes(ue)?ue:""},De))}),x.jsxs("div",{className:"min-h-[4rem] flex items-center justify-center flex-col",children:[Z&&x.jsxs("p",{className:"text-sm text-secondary italic mb-2 p-2 bg-background rounded-md",children:['Hint: "',Z,'"']}),x.jsxs("button",{onClick:Gs,disabled:Ge||z.hangman.hintUsed||t<pt,className:"text-sm bg-accent/20 text-accent-dark font-bold py-2 px-4 rounded-full mb-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 group",children:["",Ge?"Thinking...":z.hangman.hintUsed?"Hint Used":`Get Hint (-${pt})`]})]}),x.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-center mt-2",children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(ue=>x.jsx("button",{onClick:()=>dl(ue),disabled:z.hangman.guessedLetters.includes(ue),className:"w-8 h-8 font-bold bg-background rounded disabled:bg-gray-300 disabled:text-gray-500 hover:bg-background/80 transition-colors",children:ue},ue))})]})})()]})]})}),x.jsx(va,{isOpen:k,onClose:()=>M(!1),title:"Captain's Log",children:x.jsxs("div",{className:"max-h-[60vh] overflow-y-auto p-2 space-y-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-primary text-lg mb-2 sticky top-0 bg-card py-1",children:"Active Quests"}),e.quests.filter(z=>!z.isCompleted).length>0?e.quests.filter(z=>!z.isCompleted).map(z=>x.jsxs("div",{className:"mb-2 p-3 bg-background rounded-lg shadow-sm",children:[x.jsx("p",{className:"font-bold text-primary",children:z.title}),x.jsxs("p",{className:"text-sm text-secondary italic",children:['"',z.description,'"']})]},z.id)):x.jsx("p",{className:"text-sm text-secondary p-3 bg-background rounded-lg",children:"No active quests. Time to find a new adventure!"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-primary text-lg mb-2 sticky top-0 bg-card py-1",children:"Completed Quests"}),e.quests.filter(z=>z.isCompleted).length>0?e.quests.filter(z=>z.isCompleted).map(z=>x.jsx("div",{className:"mb-2 p-3 bg-green-100/70 rounded-lg opacity-80",children:x.jsx("p",{className:"font-bold text-green-800 line-through",children:z.title})},z.id)):x.jsx("p",{className:"text-sm text-secondary p-3 bg-background rounded-lg",children:"No quests completed yet."})]})]})}),x.jsx(va,{isOpen:I,onClose:()=>A(!1),title:"Treasure Map",children:xi(!0)}),x.jsxs("div",{className:"flex-shrink-0",children:[x.jsxs("header",{id:"pirates-legacy-header",className:"flex justify-between items-center mb-4 z-10 relative",children:[x.jsx("div",{className:"flex-1",children:x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Pirate's Legacy"})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>n(z=>({...z,isVoiceOverEnabled:!z.isVoiceOverEnabled})),className:"p-2 rounded-full bg-card shadow-card hover:bg-white-soft text-primary",children:x.jsx(Sle,{enabled:e.isVoiceOverEnabled??!0})}),x.jsx("button",{onClick:()=>A(!0),className:"p-2 rounded-full bg-card shadow-card hover:bg-white-soft",children:x.jsx(wle,{className:"w-8 h-8 text-primary"})})]})]}),x.jsxs("p",{className:"text-secondary -mt-4 mb-4",children:["Captain ",a,"'s Treasure Island"]}),x.jsx("div",{className:"bg-card p-2 rounded-2xl shadow-card mb-4",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{id:"tutorial-doubloons",className:"font-bold text-xl text-primary flex items-center gap-2 pl-2",children:[x.jsx(dA,{}),x.jsx("span",{children:t.toLocaleString()})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>M(!0),className:"bg-secondary/20 text-secondary-dark font-bold py-3 px-4 rounded-xl flex items-center gap-2 hover:bg-secondary/30",children:" Log"}),x.jsxs("button",{id:"tutorial-cargo-button",onClick:()=>C(!0),className:"bg-secondary/20 text-secondary-dark font-bold py-3 px-4 rounded-xl flex items-center gap-2 hover:bg-secondary/30",children:[x.jsx(yle,{})," Cargo"]}),x.jsxs("button",{id:"tutorial-shop-button",onClick:()=>y(!0),className:"bg-accent text-white font-bold py-3 px-4 rounded-xl flex items-center gap-2 hover:bg-accent-dark",children:[x.jsx(vle,{})," Shop"]})]})]})}),ye?x.jsx("div",{onClick:()=>Rn(ye),className:"bg-accent/10 border-2 border-accent/20 p-3 rounded-xl text-center mb-4 cursor-pointer hover:bg-accent/20",children:x.jsxs("p",{className:"font-bold text-sm text-accent-dark",children:["New Quest Available: ",x.jsx("span",{className:"underline",children:ye.title})]})}):x.jsx("div",{className:"mb-4",children:x.jsx("button",{id:"tutorial-quest-button",onClick:Ko,disabled:W||!!de||(te?.count??0)>=Oe,className:"w-full bg-accent text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center gap-2 hover:bg-accent-dark disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:W?"Seeking adventure...":de?`Next quest in ${de}`:(te?.count??0)>=Oe?`Daily quest limit reached (${Oe}/${Oe})`:" Find a Quest"})})]}),x.jsxs("div",{className:"flex-grow flex items-center justify-center relative min-h-0",children:[x.jsx("div",{className:"w-full h-full max-w-full max-h-full",children:xi(gi)}),x.jsx("button",{onClick:()=>o("game"),className:"absolute bottom-2 right-2 bg-primary text-white rounded-full p-3 shadow-lg transform hover:scale-110 transition-transform","aria-label":"Ask the Genie",children:x.jsx("span",{className:"text-2xl",children:""})})]})]})},Ile=({history:t,onSendMessage:e,onCancel:n,userName:r,isLoading:i})=>{const[o,a]=b.useState(""),u=b.useRef(null),c=()=>{u.current?.scrollIntoView({behavior:"smooth"})};b.useEffect(c,[t,i]);const f=()=>{o.trim()&&!i&&(e(o),a(""))},h=g=>{g.key==="Enter"&&f()};return x.jsxs("div",{className:"h-full flex flex-col bg-background",children:[x.jsxs("header",{className:"p-4 bg-card shadow-sm flex items-center justify-between z-10",children:[x.jsxs("div",{className:"text-center flex-grow",children:[x.jsx("h1",{className:"text-xl font-bold text-primary",children:"Kai"}),x.jsx("p",{className:"text-xs text-secondary",children:"Your AI Financial Assistant"})]}),x.jsx("button",{onClick:n,className:"text-primary font-bold text-lg",children:""})]}),x.jsxs("main",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:[t.map((g,y)=>x.jsxs("div",{className:`flex items-end gap-2 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="model"&&x.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs flex-shrink-0",children:"AI"}),x.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${g.role==="user"?"bg-accent text-white rounded-br-lg":"bg-card text-primary rounded-bl-lg"}`,children:x.jsx("p",{className:"whitespace-pre-wrap",children:g.content})})]},y)),i&&t[t.length-1]?.role!=="model"&&x.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs flex-shrink-0",children:"AI"}),x.jsx("div",{className:"max-w-xs md:max-w-md p-3 rounded-2xl bg-card text-primary rounded-bl-lg",children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse"}),x.jsx("span",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),x.jsx("span",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})]}),x.jsx("div",{ref:u})]}),x.jsx("footer",{className:"p-4 bg-card/80 backdrop-blur-sm border-t border-light-shadow",children:x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"text",value:o,onChange:g=>a(g.target.value),onKeyDown:h,placeholder:"Ask Kai anything...",className:"flex-grow w-full px-4 py-3 bg-background border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none",disabled:i}),x.jsx("button",{onClick:f,disabled:i||!o.trim(),className:"bg-primary text-white p-3 rounded-full shadow-lg hover:bg-primary/90 disabled:bg-primary/50 disabled:cursor-not-allowed transform hover:scale-105 transition-all","aria-label":"Send message",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:x.jsx("path",{d:"M3.105 2.289a.75.75 0 0 0-.826.95l1.414 4.949a.75.75 0 0 0 .95.826L11.25 9.25v1.5L4.643 12.01a.75.75 0 0 0-.826.95l1.414 4.949a.75.75 0 0 0 .95.826L16.25 15.25a.75.75 0 0 0 0-1.414L3.105 2.289Z"})})})]})})]})},Ale={USD:"$",EUR:"",GBP:"",INR:"",JPY:""},Ple=({userProfile:t,goals:e,onNavigate:n,onPrepareExpense:r,addNotification:i})=>{const[o,a]=b.useState(""),[u,c]=b.useState(""),[f,h]=b.useState(!1),[g,y]=b.useState(null),w=t?Ale[t.currency]:"$",C="w-full px-4 py-3 bg-card border-none rounded-xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",T=b.useCallback(async()=>{if(!o||!u||!t){i("Please fill in both amount and category.","warning");return}if(f||g)return;h(!0);const A=await UG(parseFloat(o),u,t,e);y(A),h(!1)},[o,u,t,e,i,f,g]);b.useEffect(()=>{const A=()=>{if(!t||!o||!u)return;const M=parseFloat(o);if(isNaN(M)||M<=0)return;const N=u.toLowerCase().trim();let R=!1;["hotel","subway"].some(O=>N.includes(O))&&(R=!0),N.includes("general")&&M>100&&(R=!0),R&&T()},k=setTimeout(()=>{A()},800);return()=>{clearTimeout(k)}},[o,u,t,T]);const _=()=>{i("Great choice! Every mindful decision counts.","success"),n(ee.Home)},I=()=>{r({amount:o,category:u})};return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-2",children:"Mindful Spend Check"}),x.jsx("p",{className:"text-secondary text-center mb-8",children:"A quick pause before you purchase."}),g?x.jsxs("div",{className:"text-center p-4 bg-card rounded-2xl shadow-card animate-fade-in",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"Kai's Nudge..."}),x.jsxs("p",{className:"text-secondary text-xl italic my-6",children:['"',g,'"']}),x.jsxs("div",{className:"flex flex-col space-y-3 mt-8",children:[x.jsx("button",{onClick:I,className:"bg-primary text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-primary/90",children:"Log this Expense"}),x.jsx("button",{onClick:_,className:"font-bold py-3 px-6 rounded-xl hover:bg-gray-100 text-secondary",children:"I'll reconsider"})]})]}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:x.jsx("span",{className:"text-gray-500 sm:text-lg",children:w})}),x.jsx("input",{type:"number",id:"amount",value:o,onChange:A=>a(A.target.value),className:`${C} pl-8`,placeholder:"0.00",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-secondary mb-1 ml-2",children:"Category"}),x.jsx("input",{type:"text",id:"category",value:u,onChange:A=>c(A.target.value),className:C,placeholder:"e.g., Hotel, Groceries, Subway",required:!0})]}),x.jsxs("div",{className:"pt-4",children:[x.jsx("button",{onClick:T,disabled:f,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-primary/90 disabled:bg-primary/50 disabled:cursor-not-allowed transform hover:-translate-y-1 transition-all",children:f?"Thinking...":"Get Insight"}),x.jsx("button",{onClick:()=>n(ee.Home),className:"w-full text-secondary font-bold py-3 px-5 rounded-xl hover:bg-gray-100 mt-2",children:"Cancel"})]})]}),x.jsx("style",{children:`
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},kle=({onBack:t})=>x.jsxs("div",{className:"p-4 pt-8",children:[x.jsxs("div",{className:"flex items-center mb-8 relative justify-center",children:[x.jsx("button",{onClick:t,className:"absolute left-0 text-primary bg-card p-2 rounded-full shadow-card","aria-label":"Go back",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),x.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Privacy Policy"})]}),x.jsxs("div",{className:"space-y-6 text-secondary leading-relaxed",children:[x.jsxs("p",{className:"text-sm text-center italic",children:["Last updated: ",new Date().toLocaleDateString()]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"Our Commitment to Your Privacy"}),x.jsx("p",{children:"LifeLens is designed from the ground up to be a private, personal space for you. We believe you should have full control over your data. This policy explains what data we handle and how we protect it."})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"1. Data Storage: It's All on Your Device"}),x.jsx("p",{children:"All the data you enter into LifeLensincluding your expenses, moods, notes, and goalsis stored exclusively in your browser's local storage. This means:"}),x.jsxs("ul",{className:"list-disc list-inside pl-4 mt-2 space-y-1",children:[x.jsxs("li",{children:["Your data ",x.jsx("span",{className:"font-bold",children:"never leaves your device"}),"."]}),x.jsx("li",{children:"We do not have a central server that collects or stores your personal financial information."}),x.jsx("li",{children:"If you clear your browser data or use a different device, your information will not be there."})]})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"2. AI-Powered Insights (Google Gemini)"}),x.jsx("p",{children:"To provide you with personalized insights, tips, and game content, we send specific, non-identifiable data to the Google Gemini API. Here's how that works:"}),x.jsxs("ul",{className:"list-disc list-inside pl-4 mt-2 space-y-1",children:[x.jsxs("li",{children:["We ",x.jsx("span",{className:"font-bold",children:"do not send your name, age, or phone number"})," with these requests."]}),x.jsx("li",{children:'For example, when generating a "Weekly Insight," we might send a list of recent expense amounts and categories, but not your entire financial history.'}),x.jsx("li",{children:"This data is used by Google to generate a response for you and is governed by Google's privacy policy. The data is not used to identify you."})]})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"3. SMS Data and Security"}),x.jsxs("p",{children:["LifeLens ",x.jsx("span",{className:"font-bold",children:"cannot and does not"})," automatically read your SMS messages. This is a critical security feature of modern web browsers that we fully support."]}),x.jsxs("p",{className:"mt-2",children:['The "Import from SMS" feature requires you to ',x.jsx("span",{className:"font-bold",children:"manually copy and paste"})," the text of a single message into the app. This text is then sent to the AI for one-time analysis and is not stored or logged by us. You are always in control."]})]}),x.jsxs("div",{className:"bg-card p-4 rounded-2xl shadow-card",children:[x.jsx("h2",{className:"text-lg font-bold text-primary mb-2",children:"4. Your Control"}),x.jsx("p",{children:"You have the ultimate control over your data. You can delete any entry within the app, and you can clear all data at any time by clearing your browser's site data for LifeLens."})]})]})]}),Nle=({onNavigate:t,onPrepareExpense:e,onPrepareIncome:n,addNotification:r,onAnalysisComplete:i,isTutorialActive:o})=>{const[a,u]=b.useState(""),[c,f]=b.useState(!1),[h,g]=b.useState(!1),[y,w]=b.useState(null),C="Your SB A/c *8889 Debited for Rs.46.00 on 04-09-2025 11:57:33 by GBM Avl Bal Rs.49586.64 -Union Bank of India",T=()=>{u(C),o&&i()},_=async()=>{if(!a.trim()){r("Please paste an SMS message first.","warning");return}if(f(!0),w(null),g(!1),o){setTimeout(()=>{const N={type:"expense",amount:46,category:"General",purpose:"GBM Transaction"};w({...N,amount:N.amount.toString()}),r("SMS analyzed successfully!","success"),f(!1),i()},1200);return}const M=await RG(a);f(!1),M?(w({...M,amount:M.amount.toString()}),r("SMS analyzed successfully!","success")):(r("AI analysis failed. Please enter the details manually.","error"),g(!0),w({type:"expense",amount:"",category:"",purpose:""}))},I=()=>{if(y){if(!y.amount||!y.category||!y.purpose){r("Please fill all fields.","warning");return}y.type==="expense"?e({amount:y.amount,category:y.category,purpose:y.purpose}):n({amount:y.amount,source:y.purpose})}},A=(M,N)=>{w(R=>R?{...R,[M]:N}:null)},k=(M,N)=>x.jsxs("div",{id:"tutorial-sms-results-form",className:"bg-card p-4 rounded-2xl shadow-card animate-fade-in space-y-4 border-2 border-accent/20",children:[x.jsx("h2",{className:"text-lg font-bold text-primary text-center",children:M}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-secondary ml-2",children:"Transaction Type"}),x.jsxs("select",{value:y?.type,onChange:R=>A("type",R.target.value),className:"w-full mt-1 px-3 py-2 bg-white rounded-lg border focus:ring-accent focus:border-accent",children:[x.jsx("option",{value:"expense",children:"Expense"}),x.jsx("option",{value:"income",children:"Income"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-secondary ml-2",children:"Amount"}),x.jsx("input",{type:"number",value:y?.amount,onChange:R=>A("amount",R.target.value),className:"w-full mt-1 px-3 py-2 bg-white rounded-lg border",placeholder:"e.g., 46.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-secondary ml-2",children:"Category"}),x.jsx("input",{type:"text",value:y?.category,onChange:R=>A("category",R.target.value),className:"w-full mt-1 px-3 py-2 bg-white rounded-lg border",placeholder:"e.g., Food, Shopping"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-secondary ml-2",children:y?.type==="expense"?"Purpose / Merchant":"Source"}),x.jsx("input",{type:"text",value:y?.purpose,onChange:R=>A("purpose",R.target.value),className:"w-full mt-1 px-3 py-2 bg-white rounded-lg border",placeholder:"e.g., Starbucks"})]}),x.jsx("button",{id:"tutorial-sms-continue-button",onClick:I,className:"w-full bg-accent text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-accent-dark",children:N})]});return x.jsxs("div",{className:"p-4 pt-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-primary text-center mb-2",children:"Import from SMS"}),x.jsx("p",{className:"text-secondary text-center mb-6",children:"Paste a transaction SMS to quickly log an expense."}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("textarea",{id:"tutorial-sms-textarea",value:a,onChange:M=>u(M.target.value),className:"w-full h-32 p-4 bg-card border-none rounded-2xl shadow-soft-inset focus:ring-2 focus:ring-accent focus:outline-none transition-shadow",placeholder:"Paste your transaction message here...",readOnly:c||y!==null}),!a&&x.jsx("button",{id:"tutorial-sms-example-button",onClick:T,className:"text-xs text-secondary hover:text-primary underline mt-2",children:"Show an example"})]}),h||y?k(h?"Manual Entry":"Confirm Details",`Continue to Log ${y?.type||"Transaction"}`):x.jsx("button",{id:"tutorial-sms-analyze-button",onClick:_,disabled:c,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-primary/90 disabled:bg-primary/50 disabled:cursor-not-allowed",children:c?"Analyzing...":"Analyze Message"}),x.jsx("button",{onClick:()=>t(ee.Home),className:"w-full text-secondary font-bold py-3 px-5 rounded-xl hover:bg-gray-100",children:"Cancel"})]}),x.jsx("style",{children:`
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},Mle=[{id:ws.FIRST_WEEK_STREAK,name:"First Week Streak",description:"Maintain a 7-day streak.",unlocked:!1,date:null},{id:ws.MINDFUL_SPENDER,name:"Mindful Spender",description:"Log 5 expenses in a single day.",unlocked:!1,date:null},{id:ws.MOOD_MASTER,name:"Mood Master",description:"Log your mood for 7 consecutive days.",unlocked:!1,date:null}],Rle={"app-welcome":{gen_alpha:{title:"What's up! ",text:"I'm Kai, ur personal guide. I'm about to give you the ultimate tour of this app. Bet."},gen_z:{title:"Welcome to LifeLens!",text:"I'm Kai, your personal guide. Think of me as the friendly ghost in the financial machine. Let's get this bread."},default:{title:"Welcome to LifeLens!",text:"I'm Kai, your personal guide. Let me show you around your new dashboard for financial and emotional wellness."}},"app-summary":{gen_alpha:{title:"The Deets ",text:"This card shows ur 7-day summary of income, expenses, and savings. It's giving... data."},gen_z:{title:"Your Financial Vibe Check",text:"This is your 7-day summary. A quick look at where your money's been. No judgment, just facts."},default:{title:"Your 7-Day Summary",text:"This card gives you a quick overview of your recent income, expenses, and savings. It's your financial pulse."}},"app-vault":{gen_alpha:{title:"The Vault ",text:"Here you can lock up a goal with a message to ur future self. It's a whole main character moment."},gen_z:{title:"The Aevum Vault",text:"This is a time capsule for your goals. Write a message to your future self and open it when you succeed. It's a glow-up thing."},default:{title:"The Aevum Vault",text:"This is a special feature where you can seal goals with a message to your future self, unlocking it only when you succeed."}},"app-log":{gen_alpha:{title:"Log Ur Life ",text:"This is where the magic happens. Log expenses, income, and moods here. Lowkey, the more you log, the smarter I get."},gen_z:{title:"The Logging Hub",text:"The main event. Use these buttons to log expenses, income, and moods. Consistency is key to unlocking the real tea."},default:{title:"Log Your Activities",text:"The heart of LifeLens is here. Use these buttons to log expenses, income, and moods. Consistency unlocks powerful insights!"}},"app-chat":{gen_alpha:{title:"Slide into my DMs ",text:"Got a question? Need the tea? Tap my icon anytime to chat. I got you."},gen_z:{title:"Hit Me Up",text:"Have a question or need advice? Tap my icon anytime for a chat. I'm here to help you navigate the chaos."},default:{title:"Chat With Me!",text:"Have a question or need advice? Tap my icon anytime to chat. I'm here to help you on your journey."}},"app-to-compass":{gen_alpha:{title:"To the Compass! ",text:"Aight, next stop: the Inner Compass. It's where you'll find the secret sauce. Tap the Compass icon."},gen_z:{title:"Next Up: Inner Compass",text:"Let's check out your Inner Compass. This is where you connect the dots. Tap the Compass icon to continue."},default:{title:"Discover Your Compass",text:"Now, let's explore your Inner Compass. This is where the magic happens. Tap the Compass icon to continue."}},"app-compass-header":{gen_alpha:{title:"Map Ur Feels ",text:"This screen helps you see the link between ur feelings and ur spending. It's deep, fr."},gen_z:{title:"Map Your Inner World",text:"This screen helps you understand the connection between your feelings and your spending habits. It's the 'why' behind the 'buy'."},default:{title:"Map Your Inner World",text:"This screen helps you understand the connection between your feelings and your spending habits."}},"app-compass-mood":{gen_alpha:{title:"Drop a Mood ",text:"Start by logging ur mood. Soon you'll see how your vibes affect your wallet. Sheesh."},gen_z:{title:"Track Your Mood",text:"Start by logging how you feel. Over time, you'll see how your emotions influence your financial choices. It's self-care."},default:{title:"Track Your Mood",text:"Start by logging how you feel. Over time, you'll see how your emotions influence your financial choices."}},"app-compass-patterns":{gen_alpha:{title:"Secret Patterns ",text:"Add more data and I'll spill the tea on your habits right here. It's gonna be iconic."},gen_z:{title:"Unlock Secret Patterns",text:"As you add more data, I'll analyze it and reveal interesting patterns about your habits right here. The plot thickens."},default:{title:"Unlock Secret Patterns",text:"As you add more data, I'll analyze it and reveal interesting patterns about your habits right here."}},"app-to-island":{gen_alpha:{title:"To the Island! ",text:"Last stop! Your real-world money moves help you build a whole island. It's a vibe. Tap the Island icon!"},gen_z:{title:"Your Financial Legacy",text:"Finally, let's visit your island. Your real-world financial journey powers a game where you build a legacy. Tap the Island icon!"},default:{title:"Your Financial Legacy",text:"Finally, let's visit your island. Your real-world financial journey powers a game where you build a legacy. Tap the Island icon!"}},"app-island-map":{gen_alpha:{title:"A New World ",text:"This is your island, but it's all foggy. Complete quests to clear it up. Let's get this started."},gen_z:{title:"A World of Possibility",text:"This is your island, shrouded in fog. Completing quests will reveal it piece by piece. Let's focus on your start."},default:{title:"A World of Possibility",text:"This is your island, shrouded in fog. Completing quests will reveal it piece by piece. Let's focus on your start."}},"app-island-welcome":{gen_alpha:{title:"Welcome to Ur Island! ",text:"Every time you save or hit a goal, you get to build up your paradise. The game tutorial starts now. GLHF!"},gen_z:{title:"Welcome to Your Island!",text:"Every saving and goal you achieve helps you build your paradise. A more detailed game tutorial will now begin. Enjoy!"},default:{title:"Welcome to Your Island!",text:"Every saving and goal you achieve helps you build your paradise. A more detailed game tutorial will now begin. Enjoy!"}},"sms-paste":{gen_alpha:{title:"Spill the Tea ",text:"Ayo! Drop that SMS receipt here. Let's see the damage. "},gen_z:{title:"Decode the receipt",text:"Alright, paste the transaction text here and let's see what we're working with."},default:{title:"Paste Your Message",text:"Welcome! To start, please copy and paste your transaction message into this box."}},"sms-example":{gen_alpha:{title:"Try a Demo ",text:"No receipt? No cap. Tap this to see a fake one. It's like a freebie to test the vibes."},gen_z:{title:"Use an Example",text:"Don't have a recent transaction text? No stress. Tap here for a demo message to see how it works."},default:{title:"Use an Example",text:"If you don't have a message handy, you can tap here to use a sample and see how the analysis works."}},"sms-analyze":{gen_alpha:{title:"Magic Button ",text:"Smash this button and my AI brain will do the work. It's kinda goated."},gen_z:{title:"Let the AI Cook",text:"Hit 'Analyze' and let the AI break it all down for you. No cap."},default:{title:"Analyze the Message",text:"Now, tap here. Kai will instantly read the message and extract the key details for you."}},"sms-review":{gen_alpha:{title:"Vibe Check ",text:"Yooo, check it. Is this right? Fix it if my AI brain lagged. "},gen_z:{title:"Review the Details",text:"Here's what the AI found. Give it a vibe check and make any edits if needed."},default:{title:"Confirm the Details",text:"Kai has pre-filled the details. Please review and edit them for accuracy."}},"sms-continue":{gen_alpha:{title:"Log the Bread ",text:"Looks good? Hit continue and make it official. We're so back."},gen_z:{title:"Continue to Log",text:"If everything looks correct, tap here to move to the final logging screen."},default:{title:"Continue to Log",text:"Once you're happy with the details, press continue to add the transaction."}},"sms-prefill":{gen_alpha:{title:"It's All Here! ",text:"See? I put all the info in for you. Now you can add your mood and finish up. Slay."},gen_z:{title:"Pre-filled for You",text:"I've pre-populated the form with the info from your SMS. Just add your mood and save. Easy."},default:{title:"Expense Pre-filled",text:"All the information has been automatically filled in. Now you can add your emotions and save the expense."}}},Dle=t=>t<18?"gen_alpha":t<28?"gen_z":"default",Ole=(t,e)=>{const n=Dle(e),r=Rle[t];return r?r[n]||r.default:{title:"Error",text:"Text not found."}},lu=[{key:"app-welcome",targetId:"tutorial-welcome-header",screen:ee.Home,advancesBy:"next"},{key:"app-summary",targetId:"tutorial-summary-card",screen:ee.Home,advancesBy:"next"},{key:"app-vault",targetId:"tutorial-aevum-vault-card",screen:ee.Home,advancesBy:"next"},{key:"app-log",targetId:"tutorial-log-activity-grid",screen:ee.Home,advancesBy:"next"},{key:"app-chat",targetId:"tutorial-ai-chat-button",screen:ee.Home,advancesBy:"next"},{key:"app-to-compass",targetId:"tutorial-nav-compass",screen:ee.Home,advancesBy:"action"},{key:"app-compass-header",targetId:"tutorial-compass-header",screen:ee.InnerCompass,advancesBy:"next"},{key:"app-compass-mood",targetId:"tutorial-mood-tracker",screen:ee.InnerCompass,advancesBy:"next"},{key:"app-compass-patterns",targetId:"tutorial-secret-pattern",screen:ee.InnerCompass,advancesBy:"next"},{key:"app-to-island",targetId:"tutorial-nav-island",screen:ee.InnerCompass,advancesBy:"action"},{key:"app-island-map",targetId:"full-map-view-step",screen:ee.Game,advancesBy:"next"},{key:"app-island-welcome",targetId:"pirates-legacy-header",screen:ee.Game,advancesBy:"next"}],Bd=[{key:"sms-paste",targetId:"tutorial-sms-textarea",screen:ee.SmsImport,advancesBy:"next"},{key:"sms-example",targetId:"tutorial-sms-example-button",screen:ee.SmsImport,advancesBy:"action"},{key:"sms-analyze",targetId:"tutorial-sms-analyze-button",screen:ee.SmsImport,advancesBy:"action"},{key:"sms-review",targetId:"tutorial-sms-results-form",screen:ee.SmsImport,advancesBy:"next"},{key:"sms-continue",targetId:"tutorial-sms-continue-button",screen:ee.SmsImport,advancesBy:"action"},{key:"sms-prefill",targetId:"tutorial-expense-prefill",screen:ee.AddExpense,advancesBy:"next"}],Lle=(t,e,n)=>{const i=(t==="app"?lu:Bd)[e]?.key;return i?Ole(i,n):{title:"Tutorial Over",text:"Enjoy the app!"}},Vd=(t,e)=>t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),Fle=(t,e)=>{const n=new Date(t);return n.setDate(t.getDate()-1),Vd(n,e)},pA=2,hA=()=>[{x:9,y:18},{x:9,y:17},{x:9,y:16}],Ule=({notification:t,onDismiss:e})=>{const n={success:"bg-green-100 border-green-400 text-green-700",error:"bg-red-100 border-red-400 text-red-700",warning:"bg-yellow-100 border-yellow-400 text-yellow-700",info:"bg-blue-100 border-blue-400 text-blue-700"};return x.jsx("div",{className:`p-4 border-l-4 rounded-r-lg shadow-lg animate-slide-in-out ${n[t.type]}`,children:x.jsx("p",{className:"font-semibold",children:t.message})})},jle=()=>{const[t,e]=b.useState(ee.Welcome),[n,r]=b.useState(!1),[i,o]=on("userProfile",null),[a,u]=on("expenses",[{id:"1",amount:75.5,category:"Food",occasion:"Dinner with friends",emotion:je.Happy,date:new Date(Date.now()-864e5*2),isUseful:!1},{id:"2",amount:120,category:"Shopping",occasion:"New shoes",emotion:je.Stressed,date:new Date(Date.now()-864e5*1),isUseful:!1},{id:"3",amount:15,category:"Transport",occasion:"Commute",emotion:je.Neutral,date:new Date,isUseful:!0},{id:"4",amount:45,category:"Groceries",occasion:"Weekly shop",emotion:je.Neutral,date:new Date,isUseful:!0}]),[c,f]=on("income",[{id:"i1",amount:3500,source:"Salary",date:new Date(Date.now()-864e5*15)},{id:"i2",amount:250,source:"Freelance",date:new Date(Date.now()-864e5*5)}]),[h,g]=on("moods",[{id:"1",mood:je.Happy,date:new Date(Date.now()-864e5*2),reason:"A lovely day out."},{id:"2",mood:je.Stressed,date:new Date(Date.now()-864e5*1),reason:"Work deadline pressure."},{id:"3",mood:je.Excited,date:new Date,reason:"Weekend plans!"}]),[y,w]=on("notes",[]),[C,T]=on("financialGoals",[{id:"g1",name:"Summer Vacation",targetAmount:2e3,savedAmount:350,icon:"",targetDate:"2024-08-31",isNorthStar:!0}]),[_,I]=on("gameState",{spentBrixCoins:0,inventory:[],placedBrix:[],revealedCells:hA(),quests:[],questsCompletedSinceCooldown:0,isVoiceOverEnabled:!0,clearedCells:[]}),[A,k]=on("achievements",Mle),[M,N]=on("appSettings",{notifications:{enabled:!1,time:"19:00"},savingsTarget:{amount:500,period:"monthly"}}),[R,O]=on("aevumVault",null),[j,W]=on("lastLogDate",new Date),[K,G]=on("chatHistory",[]),[Y,ie]=on("hasSeenAppTutorial",!1),[ce,de]=on("hasSeenSmsTutorial",!1),[pe,be]=b.useState(null),[Q,se]=b.useState([]),[le,U]=b.useState(null),[B,he]=b.useState(null),[we,Ae]=b.useState(1),[Te,He]=b.useState(null),[Ue,te]=b.useState(null),[Pe,Oe]=b.useState(null),[Z,ut]=b.useState(!1),[Ge,Dt]=b.useState("general"),[pt,cn]=b.useState(!1),[Kr,gi]=b.useState(""),[Ct,In]=on("activeTutorial",null),[ye,Ht]=on("tutorialStep",0),zn=b.useRef(null),vn=b.useRef(!1),Rn=b.useCallback((oe,fe="info")=>{const Le=Date.now();se(We=>[...We,{id:Le,message:oe,type:fe}]),_.isVoiceOverEnabled&&Oi.speak(oe,i?.age),setTimeout(()=>{se(We=>We.filter(nt=>nt.id!==Le))},4e3)},[_.isVoiceOverEnabled,i?.age]);b.useEffect(()=>{i?(e(ee.Home),i.age&&K.length===0&&G([{role:"model",content:`Welcome back, ${i.name}! I'm Kai. How can I help you today?`,date:new Date}])):e(ee.Welcome),_&&(!_.revealedCells||_.revealedCells.length===0)&&I(oe=>({...oe,revealedCells:hA()})),r(!0)},[]),b.useEffect(()=>(zn.current&&clearTimeout(zn.current),zn.current=setTimeout(()=>{(async()=>{if(!i)return;const fe=new Date,Le=new Date;Le.setDate(fe.getDate()-7);const We=a.filter(Tt=>new Date(Tt.date)>=Le),nt=h.filter(Tt=>new Date(Tt.date)>=Le);if(We.length===0&&nt.length===0){gi("");return}const at=await FG(We,nt,i);gi(at)})()},2e3),()=>{zn.current&&clearTimeout(zn.current)}),[a,h,i]),b.useEffect(()=>{if(Ue)return;const oe=C.find(fe=>fe.savedAmount>=fe.targetAmount);oe&&R&&oe.id===R.goalId&&(te(oe),e(ee.VaultRevealed))},[C,R,Ue]),b.useEffect(()=>{(()=>{let fe=!1;const Le=JSON.parse(JSON.stringify(A)),We=Tt=>{const Yn=Le.find(wi=>wi.id===Tt);return Yn&&!Yn.unlocked?(Yn.unlocked=!0,Yn.date=new Date().toLocaleDateString(),fe=!0,!0):!1};we>=7&&We(ws.FIRST_WEEK_STREAK),a.filter(Tt=>Vd(new Date,new Date(Tt.date))).length>=5&&We(ws.MINDFUL_SPENDER);const at=[...new Set(h.map(Tt=>new Date(Tt.date).toDateString()))].map(Tt=>new Date(Tt));if(at.length>=7){let Tt=0,Yn=new Date;for(let wi=0;wi<7&&at.some(ac=>Vd(Yn,ac));wi++){Tt++;Yn.setDate(Yn.getDate()-1)}Tt>=7&&We(ws.MOOD_MASTER)}fe&&k(Le)})()},[a,h,we,A,k]),b.useEffect(()=>{(async()=>{if(R){const fe=localStorage.getItem("dailyWhisper");let Le=null;fe&&(Le=JSON.parse(fe));const We=new Date().toDateString();if(Le&&Le.date===We)Oe(Le.text);else{const nt=C.find(at=>at.id===R.goalId);if(nt){const at=await OG(nt.name,R.message);Oe(at),localStorage.setItem("dailyWhisper",JSON.stringify({date:We,text:at}))}}}})()},[R,C]),b.useEffect(()=>{if(M.notifications.enabled){const oe=setInterval(()=>{const fe=new Date,Le=`${fe.getHours().toString().padStart(2,"0")}:${fe.getMinutes().toString().padStart(2,"0")}`;if(Le==="00:00"&&(vn.current=!1),Le===M.notifications.time&&!vn.current){vn.current=!0;const We=i?{USD:"$",EUR:"",GBP:"",INR:"",JPY:""}[i.currency]:"$",nt=C.find(at=>at.savedAmount<at.targetAmount);if(nt){const at=`"${nt.name}" is waiting! You've saved ${We}${nt.savedAmount} of ${We}${nt.targetAmount}. You're doing great!`;lA("Your LifeLens Goal Reminder",at)}else lA("LifeLens Reminder","Don't forget to set a new financial goal to keep your journey going!")}},3e4);return()=>clearInterval(oe)}},[M.notifications,C,i]);const Ko=oe=>{o(fe=>fe?{...fe,...oe}:null)},no=b.useCallback(oe=>{N(fe=>({...fe,...oe}))},[N]),kr=b.useCallback(()=>{const oe=new Date;if(!j||!Vd(oe,new Date(j))){let fe;j&&Fle(oe,new Date(j))?fe=we+1:fe=1,Ae(fe),(fe===7||fe===30)&&(cn(!0),setTimeout(()=>cn(!1),6e3)),W(oe)}},[j,we,W,Ae]),yi=oe=>{const fe={name:oe.name,email:oe.email,phone:oe.phone,age:0,currency:"USD",smsEnabled:!1};o(fe),e(ee.Onboarding)},Yr=oe=>{o(oe),G([{role:"model",content:`Hello ${oe.name}! I'm Kai, your personal financial assistant. How can I help you today?`,date:new Date}]),e(ee.Home),Y||(In("app"),Ht(0))},ro=async oe=>{if(Z||!i)return;const fe={role:"user",content:oe,date:new Date},Le=[...K,fe];G(Le),ut(!0);try{const nt={role:"model",content:await VG(i,Ge,K,oe),date:new Date};G(at=>[...at,nt])}catch(We){console.error("Assistant error:",We);const nt={role:"model",content:"Sorry, I'm having trouble connecting. Please try again later.",date:new Date};G(at=>[...at,nt])}finally{ut(!1)}},Gs=b.useCallback(oe=>{pe?(u(fe=>fe.map(Le=>Le.id===pe?{...Le,...oe,date:Le.date}:Le)),be(null)):(u(fe=>[...fe,{...oe,id:Date.now().toString(),date:new Date}]),kr()),e(ee.Home)},[pe,kr,u]),io=b.useCallback(oe=>{f(fe=>[...fe,{...oe,id:Date.now().toString(),date:new Date}]),kr(),e(ee.Home)},[kr,f]),dl=b.useCallback(oe=>{u(fe=>fe.filter(Le=>Le.id!==oe)),be(null),e(ee.Home)},[u]),vi=oe=>{be(oe),e(ee.AddExpense)},Yo=b.useCallback(oe=>{g(fe=>[...fe,{id:Date.now().toString(),...oe,date:new Date}]),kr()},[kr,g]),xi=b.useCallback(oe=>{w(fe=>[...fe,{id:Date.now().toString(),content:oe,date:new Date}]),e(ee.Home)},[w]),z=b.useCallback(oe=>{C.length===0&&!R?(He(oe),e(ee.SetVaultWish)):(T(fe=>[...fe,{...oe,id:Date.now().toString()}]),e(ee.FinancialGoals))},[C,R,T]),ue=async oe=>{if(!Te)return;const fe=Date.now().toString(),Le=await DG(Te.name);O({goalId:fe,message:oe,riddle:Le});const We={...Te,id:fe,isNorthStar:!0};T(nt=>[...nt,We]),He(null),e(ee.FinancialGoals)},De=()=>{He(null),e(ee.AddFinancialGoal)},$e=()=>{Ue&&(T(oe=>oe.filter(fe=>fe.id!==Ue.id)),O(null),localStorage.removeItem("dailyWhisper"),Oe(null)),te(null),e(ee.Home)},Be=oe=>{Ct==="sms"&&Kn(),U(oe),e(ee.AddExpense)},Ve=oe=>{Ct==="sms"&&Kn(),he(oe),e(ee.AddIncome)},ke=()=>{FP.signOut().then(()=>{localStorage.clear(),window.location.reload()}).catch(oe=>{console.error("Logout Error:",oe),localStorage.clear(),window.location.reload()})},Re=b.useMemo(()=>C.reduce((oe,fe)=>oe+fe.savedAmount,0),[C]),tt=b.useMemo(()=>{const oe=Re*pA;return Math.floor(oe-_.spentBrixCoins)},[Re,_.spentBrixCoins]),Nr=b.useCallback(oe=>{const fe=Re*pA;return Math.floor(fe-_.spentBrixCoins)>=oe.cost?(I(We=>{const nt=[...We.inventory],at=nt.find(Tt=>Tt.brixId===oe.id);return at?at.quantity+=1:nt.push({brixId:oe.id,quantity:1}),{...We,spentBrixCoins:We.spentBrixCoins+oe.cost,inventory:nt}}),Rn(`'${oe.name}' added to yer cargo!`,"success"),!0):(Rn("Not enough Doubloons!","error"),!1)},[_,Re,Rn,I]),Ot=b.useCallback((oe,fe,Le)=>{I(We=>{const nt=[...We.inventory],at=nt.find(Tt=>Tt.brixId===oe);if(at&&at.quantity>0){at.quantity-=1;const Tt=nt.filter(wi=>wi.quantity>0),Yn={instanceId:Date.now().toString(),brixId:oe,x:fe,y:Le};return{...We,inventory:Tt,placedBrix:[...We.placedBrix,Yn]}}return We})},[I]),An=oe=>{Dt(oe),e(ee.Chat)},Mr=a.find(oe=>oe.id===pe)||null,dn=b.useCallback(()=>{Ct==="app"&&ie(!0),Ct==="sms"&&de(!0),In(null),Ht(0),Oi.cancel()},[Ct,ie,de,In,Ht]),Kn=b.useCallback(()=>{const oe=Ct==="app"?lu:Bd,fe=ye+1;fe>=oe.length?dn():Ht(fe)},[Ct,ye,dn,Ht]),ze=oe=>{const fe=Ct==="app"?lu:Bd;if(Ct&&ye<fe.length){const Le=fe[ye],We=fe[ye+1];Le.advancesBy==="action"&&We&&We.screen===oe&&Kn()}else oe===ee.SmsImport&&!ce&&!Ct&&(In("sms"),Ht(0));e(oe)},Dn=b.useCallback(()=>{ce||(e(ee.SmsImport),In("sms"),Ht(0))},[ce,In,Ht]);if(!n)return x.jsx("div",{className:"h-full w-full flex items-center justify-center",children:x.jsx("p",{children:"Loading..."})});const $t=()=>{const oe=Ct==="app",fe=oe?lu[ye]:null;switch(t){case ee.Welcome:return x.jsx(ZO,{onNavigate:()=>e(ee.SignUpLogin)});case ee.SignUpLogin:return x.jsx(K4,{onAuthSuccess:yi});case ee.Onboarding:return x.jsx(Y4,{onSaveProfile:Yr});case ee.Home:return x.jsx(Om,{userProfile:i,expenses:a,income:c,onNavigate:e,onNavigateToChat:()=>An("general"),onEditExpense:vi,streak:we,aevumVault:R,dailyWhisper:Pe,totalSaved:Re,showConfetti:pt,weeklyInsight:Kr,savingsTarget:M.savingsTarget});case ee.AddExpense:return x.jsx(GG,{userProfile:i,onSave:Gs,onCancel:()=>{be(null),e(ee.Home)},onDelete:dl,expenseToEdit:Mr,expenses:a,goals:C,addNotification:Rn,pendingData:le,onClearPendingData:()=>U(null)});case ee.AddIncome:return x.jsx(KG,{onSave:io,onCancel:()=>e(ee.Home),userProfile:i,pendingData:B,onClearPendingData:()=>he(null)});case ee.InnerCompass:return x.jsx(Uae,{expenses:a,moods:h,userProfile:i,onSaveMood:Yo});case ee.Notes:return x.jsx(jae,{onSave:xi,onCancel:()=>e(ee.Home)});case ee.Profile:return x.jsx(Wae,{userProfile:i,settings:M,onSettingsChange:no,onProfileChange:Ko,onNavigate:Le=>e(Le),onLogout:ke});case ee.FinancialGoals:return x.jsx(zae,{goals:C,onNavigate:e,userProfile:i});case ee.AddFinancialGoal:return x.jsx(Jae,{onSave:z,onCancel:()=>e(ee.FinancialGoals),userProfile:i,addNotification:Rn});case ee.Achievements:return x.jsx(Xae,{badges:A,onBack:()=>e(ee.Profile)});case ee.AevumVault:return x.jsx(sle,{onSave:xi,onCancel:()=>e(ee.Home)});case ee.SetVaultWish:return x.jsx(ale,{pendingGoalName:Te?.name||"your goal",onSaveWish:ue,onCancel:De,addNotification:Rn});case ee.VaultRevealed:return Ue&&R?x.jsx(lle,{goal:Ue,message:R.message,onDone:$e}):x.jsx(Om,{userProfile:i,expenses:a,income:c,onNavigate:e,onNavigateToChat:()=>An("general"),onEditExpense:vi,streak:we,aevumVault:R,dailyWhisper:Pe,totalSaved:Re,showConfetti:pt,weeklyInsight:Kr,savingsTarget:M.savingsTarget});case ee.Game:return x.jsx(_le,{brixCoins:tt,gameState:_,onUpdateGameState:I,onPurchaseBrix:Nr,onPlaceBrix:Ot,onNavigateToChat:An,userName:i?.name||"Explorer",addNotification:Rn,isAppTutorialRunning:oe,appTutorialStepId:fe?.targetId||null,onGameTutorialComplete:Dn});case ee.Chat:return x.jsx(Ile,{history:K,onSendMessage:ro,onCancel:()=>e(ee.Home),userName:i?.name||"Explorer",isLoading:Z});case ee.SpendingCheck:return x.jsx(Ple,{userProfile:i,goals:C,onNavigate:e,onPrepareExpense:Be,addNotification:Rn});case ee.PrivacyPolicy:return x.jsx(kle,{onBack:()=>e(ee.Profile)});case ee.SmsImport:return x.jsx(Nle,{onNavigate:e,onPrepareExpense:Be,onPrepareIncome:Ve,addNotification:Rn,onAnalysisComplete:Kn,isTutorialActive:Ct==="sms"});default:return x.jsx(Om,{userProfile:i,expenses:a,income:c,onNavigate:e,onNavigateToChat:()=>An("general"),onEditExpense:vi,streak:we,aevumVault:R,dailyWhisper:Pe,totalSaved:Re,showConfetti:pt,weeklyInsight:Kr,savingsTarget:M.savingsTarget})}},Jr=![ee.Welcome,ee.SignUpLogin,ee.Onboarding,ee.SetVaultWish,ee.VaultRevealed,ee.Chat,ee.PrivacyPolicy].includes(t),en=()=>{if(!Ct||!i)return null;const oe=Ct==="app"?lu:Bd;if(ye>=oe.length)return null;const fe=oe[ye];if(fe.screen&&fe.screen!==t)return null;const{title:Le,text:We}=Lle(Ct,ye,i.age);return x.jsx(XD,{targetId:fe.targetId,title:Le,text:We,step:ye,totalSteps:oe.length,onNext:Kn,onSkip:dn,isVoiceOverEnabled:_.isVoiceOverEnabled??!0,advancesBy:fe.advancesBy,userAge:i.age})};return x.jsxs("div",{className:"h-full bg-background font-sans text-primary",children:[en(),x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[100] w-full max-w-sm px-4 space-y-2",children:Q.map(oe=>x.jsx(Ule,{notification:oe,onDismiss:()=>se(fe=>fe.filter(Le=>Le.id!==oe.id))},oe.id))}),x.jsx("style",{children:`
            @keyframes slideInOut {
                0% { transform: translateY(-100%); opacity: 0; }
                15% { transform: translateY(0); opacity: 1; }
                85% { transform: translateY(0); opacity: 1; }
                100% { transform: translateY(-100%); opacity: 0; }
            }
            .animate-slide-in-out {
                animation: slideInOut 4s ease-in-out forwards;
            }
        `}),x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsx("main",{className:"flex-grow overflow-y-auto hide-scrollbar pb-24",children:x.jsx("div",{className:"w-full max-w-2xl mx-auto",children:$t()})}),Jr&&x.jsx(ole,{activeScreen:t,onNavigate:ze})]})]})};XO.createRoot(document.getElementById("root")).render(x.jsx(mA.StrictMode,{children:x.jsx(jle,{})}));
